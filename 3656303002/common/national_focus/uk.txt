### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_INTERNAL_AFFAIRS}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}
### search_filters = {FOCUS_FILTER_POLITICAL_CHARACTER}
### search_filters = {FOCUS_FILTER_MILITARY_CHARACTER}
### search_filters = {FOCUS_FILTER_INTERNATIONAL_TRADE}
### search_filters = {FOCUS_FILTER_HISTORICAL}

focus_tree = {
	id = british_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = ENG
		}
	}

	shortcut = {
		name = ENG_historical_path_shortcut
		target = ENG_steady_as_she_goes
		scroll_wheel_factor = 1.0
		trigger = {
			always = yes
		}
	}

	shortcut = {
		name = ENG_a_change_in_course_path_shortcut
		target = ENG_a_change_in_course
		scroll_wheel_factor = 0.75
		trigger = {
			has_dlc = "Man the Guns"
		}
	}

	shortcut = {
		name = ENG_decolonization_path_shortcut
		target = ENG_revisit_colonial_policy
		scroll_wheel_factor = 0.75
		trigger = {
			has_dlc = "Man the Guns"
		}
	}

	shortcut = {
		name = ENG_colonial_path_shortcut
		target = uk_empire_focus
		scroll_wheel_factor = 1.0
		trigger = {
			always = yes
		}
	}

	shortcut = {
		name = ENG_rearmament_path_shortcut
		target = limited_rearmament_focus
		scroll_wheel_factor = 1.0
	}

	continuous_focus_position = { x = 100 y = 1200 }

	default = no

	focus = {
		id = crypto_bomb_focus
		prerequisite = { focus = limited_rearmament_focus }
		available = {
				has_war_with = GER
				POL = {
					NOT = { is_in_faction_with = GER } #We assume POL will help vs Germany unless they are allied to them
				}
			}
		
		bypass = {
			OR = {
				AND = {
					has_war_with = GER
					POL = {
							is_in_faction_with = GER # If POL is in GER's faction, no help for us
						}
				}
				AND = {
					has_war = yes
					is_in_faction_with = USA
				}
				GER = { exists = no }
			}
		}
		
		icon = GFX_goal_ENG_crypto_bomb_focus
		x = -14
		y = 1
		cost = 8
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 1.0
					uses = 3
					category = decryption_tech
					category = computing_tech
				}
			}
			else = {
				hidden_effect = {
					set_technology = { lar_decryption_bonus_tech = 1 }
				}
				custom_effect_tooltip = lar_decryption_bonus_tt
			}
		}
	}
	
	focus = {
		id = tizard_mission_focus
		available = {				
			has_government = democratic
			any_other_country = {
				has_war_with = ROOT
				NOT = { has_government = democratic }
				num_of_factories > 30
			}
			NOT = {
				has_war_with = USA
			}
			USA = { 
				has_government = ROOT
				has_war = no
				NOT = {
					OR = {
						has_idea = undisturbed_isolation
						has_idea = undisturbed_isolation_lesser
						has_idea = isolation
					}
				}
			}
			
		} 
		prerequisite = { focus = crypto_bomb_focus }
		prerequisite = { focus = radar_focus }
		icon = GFX_goal_ENG_Tizard_Mission
		x = 0
		y = 3
		relative_position_id = crypto_bomb_focus
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_HISTORICAL }	
		completion_reward = {
			USA = {
				country_event = {
					id = britain.1
					hours = 12
				}	
			}
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				add_breakthrough_progress = {
					specialization = specialization_air
					value = 0.75
				}
				add_tech_bonus = {
					name = tizard_mission_focus
					bonus = 0.5 # was 1
					category = light_fighter
				}
				add_tech_bonus = {
					name = tizard_mission_focus
					bonus = 0.5 # was 1
					uses = 1 # was 2
					category = radar_tech
				}
				custom_effect_tooltip =  generic_skip_one_line_tt
				USA = {
					add_breakthrough_progress = {
						specialization = specialization_air
						value = 0.75
					}
					add_tech_bonus = {
						name = tizard_mission_focus
						uses = 1
						bonus = 1
						category = light_fighter
					}
				}
			}
		}
	}
	focus = {
		id = maud_focus
		available = { is_in_faction_with = USA }
		prerequisite = { focus = tizard_mission_focus }
		mutually_exclusive = { focus = ENG_nuke_alone }
		icon = GFX_ENG_MAUD_Committee
		x = 0
		y = 1
		relative_position_id = tizard_mission_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {

			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.75
			}

			add_tech_bonus = {
				name = maud_focus
				bonus = 0.75 # was 1
				uses = 1
				category = nuclear
			}

		}
	}

	focus = {
		id = ENG_nuke_alone
		prerequisite = { focus = royal_ordinance_focus }
		#prerequisite = { focus = ENG_expand_imperial_college }
		mutually_exclusive = { focus = maud_focus }
		available = { 
			NOT = { is_in_faction_with = USA }
			date > 1941.1.1
		}
		icon = GFX_GENERIC_ABomb
		x = 4
		y = 1
		relative_position_id = tizard_mission_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {

			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.25
			}

			add_tech_bonus = {
				name = ENG_nuke_alone
				bonus = 0.5
				uses = 1
				category = nuclear
			}
		}
	}
	
	
	focus = {
		id = limited_rearmament_focus
		icon = GFX_goal_generic_build_tank
		x = -5
		y = 0
		cost = 10
		ai_will_do = {
			base = 1
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = construction_effort_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
			}
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = ENG_limited_rearmament_focus_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = ENG_limited_rearmament_focus_2IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = ENG_limited_rearmament_focus_2IC
			}
		}
	}

	focus = {
		id = general_rearmament_focus
		prerequisite = { focus = limited_rearmament_focus }
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				OR = {
					threat > 0.1
					has_war = yes
					has_idea = ENG_no_further_appeasement_idea
					NOT = { has_government = democratic }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				OR = {
					threat > 0.1
					has_war = yes
					NOT = { has_government = democratic }
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_GBR_big_ben
		x = -5
		y = 1
		relative_position_id = limited_rearmament_focus
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}	
		completion_reward = {
			add_ideas = british_austerity_idea
			if = {
				limit = {
					OR = {
						has_global_flag = his_only
						
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ENG_chiefs_of_staff_committee
		prerequisite = { focus = limited_rearmament_focus }
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				OR = {
					threat > 0.1
					has_war = yes
					has_idea = ENG_no_further_appeasement_idea
					NOT = { has_government = democratic }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				OR = {
					threat > 0.1
					has_war = yes
					NOT = { has_government = democratic }
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_focus_eng_chiefs_of_staff_committee
		x = 8
		y = 1
		relative_position_id = limited_rearmament_focus
		cost = 5
		ai_will_do = {
			base = 1
		}	

		search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_XP }
		completion_reward = {
			army_experience = 10
			navy_experience = 10
			air_experience = 10

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = ENG_chiefs_of_staff_committee_idea
		}
	}

	# focus = {
	# 	id = uk_expand_mi6
	# 	icon = GFX_goal_ENG_Bletchley_Park
	# 	prerequisite = { focus = limited_rearmament_focus }
	# 	available = {
	# 		has_intelligence_agency = yes
	# 	}
	# 	allow_branch = {
	# 		has_dlc = "La Resistance"
	# 	}
	# 	x = -3
	# 	y = 1
	# 	relative_position_id = limited_rearmament_focus
	# 	cost = 8

	# 	available_if_capitulated = yes
	# 	search_filters = {}
	# 	completion_reward = {
	# 		add_ideas = ENG_mi6_idea
	# 	}
	# }
	
	focus = {
		id = shadow_scheme_focus
		prerequisite = { focus = general_rearmament_focus }
		available = {
		}

		continue_if_invalid = yes
		available_if_capitulated = yes
		
		icon = GFX_z_goal_generic_arsenal
		x = 0
		y = 1
		relative_position_id = general_rearmament_focus
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}	
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
			}
			custom_effect_tooltip = shadow_scheme_focus_tt
			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_factory_max_efficiency_factor = 0.1
				tooltip = production_factory_max_efficiency_factor_tt
			}
				
		}
	}

	focus = {
		id = ENG_vickers_experimental_facility_focus 

		prerequisite = { focus = shadow_scheme_focus focus = ENG_an_arsenal_for_the_empire }

		dynamic = yes

		available = {
			126 = {
				is_fully_controlled_by = ROOT
			}
		} 

		icon = GFX_focus_generic_aircraft_production

		x = 1
		y = 2
		
		relative_position_id = shadow_scheme_focus

		cost = 5

		

		search_filters = { FOCUS_FILTER_HISTORICAL }
		completion_reward = {

			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			custom_effect_tooltip = ENG_vickers_experimental_facility_focus_tt
			hidden_effect = {
				IF = {
					limit = { 
						126 = {
							is_fully_controlled_by = ROOT
							air_facility < 1
							land_facility < 1
							naval_facility < 1
							nuclear_facility < 1
						}
					}

					126 = {
						add_building_construction = {
							type = air_facility
							level = 1
							instant_build = yes
							province = 11333 # South London
						}
					}
				}
			}

		}
	}

	focus = {
		id = ENG_expand_the_secret_intelligence_service_focus 

		prerequisite = { focus = limited_rearmament_focus }

		dynamic = yes

		available = {
		} 

		allow_branch = {
			has_dlc = "La Resistance"
		}

		icon = GFX_goal_ENG_Bletchley_Park

		x = -3
		y = 1
		relative_position_id = limited_rearmament_focus

		cost = 10

		

		search_filters = { FOCUS_FILTER_HISTORICAL }
		completion_reward = {

			IF = {
				limit = {
					has_intelligence_agency = no
				}
				create_intelligence_agency = yes
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_ideas = ENG_mi6_ns

		}
	}

	#focus = {
	#	id = ENG_expand_imperial_college_ii
	#	text = extra_tech_slot_2
	#	icon = GFX_focus_research2
	#	prerequisite = { focus = ENG_expand_imperial_chemical_industries }
	#	available = {
	#		num_of_factories > 300
	#		OR = {
	#			threat > 0.5
	#			has_war = yes
	#		}
	#		OR = {
	#			has_completed_focus = ENG_socialist_science_pool
	#			has_completed_focus = uk_wartime_measures
	#			has_completed_focus = ENG_restore_imperial_prerogatives
	#			has_completed_focus = ENG_consolidate_the_british_isles
	#			has_completed_focus = ENG_red_guards
	#		}
	#	}
	#	bypass = {
	#		amount_research_slots > 5
	#	}
	#	x = 0
	#	y = 1
	#	relative_position_id = ENG_expand_imperial_chemical_industries
	#	cost = 9
    #
	#	available_if_capitulated = yes
	#	search_filters = {FOCUS_FILTER_RESEARCH}
	#	completion_reward = {
	#		add_research_slot = 1
	#	}
	#}

	focus = {
		id = air_defense_focus
		prerequisite = { focus = general_rearmament_focus }
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				OR = {
					threat > 0.13
					has_war = yes
					has_idea = ENG_no_further_appeasement_idea
					NOT = { has_government = democratic }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				OR = {
					threat > 0.13
					has_war = yes
					NOT = { has_government = democratic }
				}
			}
		}

		continue_if_invalid = yes
		available_if_capitulated = yes

		icon = GFX_z_goal_anticolonial_fight_afg
		x = -2
		y = 1
		relative_position_id = general_rearmament_focus
		cost = 8
		ai_will_do = {
			base = 1
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = air_defense_focus_bypass_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = anti_air_building
							size > 0
						}
					}
				}
			}
		}

		complete_tooltip = {
			air_experience = 25
			if = {
				limit = { has_country_flag = air_defense_focus_built_max }
				custom_effect_tooltip = air_defense_focus_tt			
			}
			if = {
				limit = { NOT = { has_country_flag = air_defense_focus_built_max } }
				every_state = {
					limit = { has_state_flag = ENG_air_defense_focus_built_2 }
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
		}

		completion_reward = {
			air_experience = 25
			if = {
				limit = {
					NOT = {
						OR = {
							123 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
							125 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
							127 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
						}
					}
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
							OR = {
								region = 1
								region = 2
								region = 3
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}			
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
			}
			if = {
				limit = {
					NOT = {
						OR = {
							123 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
							125 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
							127 = {
								free_building_slots = {
									building = anti_air_building
									size > 1
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
						OR = {
							region = 1
							region = 2
							region = 3
						}
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
						OR = {
							region = 1
							region = 2
							region = 3
						}						
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
						OR = {
							region = 1
							region = 2
							region = 3
						}						
					}
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_air_defense_focus_built_2
				}
			}			
			if = {
				limit = {
					OR = {
						123 = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
						}
						125 = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
						}
						127 = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
						}
					}
				}
				custom_effect_tooltip = air_defense_focus_tt
				hidden_effect = {
					123 = {
						add_building_construction = {
							type = anti_air_building
							level = 5
							instant_build = yes
						}
					}
					125 = {
						add_building_construction = {
							type = anti_air_building
							level = 5
							instant_build = yes
						}
					}
					127 = {
						add_building_construction = {
							type = anti_air_building
							level = 5
							instant_build = yes
						}
					}
					set_country_flag = air_defense_focus_built_max
				}
			}
		}
	}

	focus = {
		id = radar_focus
		prerequisite = { focus = air_defense_focus }
		icon = GFX_goal_generic_radar
		x = 0
		y = 1
		relative_position_id = air_defense_focus
		cost = 8
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			air_experience = 25
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.75
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			add_tech_bonus = {
				name = radar_focus
				bonus = 1
				uses = 1 # was 3
				category = radar_tech
			}
		}
	}
	
	focus = {
		id = royal_ordinance_focus
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				OR = {
					any_other_country = {
						has_war_with = ROOT
						num_of_factories > 30
					}
					GER = {
						has_completed_focus = GER_remilitarize_the_rhineland
					}
					threat > 0.2
					has_idea = ENG_no_further_appeasement_idea
					NOT = { has_government = democratic }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				OR = {
					any_other_country = {
						has_war_with = ROOT
						num_of_factories > 30
					}
					GER = {
						has_completed_focus = GER_remilitarize_the_rhineland
					}
					threat > 0.2
					NOT = { has_government = democratic }
				}
			}
		} #at war with major or ger in rhineland or high threat
		prerequisite = { focus = shadow_scheme_focus }
		icon = GFX_goal_generic_construct_mil_factory
		x = 0
		y = 1
		relative_position_id = shadow_scheme_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		continue_if_invalid = yes

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = production_effort_tt
				NOT = {
					any_owned_state = {
						is_in_home_area = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
			}
		}
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = royal_ordinance_focus_2AF }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = royal_ordinance_focus_2AF
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = royal_ordinance_focus_2AF
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = royal_ordinance_focus_2AF
			}
			if = {
				limit = {
					OR = {
						has_global_flag = his_only
						
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = royal_ordinance_focus_2AF
				}
			}
		}
	}

	focus = {
		id = uk_small_arms_focus
		prerequisite = { focus = royal_ordinance_focus }
		icon = GFX_z_goal_supplies_of_weapons_from_allies
		x = -1
		y = 1
		relative_position_id = royal_ordinance_focus
		cost = 8
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = british_arms_discount
		}
	}

	focus = {
		id = UK_secret_focus
		prerequisite = { focus = maud_focus focus = ENG_nuke_alone }
		icon = GFX_ef_goal_generic_secret_weapons
		x = -2
		y = 1
		relative_position_id = ENG_nuke_alone
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_ideas = generic_secret_weapons_ns
			add_tech_bonus = {
				name = UK_secret_focus
				bonus = 0.5 # was 1
				uses = 1 # was 2
				category = rocketry
			}
			add_tech_bonus = {
				name = UK_secret_focus
				bonus = 0.5 # was 1
				uses = 1
				category = nuclear
			}
		}
	}
	focus = {
		id = air_rearmament_focus
		prerequisite = { focus = ENG_chiefs_of_staff_committee }
		icon = {
			trigger = { 
				has_government = communism
			}
			value = GFX_goal_ENG_airforce
		}
		icon = {
			value = GFX_GBR_royal_air_force
		}

		dynamic = yes

		x = -2
		y = 1
		relative_position_id = ENG_chiefs_of_staff_committee
		cost = 10
		ai_will_do = {
			base = 3
		}
		search_filters = { FOCUS_FILTER_AIR_XP }

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = air_focus_bypass_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
			}
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = air_rearmament_focus_2AirBase }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}		
			}
		}

		completion_reward = {
			air_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_airforce_modifier = yes
			add_to_variable = { 
				ENG_english_airforce_air_accidents_factor = -0.15
				tooltip = air_accidents_factor_tt
			}
			add_to_variable = { 
				ENG_english_airforce_air_ace_generation_chance_factor = 0.05
				tooltip = air_ace_generation_chance_factor_tt
			}
			add_to_variable = { 
				ENG_english_airforce_air_night_penalty = -0.05
				tooltip = air_night_penalty_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = air_rearmament_focus_2AirBase
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}			
				set_state_flag = air_rearmament_focus_2AirBase
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
						region = 3
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}			
				set_state_flag = air_rearmament_focus_2AirBase
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
						region = 3
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}			
				set_state_flag = air_rearmament_focus_2AirBase
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					OR = {
						region = 1
						region = 2
						region = 3
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}			
				set_state_flag = air_rearmament_focus_2AirBase
			}

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = air_base
								size > 1
							}
							OR = {
								region = 1
								region = 2
								region = 3
							}
						}			
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}			
					set_state_flag = air_rearmament_focus_2AirBase
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}			
					set_state_flag = air_rearmament_focus_2AirBase
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}			
					set_state_flag = air_rearmament_focus_2AirBase
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}			
					set_state_flag = air_rearmament_focus_2AirBase
				}
			}
		}
	}

	focus = {
		id = ENG_air_training
		prerequisite = { focus = air_rearmament_focus }
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				OR = {
					threat > 0.15
					has_war = yes
					has_idea = ENG_no_further_appeasement_idea
					NOT = { has_government = democratic }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				OR = {
					threat > 0.15
					has_war = yes
					NOT = { has_government = democratic }
				}
			}
		}

		relative_position_id = air_rearmament_focus
		icon = GFX_focus_SOV_flying_clubs
		x = 2
		y = 1
		cost = 6
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_AIR_XP }
		completion_reward = {
			ENG_modify_airforce_modifier = yes
			add_to_variable = {
				ENG_english_airforce_air_accidents_factor = -0.25
				tooltip = air_accidents_factor_tt
			}
			add_to_variable = {
				ENG_english_airforce_air_ace_generation_chance_factor = 0.25
				tooltip = air_ace_generation_chance_factor_tt
			}
			add_to_variable = {
				ENG_english_airforce_air_night_penalty = -0.05
				tooltip = air_night_penalty_tt
			}
			add_to_variable = {
				ENG_english_airforce_air_training_xp_gain_factor = 0.1
				tooltip = air_training_xp_gain_factor_tt
			}
			add_to_variable = {
				ENG_english_airforce_air_mission_xp_gain_factor = -0.1
				tooltip = air_mission_xp_gain_factor_tt
			}
			add_to_variable = {
				ENG_english_airforce_air_mission_xp_gain_factor = -0.05
				tooltip = air_doctrine_cost_factor_tt
			}
		}
	}

	focus = {
		id = fighter_command_focus
		prerequisite = { focus = air_rearmament_focus }
		icon = GFX_goal_ENG_Fighter_Command
		x = 0
		y = 1
		relative_position_id = air_rearmament_focus
		cost = 10
		ai_will_do = {
			base = 3
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			ENG_modify_airforce_modifier = yes
			add_to_variable = { 
				ENG_english_airforce_air_range_factor = 0.05
				tooltip = air_range_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "By Blood Alone" }
				}
				air_experience = 25
				add_tech_bonus = {
					name = fighter_command_focus
					bonus = 1
					uses = 2
					category = light_fighter
					category = cat_heavy_fighter
				}
			}
			else_if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				air_experience = 25
				add_tech_bonus = {
					name = fighter_command_focus
					bonus = 1
					uses = 1
					category = light_fighter
					category = cat_heavy_fighter
				}
				add_doctrine_cost_reduction = {
					name = fighter_command_focus #land_doc_bonus
					cost_reduction = 0.5
					uses = 1
					category = air_doctrine
				}
			}
		}
	}
	focus = {
		id = bomber_command_focus
		prerequisite = { focus = air_rearmament_focus }
		icon = GFX_goal_ENG_Bomber_Command
		x = -1
		y = 2
		relative_position_id = air_rearmament_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			ENG_modify_airforce_modifier = yes
			add_to_variable = { 
				ENG_english_airforce_air_strategic_bomber_bombing_factor = 0.05
				tooltip = air_strategic_bomber_bombing_factor_tt
			}
			add_to_variable = { 
				ENG_english_airforce_air_night_penalty = -0.05
				tooltip = air_night_penalty_tt
			}
			add_to_variable = { 
				ENG_english_airforce_air_fuel_consumption_factor = 0.05
				tooltip = air_fuel_consumption_factor_tt
			}
			custom_effect_tooltip = ENG_bomber_command_ns_tt

			custom_effect_tooltip = generic_skip_one_line_tt

			hidden_effect = {
			    add_to_variable = { ENG_english_airforce_air_strategic_bomber_night_penalty = -0.1 }
			}
			if = {
				limit = {
					NOT = { has_dlc = "By Blood Alone" }
				}
				air_experience = 25
				add_tech_bonus = {
					name = bomber_command_focus
					bonus = 0.75 #was 1
					uses = 2
					category = cat_strategic_bomber
					category = tactical_bomber
				}
			}
			else_if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				air_experience = 25
				add_tech_bonus = {
					name = bomber_command_focus
					bonus = 0.75 #was 1
					uses = 1
					category = cat_strategic_bomber
					category = tactical_bomber
				}
				add_doctrine_cost_reduction = {
					name = bomber_command_focus #land_doc_bonus
					cost_reduction = 0.5
					uses = 1
					category = air_doctrine
				}
			}
		}
	}
	focus = {
		id = coastal_command_focus
		prerequisite = { focus = air_rearmament_focus }
		icon = GFX_goal_generic_air_naval_bomber
		x = 1
		y = 2
		relative_position_id = air_rearmament_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			ENG_modify_airforce_modifier = yes
			add_to_variable = {
				ENG_english_airforce_air_nav_efficiency = 0.1
				tooltip = air_nav_efficiency_tt
			}
			add_to_variable = {
				ENG_english_naval_strike_attack_factor = 0.05
				tooltip = naval_strike_attack_factor_tt
			}
			add_to_variable = {
				ENG_english_naval_strike_targetting_factor = 0.05
				tooltip = naval_strike_targetting_factor_tt
			}
			custom_effect_tooltip = ENG_coastsal_command_ns_tt
			hidden_effect = {
				add_ideas = british_navy_discount
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					NOT = { has_dlc = "By Blood Alone" }
				}
				air_experience = 25
				add_tech_bonus = {
					name = coastal_command_focus
					bonus = 0.75 #was 1
					uses = 2
					category = naval_bomber
					category = cas_bomber
				}
			}
			else_if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				air_experience = 25
				add_tech_bonus = {
					name = coastal_command_focus
					bonus = 0.75 #was 1
					uses = 1
					category = naval_bomber
					category = cas_bomber
				}
				add_doctrine_cost_reduction = {
					name = coastal_command_focus #land_doc_bonus
					cost_reduction = 0.5
					uses = 1
					category = air_doctrine
				}
			}
		}
	}
	focus = {
		id = aircraft_production_focus
		prerequisite = { focus = bomber_command_focus focus = coastal_command_focus focus = fighter_command_focus }
		icon = GFX_z_goal_bases_for_british_air_force
		x = 0
		y = 2
		relative_position_id = fighter_command_focus
		cost = 10
		ai_will_do = {
			base = 3
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			ENG_modify_airforce_modifier = yes
			if = {
				limit = {
					OR = {
						has_global_flag = his_only
						
					}
				}
				custom_effect_tooltip = ENG_increase_aircraft_production_ns2_tt
			}
			else = {
				custom_effect_tooltip = ENG_increase_aircraft_production_ns_tt
			}
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_global_flag = his_only
							
						}
					}
					add_ideas = british_fighter_discount_hist
				}
				else = {
					add_ideas = british_fighter_discount
				}
			}
		}
	}
	focus = {
		id = uk_jet_focus
		prerequisite = { focus = aircraft_production_focus }
		icon = GFX_ENG_RR_Jet
		x = 0
		y = 1
		relative_position_id = aircraft_production_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available = {
			date > 1940.1.1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					NOT = { has_dlc = "Arms Against Tyranny" }
				}
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = ENG_gloster_aircraft
				
				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_breakthrough_progress = {
				specialization = specialization_air
				value = 1
			}

			add_tech_bonus = {
				name = uk_jet_focus
				bonus = 1.0
				uses = 2 # was 4 
				category = jet_technology
			}

		}
	}
	focus = {
		id = naval_rearmament_focus
		prerequisite = { focus = ENG_chiefs_of_staff_committee }
		icon = {
			trigger = { 
				has_government = communism
			}
			value = GFX_goal_ENG_navy
		}
		icon = {
			value = GFX_GBR_royal_navy
		}

		dynamic = yes

		x = 5
		y = 1
		relative_position_id = ENG_chiefs_of_staff_committee
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_INDUSTRY }

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = naval_effort_tt
				NOT = {
					any_owned_state = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
				}
			}
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = ENG_naval_rearmament_focus_1dockyard }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			navy_experience = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_navy_modifier = yes
			add_to_variable = {
				ENG_rn_naval_coordination = 0.05
				tooltip = naval_coordination_tt
			}
			add_to_variable = {
				ENG_rn_naval_doctrine_cost_factor = -0.05
				tooltip = naval_doctrine_cost_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					OR = {
						has_global_flag = his_only
						
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_naval_rearmament_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_naval_rearmament_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_naval_rearmament_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_naval_rearmament_focus_1dockyard
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_naval_rearmament_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_naval_rearmament_focus_1dockyard
				}
			}
		}
	}

	focus = {
		id = ENG_army_rearmament_focus
		prerequisite = { focus = ENG_chiefs_of_staff_committee }
		available = { 
		}
		continue_if_invalid = yes

		icon = {
			trigger = { 
				has_government = communism
			}
			value = GFX_goal_ENG_army
		}
		icon = {
			value = GFX_GBR_royal_army
		}

		dynamic = yes

		x = 15
		y = 1
		relative_position_id = ENG_chiefs_of_staff_committee
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = {
				ENG_royal_army_experience_gain_army_factor = 0.1
				tooltip = experience_gain_army_factor_tt 
			}
			add_to_variable = {
				ENG_royal_army_land_doctrine_cost_factor = -0.05
				tooltip = land_doctrine_cost_factor_tt 
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_core_state = {
				limit = {
					is_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ENG_embrace_modern_warfare
		prerequisite = { focus = ENG_army_rearmament_focus }
		mutually_exclusive = { focus = ENG_embrace_traditional_warfare }
		available = { 	
				
		}
		icon = GFX_ENG_The_Future_Of_Warfare #Old GFX_goal_doctrine_tank_warfare
		x = -2
		y = 1
		relative_position_id = ENG_army_rearmament_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = {
				ENG_royal_army_coordination_bonus = 0.05
				tooltip = coordination_bonus_tt 
			}
			add_to_variable = {
				ENG_royal_army_land_doctrine_cost_factor = -0.1
				tooltip = land_doctrine_cost_factor_tt 
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = ENG_mobilewrf_bonus
				cost_reduction = 0.5
				uses = 1
				category = cat_mobile_warfare
			}
		}
	}

	focus = {
		id = ENG_establish_the_royal_armoured_corps
		prerequisite = { focus = ENG_embrace_modern_warfare }
		available = { 	
				
		}
		icon = GFX_goal_generic_heavy_armour_british
		x = 0
		y = 1
		relative_position_id = ENG_embrace_modern_warfare
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			ENG_modify_army_modifier = yes
			add_to_variable = {
				ENG_royal_army_org_factor = 0.05
				tooltip = army_org_factor_tt 
			}
			add_to_variable = {
				ENG_royal_army_planning_speed = 0.05
				tooltip = planning_speed_factor_tt 
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_character = ENG_brian_horrocks
					ENG_brian_horrocks = { 
						is_army_leader = yes 
					}
				}
				ENG_brian_horrocks = {
					add_attack = 1
				}

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			random_army_leader = {
				limit = {
					has_trait = armor_officer
					NOT = { has_trait = panzer_leader }
					NOT = { has_trait = cavalry_leader }
				}
				add_unit_leader_trait = panzer_leader

				custom_effect_tooltip = generic_skip_one_line_tt
			}

			add_doctrine_cost_reduction = {
				name = ENG_mobilewrf_bonus
				cost_reduction = 0.5
				uses = 1
				category = cat_mobile_warfare
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.0
				uses = 1
				category = armor
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}
		}
	}

	focus = {
		id = ENG_motorized_focus
		prerequisite = { focus = ENG_embrace_modern_warfare }
		available = { 	
				
		}
		icon = GFX_z_goal_introduction_of_motorization
		x = -2
		y = 1
		relative_position_id = ENG_embrace_modern_warfare
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_equipment_bonus = {
				name = ENG_motorized_focus
				bonus = {
					motorized_equipment = {
						build_cost_ic = -0.1
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = ENG_motorized_focus
				bonus = 1.0
				uses = 1
				category = motorized_equipment
			}
		}
	}

	focus = {
		id = ENG_mechanized_warfare
		prerequisite = { focus = ENG_establish_the_royal_armoured_corps }
		available = {
			
		}
        relative_position_id = ENG_establish_the_royal_armoured_corps
		icon = GFX_GENERIC_Mechanization
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			ENG_modify_army_modifier = yes
			add_to_variable = { 
				ENG_royal_army_org_loss_when_moving = -0.1
				tooltip = org_loss_when_moving_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = ENG_mechanized_warfare
				ahead_reduction = 1
				bonus = 1
				uses = 1
				category = cat_mechanized_equipment
			}

			if = {
				limit = {
					has_character = ENG_miles_dempsey
					ENG_miles_dempsey = { 
						is_army_leader = yes 
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_miles_dempsey = {
					add_planning = 1
				}
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				mio:ENG_vauxhall_automotive_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.05
				}
			}
		}
	}
	focus = {
		id = ENG_armoured_spearhead_tactics
		prerequisite = { focus = ENG_mechanized_warfare }
		prerequisite = { focus = ENG_motorized_focus }
		icon = GFX_goal_ENG_Infantry_Tank
		available = {
			
		}
		x = -1
		y = 1
		relative_position_id = ENG_mechanized_warfare
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		
		completion_reward = {
			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = {
				ENG_royal_army_armor_speed_factor = 0.05
				tooltip = army_armor_speed_factor_tt 
			}
			add_to_variable = {
				ENG_royal_army_planning_speed = 0.05
				tooltip = planning_speed_factor_tt 
			}
			add_to_variable = { 
				ENG_royal_army_breakthrough_factor = 0.05
				tooltip = breakthrough_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = ENG_armoured_spearhead_tactics
				bonus = 1.0
				uses = 1
				category = cat_anti_tank
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}	
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = ENG_ROF_nottingham_organization
				mio:ENG_ROF_nottingham_organization = {
					add_mio_size = 2
					add_mio_funds_gain_factor = 0.1
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				mio:ENG_vickers_armstrong_eng_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.1
				}
			}
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = ENG_ROF_nottingham
			}
		}
	}

	focus = {
		id = ENG_special_air_service
		prerequisite = { focus = ENG_embrace_modern_warfare focus = ENG_embrace_traditional_warfare }
		available = { 
			
		}

		continue_if_invalid = yes

		icon = GFX_goal_ENG_SAS
		x = 2
		y = 1
		relative_position_id = ENG_embrace_modern_warfare
		cost = 8
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = ENG_special_air_service_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = {
				ENG_royal_army_experience_gain_army_factor = 0.05
				tooltip = experience_gain_army_factor_tt 
			}
			add_to_variable = {
				ENG_royal_army_land_doctrine_cost_factor = -0.1
				tooltip = land_doctrine_cost_factor_tt 
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ENG_david_stirling

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 1.0
				uses = 2
				category = cat_special_forces_generic 
			}
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 1.0
				uses = 1
				category = infantry_tech
			}
		}
	}

	focus = {
		id = ENG_parachute_regiments
		prerequisite = { focus = ENG_special_air_service }
		allow_branch = {
			has_dlc = "Arms Against Tyranny"
		}
		continue_if_invalid = yes

		icon = GFX_focus_generic_paratrooper
		x = 0
		y = 1
		relative_position_id = ENG_special_air_service
		cost = 10
		ai_will_do = {
			base = 1
		}	

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_potential_special_forces_tree = yes
			add_doctrine_cost_reduction = {
				name = ENG_parachute_regiments
				cost_reduction = 0.25
				uses = 2
				category = special_forces_doctrine
			}
		}
	}

	focus = {
		id = ENG_embrace_traditional_warfare
		prerequisite = { focus = ENG_army_rearmament_focus }
		mutually_exclusive = { focus = ENG_embrace_modern_warfare }
		available = {
			
		}
		relative_position_id = ENG_army_rearmament_focus
		icon = GFX_goal_ENG_old_ways
		x = 2
		y = 1
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = {
				ENG_royal_army_max_planning = 0.05
				tooltip = max_planning_tt 
			}
			add_to_variable = {
				ENG_royal_army_land_doctrine_cost_factor = -0.1
				tooltip = land_doctrine_cost_factor_tt 
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = ENG_greatbp_bonus
				cost_reduction = 0.5
				uses = 2
				category = cat_grand_battle_plan
			}
		}
	}

	focus = {
		id = ENG_infantry_doctrines
		prerequisite = { focus = ENG_embrace_traditional_warfare }
		available = {
			
		}
		relative_position_id = ENG_embrace_traditional_warfare
		icon = GFX_z_goal_generic_armed_forces
		x = 0
		y = 1
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = { 
				ENG_royal_army_org_loss_when_moving = -0.1
				tooltip = org_loss_when_moving_tt
			}
			add_to_variable = { 
				ENG_royal_army_max_dig_in_factor = 0.1
				tooltip = max_dig_in_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = ENG_infantry_doctrines
				bonus = 1
				uses = 1
				category = infantry_weapons  
			}

			if = {
				limit = {
					has_character = ENG_bernard_montgomery
					ENG_bernard_montgomery = { 
						is_army_leader = yes 
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_bernard_montgomery = {
					add_attack = 1
				}
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				mio:ENG_rsaf_enfield_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.05
				}
			}
		}
	}

	focus = {
		id = ENG_coastal_fortification_program
		prerequisite = { focus = ENG_embrace_traditional_warfare }
		available = {
			
		}
		relative_position_id = ENG_embrace_traditional_warfare
		icon = GFX_GENERIC_Coastal_Defense
		x = 2
		y = 1
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = { }
		completion_reward = {
			ENG_modify_army_modifier = yes
			add_to_variable = {
				ENG_royal_army_max_planning = 0.05
				tooltip = max_planning_tt 
			}
			add_to_variable = {
				ENG_royal_army_coastal_bunker_effectiveness_factor = 0.1
				tooltip = coastal_bunker_effectiveness_factor_tt 
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_controlled_state = {
				limit = {
					OR = {
						state = 123
						state = 127
						state = 126
						state = 125
					}
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
				}
			}
		}
	}

	focus = {
		id = ENG_firepower_first
		prerequisite = { focus = ENG_infantry_doctrines }
		available = {
			
		}
		relative_position_id = ENG_infantry_doctrines
		icon = GFX_goal_ENG_Expand_the_Royal_Artillery
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = { 
				ENG_royal_army_artillery_attack_factor = 0.1
				tooltip = army_artillery_attack_factor_tt
			}
			add_to_variable = { 
				ENG_royal_army_artillery_defence_factor = 0.1
				tooltip = army_artillery_defence_factor_tt
			}

			if = {
				limit = {
					has_character = ENG_alan_brooke
					ENG_alan_brooke = { 
						is_army_leader = yes
						NOT = { has_trait = artillery_commander }
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_alan_brooke = {
					add_unit_leader_trait = artillery_commander
				}
			}
		}
	}

	focus = {
		id = ENG_artillery_modernization
		prerequisite = { focus = ENG_firepower_first }
		prerequisite = { focus = ENG_coastal_fortification_program }
		available = {
			
		}
		relative_position_id = ENG_firepower_first
		icon = GFX_ef_goal_generic_weapon_artillery
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_equipment_bonus = {
				name = ENG_artillery_modernization
				bonus = {
					artillery_equipment = {
						build_cost_ic = -0.1
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = ENG_artillery_bonus
				bonus = 1
				uses = 1
				category = artillery  
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				mio:ENG_royal_arsenal_organization = {
					add_mio_size = 1
					add_mio_research_bonus = 0.05
				}
			}
		}
	}

	focus = {
		id = ENG_comprehensive_mobilization
		prerequisite = { focus = ENG_firepower_first focus = ENG_mechanized_warfare }
		available = {
			
		}
		relative_position_id = ENG_firepower_first
		icon = GFX_goal_national_mobilization
		x = -2
		y = 1
		cost = 5
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_command_power = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = { 
				ENG_royal_army_conscription = 0.01
				tooltip = conscription_tt
			}
			add_to_variable = {
				ENG_royal_army_mobilization_speed = 0.15
				tooltip = mobilization_speed_tt 
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = ENG_comprehensive_mobilization
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = ENG_grand_army_reforms
		prerequisite = { focus = ENG_comprehensive_mobilization }
		available = {
			
		}
		relative_position_id = ENG_comprehensive_mobilization
		
		icon = {
			trigger = { 
				has_government = communism
			}
			value = GFX_ef_goal_generic_military_officer_red
		}
		icon = {
			value = GFX_ef_goal_generic_military_officer
		}

		dynamic = yes

		x = -1
		y = 1
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = { 
				ENG_royal_army_morale_factor = 0.05
				tooltip = army_morale_factor_tt
			}
			add_to_variable = { 
				ENG_royal_army_infantry_attack_factor = 0.05
				tooltip = army_infantry_attack_factor_tt
			}

			if = {
				limit = {
					has_character = ENG_brian_horrocks
					ENG_brian_horrocks = { 
						is_army_leader = yes
						NOT = { has_trait = brave }
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_brian_horrocks = {
					add_unit_leader_trait = brave
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}
		}
	}

	focus = {
		id = ENG_military_bureau_reorganization
		prerequisite = { focus = ENG_comprehensive_mobilization }
		available = {
			has_country_leader = {
				character = ENG_winston_churchill
				ruling_only = yes
			}
		}
		relative_position_id = ENG_comprehensive_mobilization
		icon = GFX_ENG_We_Shall_Never_Surrender
		x = 1
		y = 1
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = { }
		completion_reward = {
			ENG_modify_army_modifier = yes
			add_to_variable = { 
				ENG_royal_army_spirit_category_type_cost_factor = -0.2
				tooltip = army_spirit_category_type_cost_factor_tt
			}
			add_to_variable = { 
				ENG_royal_army_command_power_gain_mult = 0.15
				tooltip = command_power_gain_mult_tt
			}
			add_to_variable = { 
				ENG_royal_army_max_command_power = 15
				tooltip = max_command_power_tt
			}

			if = {
				limit = {
					has_character = ENG_harold_alexander
					ENG_harold_alexander = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				ENG_harold_alexander = {
					promote_leader = yes
				}
			}

			if = {
				limit = {
					has_character = ENG_archibald_wavell
					ENG_archibald_wavell = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				ENG_archibald_wavell = {
					promote_leader = yes
				}
			}

			if = {
				limit = {
					has_character = ENG_john_dill
					ENG_john_dill = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				ENG_john_dill = {
					promote_leader = yes
				}
			}
		}
	}

	focus = {
		id = uk_destroyer_focus
		prerequisite = { focus = naval_rearmament_focus }
		icon = GFX_z_goal_purchase_of_destroyers
		x = -3
		y = 1
		relative_position_id = naval_rearmament_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			ENG_modify_navy_modifier = yes
			add_to_variable = {
				ENG_rn_spotting_chance = 0.05
				tooltip = spotting_chance_tt
			}
			add_to_variable = {
				ENG_rn_screening_efficiency = 0.1
				tooltip = screening_efficiency_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = dd_bonus
				bonus = 1.0
				uses = 2
				category = dd_tech
			}
		}
	}

	focus = {
		id = ENG_secure_the_imperial_shipping_routes
		prerequisite = { focus = uk_destroyer_focus }
		icon = GFX_z_goal_preparing_for_war_on_islands
		x = 1
		y = 1
		relative_position_id = uk_destroyer_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_tech_bonus = {
				name = ENG_secure_the_imperial_shipping_routes
				bonus = 1.0
				uses = 2
				category = ca_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = ENG_secure_the_imperial_shipping_routes

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}	
				custom_effect_tooltip = generic_skip_one_line_tt
				mio:ENG_harland_wolff_organization = {
					add_mio_size = 1
				}
			}
		}
	}

	focus = {
		id = ENG_expand_naval_facilities
		prerequisite = { focus = ENG_secure_the_imperial_shipping_routes }
		icon = GFX_goal_generic_construct_naval_dockyard
		x = -1
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_secure_the_imperial_shipping_routes
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ENG_a_s_warfare
		prerequisite = { focus = ENG_secure_the_imperial_shipping_routes }
		icon = GFX_goal_generic_navy_anti_submarine
		x = 1
		y = 1
		relative_position_id = ENG_secure_the_imperial_shipping_routes
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		allow_branch = {
			has_dlc = "Man the Guns"
		}
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = ENG_asw_warfare
				bonus = 1.0
				ahead_reduction = 2
				uses = 2
				category = asw_tech
			}	
		}
	}

	focus = {
		id = uk_convoy_focus
		prerequisite = { focus = uk_destroyer_focus }
		icon = GFX_goal_generic_navy_cruiser
		x = -1
		y = 1
		relative_position_id = uk_destroyer_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			ENG_modify_navy_modifier = yes
			add_to_variable = {
				ENG_rn_navy_screen_attack_factor = 0.05
				tooltip = navy_screen_attack_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = british_convoy_discount

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}	
				custom_effect_tooltip = generic_skip_one_line_tt
				mio:ENG_yarrow_shipbuilders_organization = {
					add_mio_size = 1
				}
			}
		}
	}

	focus = {
		id = ENG_anti_submarine_training_school
		prerequisite = { focus = uk_convoy_focus }
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 0
		y = 2
		offset = {
			x = 0
			y = -1
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = uk_convoy_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			ENG_modify_navy_modifier = yes
			custom_effect_tooltip = ENG_anti_submarine_training_ns_tt
			hidden_effect = {
				add_to_variable = { ENG_rn_experience_gain_destroyer_combat_factor = 0.1 }
				add_to_variable = { ENG_rn_experience_gain_destroyer_training_factor = 0.1 }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_mastery_bonus = {
				name = ENG_anti_submarine_training_school
				bonus = 0.25
				days = 180
				track = screens
			}
			#add_ideas = ENG_anti_submarine_training_school
		}
	}

	focus = {
		id = uk_waves_focus
		prerequisite = { focus = naval_rearmament_focus }
		icon = GFX_goal_ENG_britannia_naval_college
		x = 3
		y = 1
		relative_position_id = naval_rearmament_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			ENG_modify_navy_modifier = yes
			add_to_variable = { 
				ENG_rn_navy_org_factor = 0.1
				tooltip = navy_org_factor_tt
			}
			add_to_variable = {
				ENG_rn_naval_coordination = 0.05
				tooltip = naval_coordination_tt
			}
			add_to_variable = {
				ENG_rn_naval_doctrine_cost_factor = -0.05
				tooltip = naval_doctrine_cost_factor_tt
			}
			add_to_variable = {
				ENG_rn_naval_has_potf_in_combat_attack = 0.05
				tooltip = naval_has_potf_in_combat_attack_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					ENG_andrew_cunningham = {
						is_unit_leader = yes
						NOT = { has_trait = green_water_expert }
					}
				}
				ENG_andrew_cunningham = {
					add_trait = { trait = green_water_expert }
				}
			}
			else = {
				random_navy_leader = {
					limit = {
						NOT = { has_trait = green_water_expert }
					}
					add_trait = { trait = green_water_expert }
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = uk_waves_focus
				cost_reduction = 0.5
				uses = 3
				category = naval_doctrine
			}
		}
	}
	focus = {
		id = uk_carrier_focus
		prerequisite = { focus = uk_waves_focus }
		mutually_exclusive = { focus = uk_battleship_focus }
		icon = GFX_goal_ENG_Pacific_Fleet_Carriers
		x = -1
		y = 1
		relative_position_id = uk_waves_focus
		cost = 10
		ai_will_do = {
			base = 0.25
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_navy_modifier = yes
			add_to_variable = { 
				ENG_rn_sortie_efficiency = 0.1
				tooltip = sortie_efficiency_tt
			}
			add_to_variable = { 
				ENG_rn_naval_strike_agility_factor = 0.1
				tooltip = MODIFIER_NAVAL_STRIKE_AGILITY_FACTOR_TT
			}
			add_to_variable = { 
				ENG_rn_naval_strike_targetting_factor = 0.05
				tooltip = naval_strike_targetting_factor_tt
			}
			add_to_variable = { 
				ENG_rn_naval_strike_attack_factor = 0.05
				tooltip = naval_strike_attack_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = uk_carrier_focus
				bonus = 1.0
				uses = 2
				category = cv_tech
			}
		}
	}
	focus = {
		id = uk_battleship_focus
		prerequisite = { focus = uk_waves_focus }
		mutually_exclusive = { focus = uk_carrier_focus }
		icon = GFX_goal_generic_naval_battleship2
		x = 1
		y = 1
		relative_position_id = uk_waves_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			navy_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_navy_modifier = yes
			custom_effect_tooltip = ENG_battleship_focus_ns_tt
			hidden_effect = {
				add_to_variable = { ENG_rn_strike_force_movement_org_loss = -0.05 }
			}
			add_to_variable = { 
				ENG_rn_naval_heavy_gun_hit_chance_factor = 0.05
				tooltip = naval_heavy_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = uk_battleship_focus
				bonus = 1.0
				uses = 2
				category = bb_tech
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}	
				custom_effect_tooltip = generic_skip_one_line_tt
				mio:ENG_cammell_laird_organization = {
					add_mio_size = 1
				}
			}
		}
	}

	focus = {
		id = uk_amphibious_focus
		prerequisite = { focus = naval_rearmament_focus }
		icon = GFX_goal_ENG_Assault_Landing_Crafts
		x = 0
		y = 1
		relative_position_id = naval_rearmament_focus
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			ENG_modify_navy_modifier = yes
			add_to_variable = {
				ENG_rn_naval_invasion_capacity = 15
				tooltip = naval_invasion_capacity_tt
			}
			add_to_variable = {
				ENG_rn_invasion_preparation = -0.1
				tooltip = invasion_preparation_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = uk_amphibious_focus
				bonus = 1.0
				uses = 1
				category = marine_tech
				category = tp_tech
			}
		}
	}

	focus = {
		id = ENG_expand_the_royal_marines
		prerequisite = { focus = uk_amphibious_focus }
		icon = GFX_ENG_Royal_Marines
		x = 0
		y = 1
		relative_position_id = uk_amphibious_focus
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			army_experience = 15
			navy_experience = 15

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = {
				ENG_royal_army_modifier_army_sub_unit_marine_attack_factor = 0.05
				tooltip = modifier_army_sub_unit_marine_attack_factor_tt
			}
			add_to_variable = {
				ENG_royal_army_modifier_army_sub_unit_marine_defence_factor = 0.05
				tooltip = modifier_army_sub_unit_marine_defence_factor_tt
			}
			add_to_variable = {
				ENG_royal_army_extra_marine_supply_grace = 48
				tooltip = extra_marine_supply_grace_tt
			}

			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = generic_skip_one_line_tt

				add_doctrine_cost_reduction = {
					name = ENG_review_military_landing_tactics
					cost_reduction = 0.5
					uses = 2
					category = cat_marines_doctrine
				}
			}
		}
	}

	focus = {
		id = ENG_expand_the_repair_yards
		prerequisite = { focus = uk_battleship_focus focus = uk_carrier_focus }
		icon = GFX_z_goal_port_au_prince_shipyards_dock
		x = -1
		y = 1
		relative_position_id = uk_battleship_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = ENG_expand_the_repair_yards_2dockyard }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = ENG_expand_the_repair_yards_2dockyard
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			add_ideas = ENG_expand_the_repair_yards
		}
	}

	focus = {
		id = ENG_anti_non_contact_committee
		prerequisite = { focus = ENG_expand_the_repair_yards }
		icon = GFX_focus_generic_mine_warfare
		x = 0
		y = 1
		relative_position_id = ENG_expand_the_repair_yards
		cost = 5
		ai_will_do = {
			base = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = ENG_anti_non_contact_committee
				bonus = 1.0
				uses = 1
				category = naval_minelaying
			}
			add_tech_bonus = {
				name = ENG_anti_non_contact_committee
				bonus = 1.0
				uses = 2
				category = naval_minesweeping
			}
		}
	}

	focus = {
		id = ENG_improve_ship_cannons
		prerequisite = { focus = uk_battleship_focus focus = uk_carrier_focus }
		icon = GFX_GENERIC_Navy
		x = -3
		y = 2
		offset = {
			x = 2
			y = -1
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = uk_battleship_focus
		cost = 5
		ai_will_do = {
			base = 1
		}

		available = {
			
		}

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			ENG_modify_navy_modifier = yes
			add_to_variable = { 
				ENG_rn_screening_without_screens = 0.1
				tooltip = screening_without_screens_tt
			}
			add_to_variable = { 
				ENG_rn_naval_light_gun_hit_chance_factor = 0.05
				tooltip = naval_light_gun_hit_chance_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = ENG_improve_ship_cannons
					bonus = 1.0
					uses = 1
					category = cat_ship_medium_battery
					category = cat_ship_heavy_battery
				}
			}
			else = {
				navy_experience = 25
				add_tech_bonus = {
					name = dd_bonus
					bonus = 0.5
					uses = 1
					category = dd_tech
				}
			}
		}
	}

	focus = {
		id = ENG_vanguard
		prerequisite = { focus = uk_battleship_focus }
		icon = GFX_focus_generic_navy_battleship3alt
		x = 1
		y = 2
		relative_position_id = uk_battleship_focus
		cost = 10
		ai_will_do = {
			base = 1
		}

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		available = {
			date > 1943.1.1
			has_tech = advanced_ship_hull_heavy
			has_full_control_of_state = 133
			#has_tech = improved_heavy_battery
			#has_tech = dp_light_battery_3
			#has_tech = antiair5
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 25
			if = {
				limit = {
					has_tech = advanced_heavy_battery
				}
				create_equipment_variant = {
					name = "Vanguard"
					type = ship_hull_heavy_4
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_3
						fixed_ship_anti_air_slot = ship_anti_air_4
						fixed_ship_fire_control_system_slot = ship_fire_control_system_3
						fixed_ship_radar_slot = ship_radar_3
						fixed_ship_engine_slot = heavy_ship_engine_4
						fixed_ship_secondaries_slot = dp_ship_secondaries_3
						fixed_ship_armor_slot = ship_armor_bb_3
						front_1_custom_slot = ship_heavy_battery_4
						mid_1_custom_slot = ship_anti_air_4
						mid_2_custom_slot = dp_ship_secondaries_3
						mid_3_custom_slot = ship_airplane_launcher_2
						rear_1_custom_slot = ship_heavy_battery_4
					}
				}
			}
			else = {
				create_equipment_variant = {
					name = "Vanguard"
					type = ship_hull_heavy_4
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_3
						fixed_ship_anti_air_slot = ship_anti_air_4
						fixed_ship_fire_control_system_slot = ship_fire_control_system_3
						fixed_ship_radar_slot = ship_radar_3
						fixed_ship_engine_slot = heavy_ship_engine_4
						fixed_ship_secondaries_slot = dp_ship_secondaries_3
						fixed_ship_armor_slot = ship_armor_bb_3
						front_1_custom_slot = ship_heavy_battery_3
						mid_1_custom_slot = ship_anti_air_4
						mid_2_custom_slot = dp_ship_secondaries_3
						mid_3_custom_slot = ship_airplane_launcher_2
						rear_1_custom_slot = ship_heavy_battery_3
					}
				}
			}
			if = {
				limit = {
					NOT = { has_government = communism }
				}
				133 = {
					custom_effect_tooltip = ENG_vanguard_tt_hms
				}
				hidden_effect = { load_oob = "ENG_vanguard_hms" }
			}
			if = {
				limit = {
					has_government = communism
				}
				133 = {
					custom_effect_tooltip = ENG_vanguard_tt_communism
				}
				hidden_effect = { load_oob = "ENG_vanguard_communist" }
			}
		}
	}

	focus = {
		id = ENG_national_recovery_programme
		prerequisite = { focus = limited_rearmament_focus }
		icon = GFX_goal_ENG_national_recovery_programme
		x = 0
		y = 1
		relative_position_id = limited_rearmament_focus
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_stability_factor = 0.05
				tooltip = stability_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_buildings_factor = 0.03
				tooltip = production_speed_buildings_factor_tt
			}
		}
	}

	focus = {
		id = ENG_rearmament_drives_industry
		prerequisite = { focus = ENG_national_recovery_programme }
		prerequisite = { focus = general_rearmament_focus }
		available = {
			OR = {
				threat > 0.5
				has_war_support > 0.6
				has_war = yes
				NOT = { has_government = democratic }
			}
		}
		icon = GFX_ef_goal_generic_armored_car
		x = -2
		y = 1
		relative_position_id = ENG_national_recovery_programme
		cost = 10
		ai_will_do = {
			base = 1
		}
		continue_if_invalid = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_arms_factory_factor = 0.05
				tooltip = production_speed_arms_factory_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_dockyard_factor = 0.05
				tooltip = production_speed_dockyard_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
		}
	}

	focus = {
		id = ENG_an_arsenal_for_the_empire
		prerequisite = { focus = ENG_rearmament_drives_industry }
		icon = GFX_focus_generic_mass_production
		x = 0
		y = 1
		relative_position_id = ENG_rearmament_drives_industry
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
		}
	}

	focus = {
		id = ENG_expand_steelworks
		prerequisite = { focus = ENG_an_arsenal_for_the_empire }
		icon = GFX_ENG_Heavy_Industry_Expansion
		x = 0
		y = 1
		relative_position_id = ENG_an_arsenal_for_the_empire
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_core_state = {
				prioritize = { 130 }
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = steel_mill
					level = 2
					instant_build = yes
				}	
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = industry_tech_bonus
				bonus = 1
				uses = 1
				category = cat_synth_resources
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_steel_mill_factor = 0.1
				tooltip = production_speed_steel_mill_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_local_resources_factor = 0.05
				tooltip = local_resources_factor_tt
			}
		}
	}

	focus = {
		id = ENG_revitalize_the_economy
		prerequisite = { focus = ENG_national_recovery_programme }
		icon = GFX_ef_goal_generic_revitalize_economy
		x = 3
		y = 1
		relative_position_id = ENG_national_recovery_programme
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = ENG_revitalize_the_economy
				bonus = 1
				uses = 1
				category = industry
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_consumer_goods_factor = -0.1
				tooltip = consumer_goods_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_industrial_complex_factor = 0.05
				tooltip = production_speed_industrial_complex_factor_tt
			}
		}
	}

	focus = {
		id = ENG_public_works_expansion
		prerequisite = { focus = ENG_national_recovery_programme }
		icon = GFX_focus_generic_currency_reforms
		x = 1
		y = 1
		relative_position_id = ENG_national_recovery_programme
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			build_railway = {
				level = 1
				build_only_on_allied = yes
				start_state = ROOT.capital
				target_state = 132
			}
			build_railway = {
				level = 1
				build_only_on_allied = yes
				start_state = ROOT.capital
				target_state = 121
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = infrastructure
						size > 0						
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			
			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_stability_factor = 0.05
				tooltip = stability_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_buildings_factor = 0.05
				tooltip = production_speed_buildings_factor_tt
			}
		}
	}

	focus = {
		id = ENG_expand_imperial_college
		icon = GFX_focus_generic_university_1
		prerequisite = { focus = ENG_public_works_expansion }
		x = -1
		y = 1
		relative_position_id = ENG_public_works_expansion
		cost = 5

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = ENG_national_housing_initiative
		prerequisite = { focus = ENG_revitalize_the_economy }
		prerequisite = { focus = ENG_public_works_expansion }
		icon = GFX_focus_generic_low_cost_housing
		x = -1
		y = 1
		relative_position_id = ENG_revitalize_the_economy
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.5
				uses = 1
				category = construction_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_global_building_slots_factor = 0.1
				tooltip = global_building_slots_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_buildings_factor = 0.05
				tooltip = production_speed_buildings_factor_tt
			}
		}
	}

	focus = {
		id = ENG_expand_imperial_chemical_industries
		prerequisite = { focus = ENG_national_housing_initiative }
		icon = GFX_goal_ENG_imperial_chemical_industries
		x = 0
		y = 1
		relative_position_id = ENG_national_housing_initiative
		cost = 5
		ai_will_do = {
			base = 1
		}	

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = imperial_chemical_industries
		}
	}

	focus = {
		id = ENG_dual_pillars_of_industry
		prerequisite = { focus = ENG_national_housing_initiative }
		prerequisite = { focus = ENG_an_arsenal_for_the_empire }
		available = {
			has_civil_war = no
		}
		icon = GFX_goal_ENG_dual_pillars_economy
		x = -2
		y = 1
		relative_position_id = ENG_national_housing_initiative
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = ENG_replace_stagnant_with_powerhouse_tt
			add_to_variable = { 
				ENG_stagnant_industry_modifier_stability_factor = 0.05
				tooltip = stability_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_consumer_goods_factor = -0.1
				tooltip = consumer_goods_factor_tt
			}

			hidden_effect = {
				remove_dynamic_modifier = { modifier = ENG_stagnant_industry_modifier }
				add_dynamic_modifier = { modifier = ENG_industrial_powerhouse_modifier }
			}
		}
	}

	focus = {
		id = ENG_war_workshop_expansion
		prerequisite = { focus = ENG_dual_pillars_of_industry }
		icon = GFX_goal_ENG_war_workshop
		x = -1
		y = 1
		relative_position_id = ENG_dual_pillars_of_industry
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
		}
	}

	focus = {
		id = ENG_expand_the_lochaber_scheme
		prerequisite = { focus = ENG_dual_pillars_of_industry }
		icon = GFX_focus_generic_hydroelectric_energy
		x = 1
		y = 1
		relative_position_id = ENG_dual_pillars_of_industry
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					120 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				120 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_in_home_area = yes
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			120 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = {
						id = 11161
					}
				}
			}
			custom_effect_tooltip = {
				localization_key = building_state_modifier|dam
				INDENT = "    "
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_industrial_complex_factor = 0.05
				tooltip = production_speed_industrial_complex_factor_tt
			}
		}
	}

	focus = {
		id = ENG_total_war_mobilization
		prerequisite = { focus = ENG_expand_the_lochaber_scheme }
		prerequisite = { focus = ENG_war_workshop_expansion }
		available = {
			has_war_with_major = yes
			any_enemy_country = {
				ic_ratio = {
					tag = ROOT
					ratio > 0.5
				}
			}
		}
		icon = GFX_GENERIC_Military_Industrial_Complexes
		x = -1
		y = 1
		relative_position_id = ENG_expand_the_lochaber_scheme
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_consumer_goods_factor = -0.1
				tooltip = consumer_goods_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_line_change_production_efficiency_factor = 0.05
				tooltip = line_change_production_efficiency_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_factory_start_efficiency_factor = 0.05
				tooltip = production_factory_start_efficiency_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_conversion_cost_civ_to_mil_factor = -0.2
				tooltip = conversion_cost_civ_to_mil_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_local_resources_factor = 0.05
				tooltip = local_resources_factor_tt
			}
		}
	}
	
	#focus = {
	#	id = uk_embargo_focus
	#	available = { threat > 0.1 }
	#	icon = GFX_goal_support_democracy
	#	x = 12
	#	y = 0
	#	cost = 10
	#	ai_will_do = {
	#		factor = 1
	#	}	
	#	completion_reward = {
	#		every_other_country = {
	#			limit = { NOT = { has_government = democratic } }
	#			add_opinion_modifier = { target = ENG modifier = minor_sanctions }
	#			add_opinion_modifier = { target = ENG modifier = minor_sanctions_relations } 
	#		}
	#	}
	#}

	### EMPIRE ###

	focus = {
		id = uk_empire_focus 
		mutually_exclusive = { focus = ENG_revisit_colonial_policy }
		available = {
			num_subjects > 0
		} 
		icon = GFX_GBR_westerminster_dec
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = ENG_revisit_colonial_policy
				}
			}
		}
		x = 33
		y = 0
		offset = {
			x = 0
			y = 0
			trigger = {
				OR = {
					NOT = { has_dlc = "Man the Guns" }
					OR = {
						has_global_flag = his_only
						
					}
					AND = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
						has_completed_focus = uk_empire_focus
					}
				}
			}
		}
		cost = 10
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_completed_focus = ENG_concessions_to_the_trade_unions
			}
		}	

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_HISTORICAL FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			#custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_2

			custom_effect_tooltip = generic_skip_one_line_tt

			every_owned_state = {
				limit = {
					has_resistance = yes
					is_controlled_by = ROOT
					NOT = {
						is_core_of = ROOT
					}
					NOT = {
						is_on_continent = europe
					}
				}
				add_compliance = 5
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_edward_side
					}
				}
				ENG_bop_high_increase_king_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_mosley_side
					}
				}
				ENG_bop_high_increase_fascism_side_effect = yes
			}
			hidden_effect = {
				if = {
					limit = {
						has_dlc = "Man the Guns"
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}
	focus = {
		id = uk_service_focus 
		prerequisite = { focus = uk_empire_focus }
		available = {
			
		} 
		icon = GFX_goal_ENG_uk_service_focus
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = uk_empire_focus
		cost = 8

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 5
			navy_experience = 25
			air_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt
			add_ideas = ENG_service_overseas_idea
		}
	}
	focus = {
		id = uk_african_focus 
		prerequisite = { focus = uk_service_focus }
		available = {
			any_owned_state = {
				is_on_continent = africa
				is_controlled_by = ROOT
			}
			OR = {
				AND = {
					has_government = democratic					
					OR = {
						threat > 0.2
						has_war = yes
					}
				}
				AND = {
					has_government = neutrality					
					threat > 0.2
				}
				OR = {
					has_government = communism
					has_government = fascism
				}
			}
		} 
		icon = GFX_ENG_African_Sun
		x = 7
		y = 1
		offset = {
			x = -1
			y = 0
			trigger = {
				OR = {
					has_global_flag = his_only
				}
			}
		}
		relative_position_id = uk_service_focus
		cost = 10
		completion_reward = {
			add_political_power = 25
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					NOT = {
						is_core_of = ROOT
					}
					is_on_continent = africa
				}
				add_compliance = 5
			}
			545 = {
				add_extra_state_shared_building_slots = 2
			}
			546 = {
				add_extra_state_shared_building_slots = 2
			}
			547 = {
				add_extra_state_shared_building_slots = 2
			}
			548 = {
				add_extra_state_shared_building_slots = 2
			}
		}
	}

	focus = {
		id = uk_form_camel_corps
		prerequisite = { focus = uk_african_focus }
		available = {
			controls_state = 549
			controls_state = 885
			controls_state = 548
			controls_state = 904
		} 
		icon = GFX_z_goal_arab_another_bedouin
		x = 1
		y = 1
		relative_position_id = uk_african_focus
		cost = 6
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_tech = camelry
					}
				}
				custom_effect_tooltip = TUR_unlock_camelry_effect_tt
				hidden_effect = { set_technology = { camelry = 1 } }
			}
			division_template = {
				name = "Camel Brigade"
				division_names_group = ENG_CAV_02
				regiments = {
					camelry = { x = 0 y = 0 }
					camelry = { x = 0 y = 1 }
					camelry = { x = 1 y = 2 }
					camelry = { x = 1 y = 0 }
					camelry = { x = 1 y = 1 }
					camelry = { x = 1 y = 2 }
				}
			}
			random_owned_controlled_state = {
				limit = { 
					ROOT = { has_full_control_of_state = PREV } 
					is_on_continent = africa
				}
				prioritize = { 549 885 548 904 }
				create_unit = {
					division = "name = \"1. Camel Brigade\" division_template = \"Camel Brigade\" start_experience_factor = 0.1" 
					owner = ENG
				}
				create_unit = {
					division = "name = \"2. Camel Brigade\" division_template = \"Camel Brigade\" start_experience_factor = 0.1" 
					owner = ENG
				}
				create_unit = {
					division = "name = \"3. Camel Brigade\" division_template = \"Camel Brigade\" start_experience_factor = 0.1" 
					owner = ENG
				}
				create_unit = {
					division = "name = \"4. Camel Brigade\" division_template = \"Camel Brigade\" start_experience_factor = 0.1" 
					owner = ENG
				}
				create_unit = {
					division = "name = \"5. Camel Brigade\" division_template = \"Camel Brigade\" start_experience_factor = 0.1" 
					owner = ENG
				}
			}
		}
	}

	focus = {
		id = uk_develop_africas_infrastructure
		prerequisite = { focus = uk_african_focus }
		available = {
			controls_state = 549
			controls_state = 885
			controls_state = 548
			controls_state = 904
		} 
		icon = GFX_z_goal_supply_of_weapons
		x = -1
		y = 1
		relative_position_id = uk_african_focus
		cost = 8
		completion_reward = {
			build_railway = {
				#level = 1
				path = { 11999 10844 8105 }
			}
			build_railway = {
				#level = 1
				path = { 10932 11017 10860 }
			}
			build_railway = {
				#level = 1
				path = { 12504 10930 1846 10988 2176 8144 }
			}
			build_railway = {
				#level = 1
				path = { 12806 10795 10851 12744 10908 7996 7133 8223 12929 5160 }
			}
			885 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 10908
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = uk_mediterranean_focus 
		prerequisite = { focus = uk_service_focus }
		available = {
			447 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
			OR = {
				AND = {
					has_government = democratic					
					OR = {
						threat > 0.2
						has_war = yes
					}
				}
				AND = {
					has_government = neutrality					
					threat > 0.2
				}
				OR = {
					has_government = communism
					has_government = fascism
				}
			}
		} 
		icon = GFX_goal_ENG_Locking_Down_the_Med
		x = 12
		y = 1
		offset = {
			x = -1
			y = 0
			trigger = {
				OR = {
					has_global_flag = his_only
				}
			}
		}
		relative_position_id = uk_service_focus
		cost = 5
		completion_reward = {
			if = {
				limit = {
					has_idea = ENG_fortify_the_empire_1
				}
				swap_ideas = {
					remove_idea = ENG_fortify_the_empire_1
					add_idea = ENG_fortify_the_empire_2
				}
			}
			if = {
				limit = {
					NOT = { has_idea = ENG_fortify_the_empire_1 }
					NOT = { has_idea = ENG_fortify_the_empire_2 }
				}
				add_ideas = ENG_fortify_the_empire_1
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			447 = {
				add_building_construction = {
					type = coastal_bunker
					level = 3
					province = 4076
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					province = 4076
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = uk_protect_cyprus
		prerequisite = { focus = uk_mediterranean_focus }
		mutually_exclusive = { focus = uk_protect_suez }
		available = {
			183 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		icon = GFX_goal_ENG_protect_cyprus
		x = 2
		y = 1
		relative_position_id = uk_mediterranean_focus
		cost = 9
		ai_will_do = {
			base = 1
		}
		
		search_filters = {}

		completion_reward = {
			183 = {
				add_compliance = 5
				add_building_construction = { 
					type = coastal_bunker 
					level = 3 
					province = 7193   
					instant_build = yes
				}	
				add_building_construction = { 
					type = coastal_bunker 
					level = 3 
					province = 11984   
					instant_build = yes
				}
				add_building_construction = { 
					type = naval_base 
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building 
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = uk_malta_focus 
		prerequisite = { focus = uk_protect_cyprus }
		available = {
			116 = { is_owned_and_controlled_by = ENG }
		}		
		icon = GFX_goal_ENG_Mediterranean_Bastion
		x = 0
		y = 1
		relative_position_id = uk_protect_cyprus
		cost = 8

		available_if_capitulated = yes

		completion_reward = {
			116 = {
				add_compliance = 5
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 12003
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = uk_balkan_strategy
		prerequisite = { focus = uk_malta_focus focus = uk_protect_suez }
		icon = GFX_focus_BUL_free_balkan_states
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				has_government = democratic
			}
			else = {
				OR = {
					has_government = democratic
					has_completed_focus = ENG_the_kings_party
				}
			}
		}
		bypass = {
			NOT = {
				country_exists = YUG
				country_exists = GRE
				country_exists = ROM
				country_exists = BUL
				country_exists = HUN
			}
		}
		x = -1
		y = 1
		relative_position_id = uk_malta_focus
		cost = 6
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			every_country = {
				limit = {
					OR = {
						tag = YUG
						tag = GRE
						tag = ROM
					}
					NOT = {
						OR = {
							AND = {
								is_in_faction_with = GER
								GER = { has_government = fascism }
							}
							AND = {
								is_in_faction_with = ITA
								ITA = { has_government = fascism }
							}
							GRE = { 
								has_country_flag = GRE_britain_rebuffed
							}
						}
					}
				}
				country_event = { id = generic.19 }
				add_offsite_building = { type = arms_factory level = 2 }
			}
			YUG = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_good } }
			GRE = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_good } }
			ROM = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_good } }
			BUL = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_bad } }
			HUN = { add_opinion_modifier = { target = ENG modifier = balkan_strategy_bad } }
			hidden_effect = {
				news_event = {
					hours = 6 id = news.228
				}
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
				}
				country_event = {
					id = DOD_yugoslavia.40
					days = 5
				}
			}
		}
	}

	focus = {
		id = uk_turkey_focus
		prerequisite = { focus = uk_balkan_strategy }
		mutually_exclusive = { focus = uk_greece_focus }
		available = {
			TUR = {
				exists = yes
				has_war = no
				NOT = { is_in_faction_with = ENG }
				is_subject = no
			}
			NOT = { has_government = communism }
		} #TUR not in a faction
		#prerequisite = { focus = uk_battleship_focus }
		icon = GFX_focus_generic_befriend_turkey
		x = -1
		y = 1
		relative_position_id = uk_balkan_strategy
		cost = 9
		ai_will_do = {
			base = 1
		}	
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			# + relations with TUR - they become more democratic and like fascist/commies less
			if = {
				limit = { has_government = democratic }
				TUR = {
					add_opinion_modifier = { target = ENG modifier = democratic_leanings_good }
					add_timed_idea = { idea = democratic_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = democratic }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = TUR modifier = democratic_leanings_bad }
				}
			}
			if = {
				limit = { has_government = fascism }
				TUR = {
					add_opinion_modifier = { target = ENG modifier = fascism_leanings_good }
					add_timed_idea = { idea = fascist_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = fascism }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = TUR modifier = fascism_leanings_bad }
				}
			}
			if = {
				limit = { has_government = neutrality }
				TUR = {
					add_opinion_modifier = { target = ENG modifier = neutrality_leanings_good }
					add_timed_idea = { idea = neutrality_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = neutrality }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = TUR modifier = neutrality_leanings_bad }
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.225 }
			}
		}
	}

	focus = {
		id = uk_protect_bosphorus
		prerequisite = { focus = uk_turkey_focus }
		available = {
			OR = {
				any_other_country = {
					original_tag = TUR
					exists = yes
					is_in_faction_with = ENG
					has_full_control_of_state = 341
					has_full_control_of_state = 797
				}
				any_allied_country = {
					has_full_control_of_state = 341
					has_full_control_of_state = 797
				}
			}
		}
		icon = GFX_focus_TUR_the_montreux_convention
		x = 0
		y = 1
		relative_position_id = uk_turkey_focus
		cost = 8

		available_if_capitulated = yes

		completion_reward = {
			341 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 922
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 11842
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 3893
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 849
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			797 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 9833
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = ENG_reform_balkan_entente
		icon = GFX_focus_TUR_reform_the_balkan_pact
		prerequisite = { focus = uk_protect_bosphorus }
		x = 0
		y = 1
		relative_position_id = uk_protect_bosphorus
		ai_will_do = {
			base = 0
		}
		allow_branch = {
			has_dlc = "Battle for the Bosporus"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = ENG_revisit_colonial_policy
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}
		available = {
			GRE = {
				exists = yes
				has_war = no
				is_in_faction = no
				is_subject = no
				NOT = {
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
			ROM = {
				exists = yes
				has_war = no
				is_in_faction = no
				is_subject = no
				NOT = {
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
			TUR = {
				exists = yes
				has_war = no
				is_in_faction = no
				is_subject = no
				NOT = {
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
			YUG = {
				exists = yes
				has_war = no
				is_in_faction = no
				is_subject = no
				NOT = {
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
		}

		cost = 9

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
					NOT = {
						OR = {
							has_completed_focus = TUR_revive_turkish_revolutionism
							has_completed_focus = TUR_pivot_to_the_past
							has_completed_focus = TUR_reconfigure_our_foreign_policy
						}
					}
				}
				TUR = {
					complete_national_focus = TUR_continue_to_prioritise_balkan_integrity
					complete_national_focus = TUR_reaffirm_the_balkan_pact
				}
			}
			else = {
				TUR = {
					set_rule = { can_create_factions = yes }
					create_faction = TUR_balkan_pact
					if = {
						limit = {
							GRE = {
								is_in_faction = no
								NOT = {
									OR = {
										has_government = fascism
										has_government = communism
									}
								}
							}
						}
						GRE = {
							country_event = { id = generic.5 }
						}
					}
					if = {
						limit = {
							ROM = {
								is_in_faction = no
								NOT = {
									OR = {
										has_government = fascism
										has_government = communism
									}
								}
							}
						}
						ROM = {
							country_event = { id = generic.5 }
						}
					}
					if = {
						limit = {
							YUG = {
								is_in_faction = no
								NOT = {
									OR = {
										has_government = fascism
										has_government = communism
									}
								}
							}
						}
						YUG = {
							country_event = { id = generic.5 }
						}
					}
				}
			}
		}
	}
	focus = {
		id = uk_greece_focus 
		prerequisite = { focus = uk_balkan_strategy } 
		mutually_exclusive = { focus = uk_turkey_focus }
		available = {
			GRE = {
				exists = yes
				has_war = no
				NOT = { is_in_faction_with = ENG }
				is_subject = no
			}
			NOT = { has_government = communism }
		} 
		icon = GFX_focus_generic_befriend_greece
		x = 1
		y = 1
		relative_position_id = uk_balkan_strategy
		cost = 9
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			if = {
				limit = { has_government = democratic }
				GRE = {
					add_opinion_modifier = { target = ENG modifier = democratic_leanings_good }
					add_timed_idea = { idea = democratic_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = democratic }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = GRE modifier = democratic_leanings_bad }
				}
			}
			if = {
				limit = { has_government = fascism }
				GRE = {
					add_opinion_modifier = { target = ENG modifier = fascism_leanings_good }
					add_timed_idea = { idea = fascist_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = fascism }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = GRE modifier = fascism_leanings_bad }
				}
			}
			if = {
				limit = { has_government = neutrality }
				GRE = {
					add_opinion_modifier = { target = ENG modifier = neutrality_leanings_good }
					add_timed_idea = { idea = neutrality_influence days = 1095 }
					country_event = { id = generic.1 }
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = neutrality }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = GRE modifier = neutrality_leanings_bad }
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.226 }
			}
		}
	}

	focus = {
		id = uk_protect_aegean_islands
		prerequisite = { focus = uk_greece_focus }
		available = {
			OR = {
				any_other_country = {
					original_tag = GRE
					exists = yes
					is_in_faction_with = ENG
					has_full_control_of_state = 182
					has_full_control_of_state = 187
				}
				any_allied_country = {
					has_full_control_of_state = 182
					has_full_control_of_state = 187
				}
			}
		}		
		icon = GFX_goal_generic_aegean_sea
		x = 0
		y = 1
		relative_position_id = uk_greece_focus
		cost = 8

		available_if_capitulated = yes

		completion_reward = {
			182 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 12058
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 1164
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 9940
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 4170
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
			187 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 8435
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 6550
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ENG_enosis_focus
		icon = GFX_z_goal_greek_cypriot_support
		prerequisite = { focus = uk_protect_aegean_islands }
		x = 0
		y = 1
		relative_position_id = uk_protect_aegean_islands
		ai_will_do = {
			base = 0
		}
		allow_branch = {
			has_dlc = "Battle for the Bosporus"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = ENG_revisit_colonial_policy
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}
		available = {
			has_full_control_of_state = 183
			GRE = {
				exists = yes
				NOT = { has_war_with = ENG }
				is_subject = no
				OR = {
					is_in_faction = no
					is_in_faction_with = ENG
				}
			}
			NOT = { 
				OR = {
					has_government = communism
					has_government = fascism
				}
			}
		}

		bypass = {
			AND = {
				CYP = { exists = no }
				ENG = { 
					NOT = { 
						owns_state = 183
					}
				}
			}
		}

		cost = 9

		complete_tooltip = {
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
				}
				GRE = { country_event = { id = bftb_greece.60 } }
				effect_tooltip = {
					CYP = { transfer_state = 183 }
					GRE = { puppet = CYP }
					hidden_effect = { 
						if = { 
							limit = { 
								has_dlc = "Together for Victory"
							}		
							GRE = {
								set_autonomy = { target = CYP autonomy_state = autonomy_dominion }
							}
						}
						else = {
							GRE = {
								set_autonomy = { target = CYP autonomy_state = autonomy_puppet }
							}
						}
						CYP = { set_cosmetic_tag = CYP_UK }
						183 = { add_core_of = GRE }
					}
					if = { 
						limit = { 
							ENG = { is_faction_leader = yes } 
							GRE = { is_in_faction = no }
						}
						ENG = {
							add_to_faction = GRE
						}
					}
				}
			}
			else = {
				CYP = { transfer_state = 183 }
				GRE = { puppet = CYP }
				hidden_effect = { 
					if = { 
						limit = { 
							has_dlc = "Together for Victory"
						}		
						GRE = {
							set_autonomy = { target = CYP autonomy_state = autonomy_dominion }
						}
					}
					else = {
						GRE = {
							set_autonomy = { target = CYP autonomy_state = autonomy_puppet }
						}
					}
					CYP = { set_cosmetic_tag = CYP_UK }
					183 = { add_core_of = GRE }
				}
				if = { 
					limit = { 
						ENG = { is_faction_leader = yes } 
						GRE = { is_in_faction = no }
					}
					ENG = {
						add_to_faction = GRE
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
				}
				GRE = { country_event = { id = bftb_greece.60 } }
				effect_tooltip = {
					CYP = { transfer_state = 183 }
					GRE = { puppet = CYP }
					hidden_effect = { 
						if = { 
							limit = { 
								has_dlc = "Together for Victory"
							}		
							GRE = {
								set_autonomy = { target = CYP autonomy_state = autonomy_dominion }
							}
						}
						else = {
							GRE = {
								set_autonomy = { target = CYP autonomy_state = autonomy_puppet }
							}
						}
						CYP = { set_cosmetic_tag = CYP_UK }
						183 = { add_core_of = GRE }
					}
					if = { 
						limit = { 
							ENG = { is_faction_leader = yes } 
							GRE = { is_in_faction = no }
						}
						ENG = {
							add_to_faction = GRE
						}
					}
				}
			}
			else = {
				CYP = { transfer_state = 183 }
				GRE = { puppet = CYP }
				hidden_effect = { 
					if = { 
						limit = { 
							has_dlc = "Together for Victory"
						}		
						GRE = {
							set_autonomy = { target = CYP autonomy_state = autonomy_dominion }
						}
					}
					else = {
						GRE = {
							set_autonomy = { target = CYP autonomy_state = autonomy_puppet }
						}
					}
					CYP = { set_cosmetic_tag = CYP_UK }
					183 = { add_core_of = GRE }
				}
				if = {
					limit = { 
						ENG = { is_faction_leader = yes } 
						GRE = { is_in_faction = no }
					}
					ENG = {
						add_to_faction = GRE
					}
				}
			}
		}
	}

	focus = {
		id = uk_protect_suez
		prerequisite = { focus = uk_mediterranean_focus }
		mutually_exclusive = { focus = uk_protect_cyprus }
		icon = GFX_focus_generic_the_suez
		x = -2
		y = 1
		relative_position_id = uk_mediterranean_focus
		cost = 9
		ai_will_do = {
			base = 1
		}

		available = {
			447 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		# Needs province based trigger to work properly
		#bypass = {
		#	447 = {
		#		free_building_slots = {
		#			building = coastal_bunker
		#			size < 1
		#		}
		#		free_building_slots = {
		#			building = naval_base
		#			size < 1
		#		}
		#		free_building_slots = {
		#			building = air_base
		#			size < 1
		#		}
		#		free_building_slots = {
		#			building = bunker
		#			size < 1
		#		}
		#	}
		#}

		completion_reward = {
			447 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 4076
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 1071
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			907 = { 
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 10127
				}
            	add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 7216
				}
			}
		}
	}

	focus = {
		id = uk_rock_focus 
		prerequisite = { focus = uk_protect_suez }
		mutually_exclusive = { focus = uk_spain_focus }
		available = {
			118 = { is_owned_and_controlled_by = ENG }
		} 
		icon = GFX_goal_ENG_Fortify_the_Rock
		x = 1
		y = 1
		relative_position_id = uk_protect_suez
		cost = 9
		completion_reward = {
			118 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 4135
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 4135
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = uk_protect_spanish_morocco
		prerequisite = { focus = uk_rock_focus }
		available = {
			290 = { is_owned_and_controlled_by = ENG }
		} 
		icon = GFX_goal_generic_construct_military
		x = 0
		y = 1
		relative_position_id = uk_rock_focus
		cost = 9
		completion_reward = {
			290 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 10113
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 12087
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 9945
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = uk_spain_focus
		prerequisite = { focus = uk_protect_suez }
		mutually_exclusive = { focus = uk_rock_focus }
		available = {
			any_other_country = {
				original_tag = SPR
				exists = yes
				has_war = no
				NOT = { is_in_faction_with = ENG }
				is_subject = no
			}
			NOT = { has_government = communism }
		} #SPA/SPR not in a faction
		icon = GFX_focus_generic_befriend_republican_spain_focus
		x = -1
		y = 1
		relative_position_id = uk_protect_suez
		cost = 9
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			# + relations with SPA/SPR - they become more democratic and like fascist/commies less
			if = {
				limit = {
					has_government = democratic
				}
				every_other_country = {
					limit = {
						original_tag = SPR
					}
					add_opinion_modifier = { target = ENG modifier = democratic_leanings_good }
					add_timed_idea = { idea = democratic_influence days = 1095 }
					country_event = { id = generic.1 }
					every_other_country = {
						limit = { 
							NOT = { has_government = democratic }
							num_of_factories > 30
						}
						add_opinion_modifier = { target = PREV modifier = democratic_leanings_bad }
					}
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				every_other_country = {
					limit = {
						original_tag = SPR
					}
					add_opinion_modifier = { target = ENG modifier = fascism_leanings_good }
					add_timed_idea = { idea = fascist_influence days = 1095 }
					country_event = { id = generic.1 }
					every_other_country = {
						limit = { 
							NOT = { has_government = fascism }
							num_of_factories > 30
						}
						add_opinion_modifier = { target = PREV modifier = fascism_leanings_bad }
					}
				}
			}
			if = {
				limit = {
					has_government = neutrality
					NOT = {
						has_completed_focus = SPR_regional_defense_council_of_aragon
					}
				}
				every_other_country = {
					limit = {
						original_tag = SPR
					}
					add_opinion_modifier = { target = ENG modifier = neutrality_leanings_good }
					add_timed_idea = { idea = neutrality_influence days = 1095 }
					country_event = { id = generic.1 }
					every_other_country = {
						limit = { 
							NOT = { has_government = fascism }
							num_of_factories > 30
						}
						add_opinion_modifier = { target = PREV modifier = neutrality_leanings_bad }
					}
				}
			}
			hidden_effect = {
				news_event = { hours = 5 id = news.224 }
			}
		}
	}

	focus = {
		id = uk_protect_pyrenees
		prerequisite = { focus = uk_spain_focus }
		available = {
			any_other_country = {
				original_tag = SPR
				exists = yes
				is_in_faction_with = ENG
				has_full_control_of_state = 165
				has_full_control_of_state = 172
			}
		} 
		icon = GFX_goal_ENG_protect_pyrenees
		x = 0
		y = 1
		relative_position_id = uk_spain_focus
		cost = 9
		completion_reward = {
			165 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 4135
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 4135
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			172 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 4135
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			794 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 899
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 2
					province = 915
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			166 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 11838
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
			792 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 6756
					instant_build = yes
				}
			}
		}
	}

	### DECOLONIZATION ###

	focus = {
		id = ENG_revisit_colonial_policy
		mutually_exclusive = { focus = uk_empire_focus }

		allow_branch = {
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = uk_empire_focus
				}
			}
			NOT = {
				OR = {
                    has_global_flag = his_only
                    has_game_rule = {
				    	rule = ef_historical_only
				    	option = ENABLED
				    }
                }
			}
		}

		available = { 
			is_subject = no
			OR = {
				has_government = democratic
				has_government = communism
			}
		}

		continue_if_invalid = yes

		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		x = 51
		y = 0
		offset = {
			x = -26
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_revisit_colonial_policy
			}
		}

		cost = 10
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_completed_focus = ENG_global_defense
					has_country_leader = {
					    character = ENG_winston_churchill
					    ruling_only = yes
					}
				}
			}
		}	
		search_filters = {FOCUS_FILTER_POLITICAL}
		completion_reward = {
			add_stability = -0.05
			add_popularity = { ideology = communism popularity = 0.05 }
			add_political_power = 100
			#custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_2
			hidden_effect = { news_event = { id = mtg_news.14 days = 1 } }
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_communism_side
					}
				}
				ENG_bop_high_increase_communism_side_effect = yes
			}
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = ENG_guide_the_colonies
		prerequisite = { focus = ENG_revisit_colonial_policy }
		available = { 
			is_subject = no
			num_subjects > 0
		}
		bypass = {
			num_subjects < 1
		}

		continue_if_invalid = yes

		icon = GFX_focus_chi_british_cooperation
		x = 0
		y = 1
		relative_position_id = ENG_revisit_colonial_policy
		cost = 10
		ai_will_do = {
			base = 1
		}	
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = {
			add_political_power = 80
			CAN = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_1
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
			SAF = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_1
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
			AST = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_1
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
			NZL = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_1
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
			MAL = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_2
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
			BRM = {
				if = {
					limit = {
						is_subject_of = ENG
					}
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_2
					hidden_effect = { country_event = { id =  mtg_britain.17 hours = 6 } }
				}
			}
		}
	}

	focus = {
		id = ENG_towards_dominion_independence
		prerequisite = { focus = ENG_guide_the_colonies }
		available = { 
			is_subject = no
			OR = {
				CAN = { is_subject_of = ENG }
				SAF = { is_subject_of = ENG }
				AST = { is_subject_of = ENG }
				NZL = { is_subject_of = ENG }
			}
		}
		bypass = {
			OR = {
				AND = {
					CAN = { is_subject = no }
					SAF = { is_subject = no }
					AST = { is_subject = no }
					NZL = { is_subject = no }
				}
				has_completed_focus = ENG_bring_the_dominions_back_into_the_fold
			}
		}

		continue_if_invalid = yes

		icon = GFX_goal_tfv_sever_ties_with_uk
		x = -1
		y = 1
		relative_position_id = ENG_guide_the_colonies
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 100
			add_manpower = 100000
			CAN = {
				if = {
					limit = {
						is_subject_of = ENG
						has_idea = ENG_guided_by_britain_1
					}
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_1
						add_idea = ENG_guided_by_britain_2
					}
					hidden_effect = { country_event = { id =  mtg_britain.18 hours = 6 } }
				}
			}
			SAF = {
				if = {
					limit = {
						is_subject_of = ENG
						has_idea = ENG_guided_by_britain_1
					}
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_1
						add_idea = ENG_guided_by_britain_2
					}
					hidden_effect = { country_event = { id =  mtg_britain.18 hours = 6 } }
				}
			}
			AST = {
				if = {
					limit = {
						is_subject_of = ENG
						has_idea = ENG_guided_by_britain_1
					}
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_1
						add_idea = ENG_guided_by_britain_2
					}
					hidden_effect = { country_event = { id =  mtg_britain.18 hours = 6 } }
				}
			}
			NZL = {
				if = {
					limit = {
						is_subject_of = ENG
						has_idea = ENG_guided_by_britain_1
					}
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_1
						add_idea = ENG_guided_by_britain_2
					}
					hidden_effect = { country_event = { id =  mtg_britain.18 hours = 6 } }
				}
			}
		}
	}

	focus = {
		id = ENG_foundations_for_an_indian_state
		prerequisite = { focus = ENG_towards_dominion_independence }
		available = {
			is_subject = no
			OR = {
				RAJ = { is_subject_of = ENG }
				hidden_trigger = { 
					if = {
						limit = {
							has_dlc = "Graveyard of Empires"
							has_event_target = UK_INDIA
						} 
						event_target:UK_INDIA = { is_subject_of = ENG } 
					}
				}
			}
		}
		bypass = {
			RAJ = { is_subject = no }
			if = {
				limit = {
					has_dlc = "Graveyard of Empires"
					has_event_target = UK_INDIA
				}
				event_target:UK_INDIA = {
					exists = no
					NOT = { is_subject_of = ROOT }
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_focus_RAJ_all_india_forward_bloc
		x = -1
		y = 1
		relative_position_id = ENG_towards_dominion_independence
		cost = 10
		ai_will_do = {
			base = 1
		}	

		complete_tooltip = {
			RAJ = {
				every_state = {
					limit = { has_state_flag = ENG_foundations_for_an_indian_state_2IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			add_political_power = 60

			IF = {
				limit = {
					has_dlc = "Graveyard of Empires"
					has_event_target = UK_INDIA
					event_target:UK_INDIA = {
						exists = yes
					}
				}
				event_target:UK_INDIA = {
					IF = {
						limit = { is_subject_of = ENG }
						add_stability = 0.05
						add_opinion_modifier = { target = ENG modifier = 	ENG_guiding_the_colonies }
						add_ideas = ENG_guided_by_britain_raj_1
						hidden_effect = { country_event = { id = mtg_britain.19 hours 	= 6 } }
						random_owned_controlled_state = {
							limit = {
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
								is_core_of = PREV
							}
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = industrial_complex
								level = 2
								instant_build = yes
							}
							set_state_flag = ENG_foundations_for_an_indian_state_2IC
						}
						random_owned_controlled_state = {
							limit = {
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
								is_core_of = PREV
							}
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = industrial_complex
								level = 2
								instant_build = yes
							}
							set_state_flag = ENG_foundations_for_an_indian_state_2IC
						}
					}
				}
			}
			RAJ = {
				if = {
					limit = { is_subject_of = ENG }
					add_stability = 0.05
					add_opinion_modifier = { target = ENG modifier = ENG_guiding_the_colonies }
					add_ideas = ENG_guided_by_britain_raj_1
					hidden_effect = { country_event = { id = mtg_britain.19 hours = 6 } }
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_core_of = PREV
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
						set_state_flag = ENG_foundations_for_an_indian_state_2IC
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							is_core_of = PREV
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
						set_state_flag = ENG_foundations_for_an_indian_state_2IC
					}
				}
			}
		}
	}

	focus = {
		id = ENG_the_three_nation_solution
		prerequisite = { focus = ENG_foundations_for_an_indian_state }
		available = { 
			is_subject = no
			RAJ = { is_subject_of = ENG }
		}
		bypass = {
		}

		continue_if_invalid = yes

		icon = GFX_focus_RAJ_two_nation_theory
		x = 1
		y = 1
		relative_position_id = ENG_foundations_for_an_indian_state
		cost = 10
		ai_will_do = {
			base = 1
		}	
		allow_branch = { 
			NOT = { has_dlc = "Graveyard of Empires" }  #this focus is totally incompatible with GoE
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = uk_empire_focus
				}
			}
			NOT = {
				OR = {
                    has_global_flag = his_only
                    has_game_rule = {
				    	rule = ef_historical_only
				    	option = ENABLED
				    }
                }
			}
		}
		completion_reward = {
			RAJ = {
				if = {
					limit = {
						has_full_control_of_state = 444
						has_full_control_of_state = 443
						has_full_control_of_state = 445
						has_full_control_of_state = 440
						has_full_control_of_state = 442
						has_full_control_of_state = 441
						has_full_control_of_state = 430
					}
					effect_tooltip = {
						add_opinion_modifier = { target = ENG modifier = ENG_three_nation_solution }
						release = BAN
						ENG = { set_autonomy = { target = BAN autonomy_state = autonomy_colony } }
						BAN = {
							add_ideas = ENG_guided_by_britain_raj_1
							hidden_effect = {
								set_politics = {
									ruling_party = democratic
									last_election = "1936.1.1"
									election_frequency = 48
									elections_allowed = yes
								}
								set_popularities = {
									democratic = 65
									fascism = 10
									communism =  2
									neutrality = 23
								}
								every_other_country = {
									limit = {
										has_war_with = ENG
									}
									BAN = {
										add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
									}
								}
							}
						}
						release = PAK
						ENG = { set_autonomy = { target = PAK autonomy_state = autonomy_colony } }
						PAK = {
							add_ideas = ENG_guided_by_britain_raj_1
							hidden_effect = {
								set_politics = {
									ruling_party = neutrality
									last_election = "1935.11.14"
									election_frequency = 48
									elections_allowed = no
								}
								set_popularities = {
									democratic = 17
									fascism = 2
									communism = 1
									neutrality = 80
								}
								every_other_country = {
									limit = {
										has_war_with = ENG
									}
									PAK = {
										add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
									}
								}
							}
						}
					}
					hidden_effect = {
						country_event = { id = mtg_britain.20 hours = 6 }
					}
				}
			}
		}
	}

	focus = {
		id = ENG_towards_indian_independence
		prerequisite = { focus = ENG_foundations_for_an_indian_state }
		available = { 
			is_subject = no
			if = {
				limit = {
					has_dlc = "Graveyard of Empires"
					has_event_target = UK_INDIA
				}
				event_target:UK_INDIA = {
					is_subject_of = ROOT
				}
			}
			else = {
				RAJ = { is_subject_of = ENG }
			}
			hidden_trigger = {
				if = {
					limit = {
						has_dlc = "Graveyard of Empires"
						has_event_target = UK_INDIA
					}
					event_target:UK_INDIA = { is_subject_of = ENG }
				}
			}
		}
		bypass = {
			OR = {
				RAJ = { is_subject = no }
				has_completed_focus = ENG_reclaim_the_jewel_in_the_crown
			}
			if = {
				limit = {
					has_dlc = "Graveyard of Empires"
					has_event_target = UK_INDIA
				}
				event_target:UK_INDIA = {
					exists = no
					NOT = { is_subject_of = ROOT }
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_goal_dominion_of_india
		x = 0
		y = 2
		relative_position_id = ENG_foundations_for_an_indian_state
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 150
			add_manpower = 150000

			IF = {
				limit = {
					has_dlc = "Graveyard of Empires"
					has_event_target = UK_INDIA
					event_target:UK_INDIA = {
						exists = yes
					}
				}
				event_target:UK_INDIA = { 
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_RAJ_1
						add_idea = ENG_guided_by_britain_RAJ_2
					}
					drop_cosmetic_tag = yes
					retire_country_leader = yes
					hidden_effect = { country_event = { id = mtg_britain.21 hours = 6 } }
				}
			}

			IF = {
				limit = {
					has_event_target = UK_INDIA
					event_target:UK_INDIA = {
						exists = yes
					}
				}
				RAJ = {
				    remove_ideas = ENG_guided_by_britain_RAJ_1
			    }
		    }

			ELSE = {
				RAJ = {
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_RAJ_1
						add_idea = ENG_guided_by_britain_RAJ_2
					}
					hidden_effect = { country_event = { id = mtg_britain.21  hours = 6 	} }
				}
			}

			if = {
				limit = {
					country_exists = PAK
				}
				PAK = {
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_RAJ_1
						add_idea = ENG_guided_by_britain_RAJ_2
					}
					hidden_effect = { country_event = { id = mtg_britain.21  hours = 6 } }
				}
			}
			if = {
				limit = {
					country_exists = BAN
				}
				BAN = {
					swap_ideas = {
						remove_idea = ENG_guided_by_britain_RAJ_1
						add_idea = ENG_guided_by_britain_RAJ_2
					}
					hidden_effect = { country_event = { id = mtg_britain.21  hours = 6 } }
				}
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					NOT = { has_dlc = "Graveyard of Empires" }
					RAJ = {
						is_subject = yes
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = RAJ autonomy_state = autonomy_dominion }
			}



			if = {
				limit = {
					has_dlc = "Together for Victory"
					BAN = {
						is_subject = yes
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = BAN autonomy_state = autonomy_dominion }
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					PAK = {
						is_subject = yes
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = PAK autonomy_state = autonomy_dominion }
			}
			if = {
				limit = {
					NOT = { has_dlc = "Graveyard of Empires" }
				}
				RAJ = {
					drop_cosmetic_tag = yes
					retire_country_leader = yes
				}
			}
		}
	}

	focus = {
		id = ENG_withdraw_from_contested_territories
		prerequisite = { focus = ENG_guide_the_colonies }
		available = { 
			is_subject = no
			OR = {
				has_full_control_of_state = 659
				has_full_control_of_state = 326
				has_full_control_of_state = 332
				has_full_control_of_state = 331
				has_full_control_of_state = 119
				has_full_control_of_state = 118
				has_full_control_of_state = 906
			}
		}
		bypass = {
			NOT = {
				OR = {
					owns_state = 659
					owns_state = 326
					owns_state = 332
					owns_state = 331
					owns_state = 119
					owns_state = 118
					owns_state = 906
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_z_goal_freedom_through_equality
		x = 1
		y = 1
		relative_position_id = ENG_guide_the_colonies
		cost = 5
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_stability = -0.15
			add_manpower = 25000
			if = {
				limit = {
					has_full_control_of_state = 659
				}
				YEM = {
					transfer_state = 659
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
				659 = {
					add_core_of = FSA
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 906
				}
				YEM = {
					transfer_state = 906
					IF = {
						limit = {
							YEM = { NOT = { has_opinion_modifier = ENG_returned_our_territory} }
						}
						add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 992
				}
				YEM = {
					transfer_state = 992
					IF = {
						limit = {
							YEM = { NOT = { has_opinion_modifier = ENG_returned_our_territory} }
						}
						add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
					}
				}
			}
			if = {
				limit = {
					RAJ = {
						has_full_control_of_state = 992
						is_subject_of = ROOT
					}
				}
				YEM = {
					transfer_state = 992
					IF = {
						limit = {
							YEM = { NOT = { has_opinion_modifier = ENG_returned_our_territory} }
						}
						add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
						add_opinion_modifier = { target = RAJ modifier = ENG_returned_our_territory }
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 326
				}
				event_target:WTT_current_china_leader = {
					transfer_state = 326
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 332
				}
				CAN = {
					transfer_state = 332
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 331
				}
				CAN = {
					transfer_state = 331
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 299
					has_full_control_of_state = 720
				}
				ARG = {
					transfer_state = 299
					299 = { add_core_of = ARG }
					transfer_state = 720
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 119
				}
				IRE = {
					transfer_state = 119
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 118
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						if = {
							limit = {
								country_exists = SPD
							}
							tag = SPD
						}
						else_if = {
							limit = {
								country_exists = SPA
							}
							tag = SPA
						}
						else_if = {
							limit = {
								country_exists = SPB
							}
							tag = SPB
						}
						else_if = {
							limit = {
								country_exists = SPC
							}
							tag = SPC
						}
					}
					transfer_state = 118
					118 = { add_core_of = PREV }
					if = {
						limit = {
							NOT = { has_global_flag = scw_over }
						}
						every_other_country = {
							limit = {
								original_tag = SPR
								exists = yes
							}
							118 = { add_core_of = PREV }
						}
					}
					add_opinion_modifier = { target = ENG modifier = ENG_returned_our_territory }
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_the_mediterranean
		prerequisite = { focus = ENG_withdraw_from_contested_territories }
		available = { 
			is_subject = no
			OR = {
			    has_full_control_of_state = 116
			    has_full_control_of_state = 183
		    }
		}
		bypass = {
			NOT = {
				AND = {
					owns_state = 116
					owns_state = 183
		        }
			}
		}

		

		icon = GFX_focus_generic_befriend_cyprus
		x = -1
		y = 1
		relative_position_id = ENG_withdraw_from_contested_territories
		cost = 5
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 50
			add_manpower = 10000
			if = {
				limit = {
					has_full_control_of_state = 116
				}
				release = MLT
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = MLT autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = MLT
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						MLT = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 183
				}
				release = CYP
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = CYP autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = CYP
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						CYP = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_africa
		prerequisite = { focus = ENG_self_government_for_the_mediterranean }
		available = { 
			is_subject = no
			OR = {
				has_full_control_of_state = 767
				has_full_control_of_state = 551
				has_full_control_of_state = 549
				has_full_control_of_state = 269
				has_full_control_of_state = 548
				has_full_control_of_state = 547
				has_full_control_of_state = 903
				has_full_control_of_state = 904
				has_full_control_of_state = 905
				has_full_control_of_state = 546
				has_full_control_of_state = 771
				has_full_control_of_state = 981
				has_full_control_of_state = 770
				has_full_control_of_state = 545
				has_full_control_of_state = 542
				has_full_control_of_state = 558
				has_full_control_of_state = 900
				has_full_control_of_state = 901
				has_full_control_of_state = 902
				has_full_control_of_state = 274
				has_full_control_of_state = 700
				has_full_control_of_state = 701
				has_full_control_of_state = 883
				has_full_control_of_state = 884
				has_full_control_of_state = 885
				has_full_control_of_state = 886
				has_full_control_of_state = 887
			}
		}

		bypass = {
			#NOT = {
			#	AND = {
					NOT = { owns_state = 767 }
					NOT = { owns_state = 551 }
					NOT = { owns_state = 549 }
					NOT = { owns_state = 269 }
					NOT = { owns_state = 548 }
					NOT = { owns_state = 547 }
					NOT = { owns_state = 903 }
					NOT = { owns_state = 904 }
					NOT = { owns_state = 905 }
					NOT = { owns_state = 546 }
					NOT = { owns_state = 771 }
					NOT = { owns_state = 981 }
					NOT = { owns_state = 770 }
					NOT = { owns_state = 545 }
					NOT = { owns_state = 542 }
					NOT = { owns_state = 558 }
					NOT = { owns_state = 900 }
					NOT = { owns_state = 901 }
					NOT = { owns_state = 902 }
					NOT = { owns_state = 274 }
					NOT = { owns_state = 700 }
					NOT = { owns_state = 883 }
					NOT = { owns_state = 884 }
					NOT = { owns_state = 885 }
					NOT = { owns_state = 886 }
					NOT = { owns_state = 887 }
				#}
			#}
		}

		

		icon = GFX_ef_goal_generic_free_africa_flag
		x = 0
		y = 2
		relative_position_id = ENG_self_government_for_the_mediterranean
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 100
			add_manpower = 100000
			if = {
				limit = {
					has_full_control_of_state = 767
					has_full_control_of_state = 551
					has_full_control_of_state = 549
					has_full_control_of_state = 883
					has_full_control_of_state = 884
					has_full_control_of_state = 885
					has_full_control_of_state = 886
					has_full_control_of_state = 887
				}
				release = SUD
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = SUD autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = SUD
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						SUD = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			# Kenya
			if = {
				limit = {
					OR = {
						has_full_control_of_state = 547
						has_full_control_of_state = 903
						has_full_control_of_state = 904
						has_full_control_of_state = 905
					}
					KEN = { exists = no }
				}
				effect_tooltip = {
					release = KEN 
				}
				hidden_effect = {
					every_owned_state = {
						limit = {
							is_core_of = KEN 
						}
						KEN = { transfer_state = PREV }
					}
				}
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = KEN autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = KEN
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						KEN = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 269
				}
				release = SOM
				if = {
					limit = {
						SOM = { is_subject = no }
					}
					if = {
						limit = {
							has_dlc = "Together for Victory"
						}
						set_autonomy = { target = SOM autonomy_state = autonomy_dominion }
					}
					if = {
						limit = {
							NOT = { has_dlc = "Together for Victory" }
						}
						puppet = SOM
					}
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						SOM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 548
				}
				release = UGA
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = UGA autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = UGA
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						UGA = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 546
				}
				release = TZN
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = TZN autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = TZN
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						TZN = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 771
					has_full_control_of_state = 981
				}
				release = ZAM
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = ZAM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = ZAM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						ZAM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 770
				}
				release = MLW
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = MLW autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = MLW
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						MLW = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 545
				}
				release = ZIM
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = ZIM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = ZIM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						ZIM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 542
				}
				release = BOT
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BOT autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BOT
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BOT = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 558
					has_full_control_of_state = 900
					has_full_control_of_state = 901
					has_full_control_of_state = 902
				}
				release = NGA
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = NGA autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = NGA
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						NGA = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 274
				}
				release = GHA
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = GHA autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = GHA
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						GHA = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 700
				}
				release = SIE
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = SIE autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = SIE
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						SIE = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 701
				}
				release = GAM
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = GAM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = GAM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						GAM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_the_middle_east
		prerequisite = { focus = ENG_withdraw_from_contested_territories }
		available = { 
			is_subject = no
			OR = {
				has_full_control_of_state = 454
				has_full_control_of_state = 455
				has_full_control_of_state = 453
				has_full_control_of_state = 452
				has_full_control_of_state = 447
				has_full_control_of_state = 446
				has_full_control_of_state = 907
				has_full_control_of_state = 457
				has_full_control_of_state = 456
				has_full_control_of_state = 656
				has_full_control_of_state = 765
				has_full_control_of_state = 1014
				has_full_control_of_state = 658
				has_full_control_of_state = 992
			}
		}
		bypass = {
			NOT = {
				OR = {
					owns_state = 454
					owns_state = 455
					owns_state = 453
					owns_state = 452
					owns_state = 447
					owns_state = 446
					owns_state = 907
					owns_state = 457
					owns_state = 456
					owns_state = 656
					owns_state = 765
					owns_state = 658
					owns_state = 992
					owns_state = 1014
				}
			}
		}

		

		icon = GFX_z_goal_strengthening_anglo_muscat_cooperation
		x = 1
		y = 1
		relative_position_id = ENG_withdraw_from_contested_territories
		cost = 5
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 50
			add_manpower = 50000
			if = {
				limit = {
					has_full_control_of_state = 454
					date < 1939.01.01
				}
				release = PAL
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = PAL autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = PAL
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						PAL = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 454
					date > 1939.01.01
				}
				release = ISR
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = ISR autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = ISR
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						ISR = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					PAL = {
						is_subject_of = ENG
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = PAL autonomy_state = autonomy_dominion }
				PAL = {
					drop_cosmetic_tag = yes
					retire_country_leader = yes
				}
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					KUW = {
						is_subject_of = ENG
					}
				}
				KUW = {
					drop_cosmetic_tag = yes
				}
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					JOR = {
						is_subject_of = ENG
					}
				}
				JOR = {
					drop_cosmetic_tag = yes
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 455
				}
				release = JOR
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = JOR autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = JOR
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						JOR = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 453
					has_full_control_of_state = 452
					has_full_control_of_state = 447
					has_full_control_of_state = 446
					has_full_control_of_state = 457
					has_full_control_of_state = 456
				}
				release = EGY
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = EGY autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = EGY
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						EGY = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 656
				}
				release = KUW
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = KUW autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = KUW
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						KUW = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 765
				}
				release = QAT
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = QAT autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = QAT
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						QAT = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 1014
				}
				release = BHR
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BHR autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BHR
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BHR = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 658
				}
				release = UAE
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = UAE autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = UAE
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						UAE = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_the_americas
		prerequisite = { focus = ENG_self_government_for_the_middle_east }
		available = { 
			is_subject = no
			OR = {
				has_full_control_of_state = 311
				has_full_control_of_state = 690
				has_full_control_of_state = 693
				has_full_control_of_state = 689
				has_full_control_of_state = 691
				has_full_control_of_state = 692
				has_full_control_of_state = 308
				has_full_control_of_state = 687
		    }
		}
		bypass = {
			NOT = {
				AND = {
					owns_state = 311
					owns_state = 690
					owns_state = 693
					owns_state = 689
					owns_state = 691
					owns_state = 692
					owns_state = 308
					owns_state = 687
		        }
			}
		}

		

		icon = GFX_focus_generic_south_america
		x = 0
		y = 1
		relative_position_id = ENG_self_government_for_the_middle_east
		cost = 5
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 50
			add_manpower = 50000
			if = {
				limit = {
					has_full_control_of_state = 311
				}
				release = BLZ
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BLZ autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BLZ
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BLZ = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 690
					has_full_control_of_state = 693
				}
				release = BAH
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BAH autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BAH
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BAH = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 689
				}
				release = JAM
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = JAM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = JAM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						JAM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 691
				}
				release = TRI
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = TRI autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = TRI
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						TRI = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 692
					has_full_control_of_state = 308
				}
				release = BAS
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BAS autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BAS
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BAS = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 687
				}
				release = GYA
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = GYA autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = GYA
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						GYA = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
		}
	}

	focus = {
		id = ENG_self_government_for_asia
		prerequisite = { focus = ENG_self_government_for_the_americas }
		available = { 
			is_subject = no
			OR = {
				has_full_control_of_state = 422
				has_full_control_of_state = 281
				has_full_control_of_state = 636
				has_full_control_of_state = 643
				has_full_control_of_state = 639
				has_full_control_of_state = 725
				has_full_control_of_state = 711
				has_full_control_of_state = 712
				OR = {
					RAJ = {
						is_subject_of = ENG
						has_full_control_of_state = 640
						has_full_control_of_state = 288
					}
					BRM = {
						is_subject_of = ENG
						has_full_control_of_state = 640
						has_full_control_of_state = 288
					}
					RAJ = { NOT = { is_subject_of = ENG } }
					ENG = {
						has_full_control_of_state = 640
						has_full_control_of_state = 288
					}
				}
			}
		}
		bypass = {
			NOT = {
				AND = {
					owns_state = 422
					owns_state = 281
					owns_state = 636
					owns_state = 643
					owns_state = 639
					owns_state = 725
					owns_state = 711
					owns_state = 712
					OR = {
						RAJ = {
							is_subject_of = ENG
							owns_state = 640
							owns_state = 288
						}
						BRM = {
							is_subject_of = ENG
							owns_state = 640
							owns_state = 288
						}
						RAJ = { is_subject = no }
						ENG = {
							owns_state = 640
							owns_state = 288
						}
					}
				}
			}
		}

		

		icon = GFX_JAP_Greater_East_Asia_Co_Prosperity_Sphere
		x = 0
		y = 1
		relative_position_id = ENG_self_government_for_the_americas
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_political_power = 100
			add_manpower = 75000
			if = {
				limit = {
					has_full_control_of_state = 422
				}
				release = SRL
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = SRL autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = SRL
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						SRL = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 281
				}
				release = MLD
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = MLD autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = MLD
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						MLD = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 636
					has_full_control_of_state = 643
					has_full_control_of_state = 639
					has_full_control_of_state = 725
				}
				release = FIJ
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = FIJ autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = FIJ
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						FIJ = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					RAJ = {
						has_full_control_of_state = 640
						has_full_control_of_state = 288
						is_subject = yes
					}
				}
				RAJ = { release = BRM }
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BRM autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BRM
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BRM = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					MAL = {
						is_subject_of = ENG
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = MAL autonomy_state = autonomy_dominion }
			}
			MAL = {
				drop_cosmetic_tag = yes
				retire_country_leader = yes
			}
			if = {
				limit = {
					has_dlc = "Together for Victory"
					BRM = {
						is_subject_of = ENG
						NOT = { has_autonomy_state = autonomy_dominion }
					}
				}
				set_autonomy = { target = BRM autonomy_state = autonomy_dominion }
			}
			BRM = {
				drop_cosmetic_tag = yes
				retire_country_leader = yes
			}
			if= {
				limit = {
					BHU = {
						is_subject_of = ROOT
					}
				}
				set_autonomy = { target = BHU autonomy_state = autonomy_free }
				ROOT = {
					give_guarantee = BHU
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 324
				}
				release = BHU
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = BHU autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = BHU
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						BHU = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
			}
			if= { #orders matters
				limit = {
					NEP = {
						is_subject_of = ROOT
					}
				}
				set_autonomy = { target = NEP autonomy_state = autonomy_free }
				ROOT = {
					give_guarantee = NEP
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 323
				}
				release = NEP
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = { target = NEP autonomy_state = autonomy_dominion }
				}
				if = {
					limit = {
						NOT = { has_dlc = "Together for Victory" }
					}
					puppet = NEP
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							has_war_with = ENG
						}
						NEP = {
							add_to_war = { targeted_alliance = ENG enemy = PREV hostility_reason = asked_to_join }
						}
					}
				}
				RAJ = {
					transfer_state = 733
				}
				AST = {
					transfer_state = 711
					transfer_state = 712
				}
			}
		}
	}

	focus = {
		id = ENG_decolonization
		prerequisite = { focus = ENG_self_government_for_africa }
		prerequisite = { focus = ENG_self_government_for_asia }
		prerequisite = { focus = ENG_towards_indian_independence }
		available = { 
			is_subject = no
		}
		bypass = {
			num_subjects < 1
		}

		continue_if_invalid = yes

		icon = GFX_focus_eng_decolonization
		x = 0
		y = 1
		relative_position_id = ENG_self_government_for_africa
		cost = 10
		ai_will_do = {
			base = 1
		}	
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY}
		completion_reward = {
			set_global_flag = ENG_decolonized
			add_stability = 0.15
			add_popularity = { ideology = communism popularity = 0.05 }
			add_political_power = 125
			add_manpower = 100000
			every_other_country = {
				limit = {
					is_subject_of = ENG
					has_idea = ENG_guided_by_britain_2
				}
				remove_ideas = ENG_guided_by_britain_2
				if = {
					limit = {
						NOT = { has_country_flag = ENG_remain_as_puppet }
					}
					ROOT = { 

						if = {
							limit = {
								has_dlc = "Graveyard of Empires"
								PREV = {
									original_tag = RAJ
								}
							}
							PREV = {
								country_event = { id = GOE_RAJ.30 hours = 2 }
							}
						}
						else = {
							set_autonomy = { target = PREV autonomy_state = autonomy_free }
						}

					}
					if = {
						limit = {
							NOT = { surrender_progress > 0.1 }
						}
						random = {
							chance = 75
							every_enemy_country = {
								limit = {
									has_war_with = PREV
									NOT = {
										original_tag = RAJ
										RAJ = { NOT = { has_country_flag = RAJ_mughal_uprising } }
									}
								}
								white_peace = PREV
							}
							leave_faction = yes
							remove_from_tech_sharing_group = commonwealth_research
							set_country_flag = ENG_decolonization_left_faction
							add_ai_strategy = {
								type = alliance
								id = ENG
								value = -200
							}
							if = {
								limit = {
									original_tag = CAN
								}
								drop_cosmetic_tag = yes
							}
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ENG
					has_idea = ENG_guided_by_britain_raj_2
				}
				remove_ideas = ENG_guided_by_britain_raj_2
				if = {
					limit = {
						NOT = { has_country_flag = ENG_remain_as_puppet }
					}
						ROOT = { 
							if = {
							limit = {
								has_dlc = "Graveyard of Empires"
								PREV = {
									original_tag = RAJ
								}
							}
							PREV = {
								country_event = { id = GOE_RAJ.30 hours = 2 }
							}
						}
						else = {
							set_autonomy = { target = PREV autonomy_state = autonomy_free }
						}

					}
					if = {
						limit = {
							NOT = { surrender_progress > 0.1 }
						}
						random = {
							chance = 75
							every_enemy_country = {
								limit = {
									has_war_with = PREV
									NOT = {
										original_tag = RAJ
										RAJ = { NOT = { has_country_flag = RAJ_mughal_uprising } }
									}
								}
								white_peace = PREV
							}
							leave_faction = yes
							remove_from_tech_sharing_group = commonwealth_research
							set_country_flag = ENG_decolonization_left_faction
							add_ai_strategy = {
								type = alliance
								id = ENG
								value = -200
							}
						}
					}
				}
				hidden_effect = {
					if = {
						limit = {
							has_dlc = "Together for Victory"
							ENG = { has_completed_focus = ENG_the_three_nation_solution }
							OR = {
								has_idea = RAJ_marginalized_muslim_community
								has_idea = RAJ_marginalized_muslim_community_angry
							}
						}
						remove_ideas = RAJ_marginalized_muslim_community
						remove_ideas = RAJ_marginalized_muslim_community_angry
						add_ideas = RAJ_marginalized_muslim_community_happy
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ENG
					NOT = {
						OR = {
							tag = CAN
							tag = SAF
							tag = RAJ
							tag = AST
							tag = NZL
							tag = MAL
							tag = IRE
							tag = NEP
							tag = BHU
						}
					}
					OR = {
						has_government = ROOT
						has_government = neutrality
					}
				}
				ROOT = {
					if = {
						limit = {
							has_dlc = "Graveyard of Empires"
							PREV = {
								original_tag = RAJ
							}
						}
						PREV = {
							country_event = { id = GOE_RAJ.30 hours = 2 }
						}
					}
					else = {
						set_autonomy = { target = PREV autonomy_state = autonomy_free }
					}
				}
				if = {
					limit = {
						NOT = { surrender_progress > 0.1 }
					}
					random = {
						chance = 50
						every_enemy_country = {
							limit = {
								has_war_with = PREV
								NOT = {
									original_tag = RAJ
									RAJ = { NOT = { has_country_flag = RAJ_mughal_uprising } }
								}
							}
							white_peace = PREV
						}
						leave_faction = yes
						set_country_flag = ENG_decolonization_left_faction
						add_ai_strategy = {
							type = alliance
							id = ENG
							value = -200
						}
					}
				}
			}
			every_other_country = {
				limit = {
					is_subject_of = ENG
					NOT = {
						OR = {
							tag = CAN
							tag = SAF
							tag = RAJ
							tag = AST
							tag = NZL
							tag = MAL
							tag = IRE
							tag = NEP
							tag = BHU
						}
					}
					NOT = {
						OR = {
							has_government = ROOT
							has_government = neutrality
						}
					}
				}
				ROOT = {
					if = {
						limit = {
							has_dlc = "Graveyard of Empires"
							PREV = {
								original_tag = RAJ
							}
						}
						PREV = {
							country_event = { id = GOE_RAJ.30 hours = 2 }
						}
					}
					else = {
						set_autonomy = { target = PREV autonomy_state = autonomy_free }
					}
				}
				if = {
					limit = {
						NOT = { surrender_progress > 0.1 }
					}
					random = {
						chance = 50
						every_enemy_country = {
							limit = {
								has_war_with = PREV
								NOT = {
									original_tag = RAJ
									RAJ = { NOT = { has_country_flag = RAJ_mughal_uprising } }
								}
							}
							white_peace = PREV
						}
						leave_faction = yes
						set_country_flag = ENG_decolonization_left_faction
						add_ai_strategy = {
							type = alliance
							id = ENG
							value = -200
						}
					}
				}
			}
			if = {
				limit = {
					has_war = yes
				}
				if = {
					limit = {
						CAN = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					CAN = { 
						create_faction_from_template = {
							template = faction_template_allies
							name = ENG_coalition_of_free_commonwealth_states
							icon = GFX_faction_logo_generic_2
						}
					}
				}
				else_if = {
					limit = {
						AST = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					AST = { 
						create_faction_from_template = {
							template = faction_template_allies
							name = ENG_coalition_of_free_commonwealth_states
							icon = GFX_faction_logo_generic_2
						}
					}
				}
				else_if = {
					limit = {
						RAJ = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					RAJ = { 
						create_faction_from_template = {
							template = faction_template_allies
							name = ENG_coalition_of_free_commonwealth_states
							icon = GFX_faction_logo_generic_2
						}
					}
				}
				else_if = {
					limit = {
						SAF = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					SAF = { 
						create_faction_from_template = {
							template = faction_template_allies
							name = ENG_coalition_of_free_commonwealth_states
							icon = GFX_faction_logo_generic_2
						}
					}
				}
				else_if = {
					limit = {
						NZL = {
							has_war_together_with = ENG
							has_country_flag = ENG_decolonization_left_faction
						}
					}
					NZL = { 
						create_faction_from_template = {
							template = faction_template_allies
							name = ENG_coalition_of_free_commonwealth_states
							icon = GFX_faction_logo_generic_2
						}
					}
				}
				else_if = {
					limit = {
						NOT = {
							CAN = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
						NOT = {
							AST = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
						NOT = {
							RAJ = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
						NOT = {
							SAF = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
						NOT = {
							NZL = {
								has_war_together_with = ENG
								has_country_flag = ENG_decolonization_left_faction
							}
						}
					}
					random_other_country = {
						limit = {
							NOT = {
								OR = {
									tag = CAN
									tag = SAF
									tag = RAJ
									tag = AST
									tag = NZL
								}
							}
							has_country_flag = ENG_decolonization_left_faction
						}
						create_faction_from_template = {
							template = faction_template_allies
							name = ENG_coalition_of_free_commonwealth_states
							icon = GFX_faction_logo_generic_2
						}
					}
				}
				every_other_country = {
					limit = {
						has_country_flag = ENG_decolonization_left_faction
					}
					random_other_country = {
						limit = {
							has_country_flag = ENG_decolonization_left_faction
							is_faction_leader = yes
						}
						add_to_faction = PREV
					}
				}
			}
			IF = {
				limit = {
					IRQ = {
						has_idea = IRQ_anglo_iraqi_treaty
					}
				}
				IRQ = {
					remove_ideas = IRQ_anglo_iraqi_treaty
				}
			}
			clr_country_flag = ENG_switched_to_communism_civil_war_flag
			custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_2
			hidden_effect = { news_event = { id = mtg_news.15 days = 1 } }
		}
	}

	### END OF DECOLONIZATION ###
	
	focus = {
		id = uk_colonial_focus 
		prerequisite = { focus = uk_service_focus }
		icon = GFX_z_goal_British_investments
		x = -3
		y = 1
		relative_position_id = uk_service_focus
		cost = 8

		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = { ENG_colonial_elite }
		}
	}

	focus = {
		id = uk_asia_focus 
		prerequisite = { focus = uk_service_focus }
		
		available = {
			336 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
			326 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		icon = GFX_goal_eng_asia_focus
		x = -8
		y = 1
		relative_position_id = uk_service_focus
		cost = 5

		available_if_capitulated = yes

		bypass = {
			336 = {
				free_building_slots = {
					building = dockyard
					size < 1
					include_locked = yes
				}				
			}
			326 = {
				free_building_slots = {
					building = industrial_complex
					size < 1
					include_locked = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			if = {
				limit = {
					has_idea = ENG_fortify_the_empire_1
				}
				swap_ideas = {
					remove_idea = ENG_fortify_the_empire_1
					add_idea = ENG_fortify_the_empire_2
				}
			}
			if = {
				limit = {
					NOT = { has_idea = ENG_fortify_the_empire_1 }
					NOT = { has_idea = ENG_fortify_the_empire_2 }
				}
				add_ideas = ENG_fortify_the_empire_1
				custom_effect_tooltip = generic_skip_one_line_tt
			}
			336 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ENG
								is_subject_of = ENG
							}
						}
						OWNER = {
							OR = {
								tag = ENG
								is_subject_of = ENG
							}
						}
					} 
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			326 = {
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								tag = ENG
								is_subject_of = ENG
							}
						}
						OWNER = {
							OR = {
								tag = ENG
								is_subject_of = ENG
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = singapore_focus
		prerequisite = { focus = uk_asia_focus }
		mutually_exclusive = { focus = hongkong_focus }
		icon = GFX_goal_ENG_singapore_focus
		x = -1
		y = 1
		relative_position_id = uk_asia_focus
		cost = 9

		available = {
			336 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = { 
			navy_experience = 25
			336 = {
				add_extra_state_shared_building_slots = 1

				IF = {
					limit = {
						336 = {
							free_building_slots = {
								building = coastal_bunker
								size > 2
								province = 12299
							}
						}
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 12299
						instant_build = yes
					}
				}

				if = {
					limit = {
						CONTROLLER = {
							NOT = { tag = ENG }
						}
					}
					CONTROLLER = {
						add_autonomy_ratio = {
							value = -0.02
							localization = singapore_focus
						}
					}
				}
			}
		}
	}
	focus = {
		id = sp_landward_forts_focus
		prerequisite = { focus = singapore_focus }
		icon = GFX_goal_nested_fortifications
		x = 0
		y = 1
		relative_position_id = singapore_focus
		cost = 10
		ai_will_do = {
			base = 1
		}	
		available = {
			336 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}


		available_if_capitulated = yes

		bypass = {
			336 = {
				free_building_slots = {
					building = anti_air_building
					size < 2
				}

				free_building_slots = {
					building = bunker
					size < 4
					province = 12299
				}
			}
		}

		completion_reward = {
			336 = {
				add_extra_state_shared_building_slots = 1

				IF = {
					limit = {
						336 = {
							free_building_slots = {
								building = bunker
								size > 3
								province = 12299
							}
						}
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 12299
						instant_build = yes
					}
				}

				IF = {
					limit = {
						336 = {
							free_building_slots = {
								building = coastal_bunker
								size > 1
								province = 10297
							}
						}
					}
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 10297
						instant_build = yes
					}
				}

				IF = {
					limit = {
						336 = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
						}
					}

					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}

				if = {
					limit = {
						CONTROLLER = {
							NOT = { tag = ENG }
						}
					}
					CONTROLLER = {
						add_autonomy_ratio = {
							value = -0.02
							localization = sp_landward_forts_focus
						}
					}
				}
			}
		}
	}
	focus = {
		id = peninsular_focus
		prerequisite = { focus = sp_landward_forts_focus }
		icon = GFX_goal_generic_barricades
		x = 0
		y = 1
		relative_position_id = sp_landward_forts_focus
		cost = 10
		ai_will_do = {
			base = 1
		}	
		available = {
			336 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			336 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 7329
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 4310
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 3
					province = 7342
					instant_build = yes
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				if = {
					limit = {
						CONTROLLER = {
							NOT = { tag = ENG }
						}
					}
					CONTROLLER = {
						add_autonomy_ratio = {
							value = -0.02
							localization = peninsular_focus
						}
					}
				}
			}
		}
	}
	focus = {
		id = hongkong_focus
		prerequisite = { focus = uk_asia_focus }
		mutually_exclusive = { focus = singapore_focus }
		icon = GFX_goal_generic_fortify_city
		x = 1
		y = 1
		relative_position_id = uk_asia_focus
		cost = 9
		ai_will_do = {
			base = 0.25
		}
		available = { 
			326 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 25
			326 = {
				add_extra_state_shared_building_slots = 1

				IF = {
					limit = {
						326 = {
							free_building_slots = {
								building = coastal_bunker
								size > 2
								province = 10062
							}
						}
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						province = 10062
						instant_build = yes
					}
				}
				
			}
		}
	}
	focus = {
		id = hk_landward_forts_focus
		prerequisite = { focus = hongkong_focus }
		icon = GFX_z_goal_fortification_of_coast
		x = 0
		y = 1
		relative_position_id = hongkong_focus
		cost = 10
		ai_will_do = {
			base = 1
		}	
		available = {
			326 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			326 = { 
				free_building_slots = {
					building = anti_air_building
					size < 2
				}

				free_building_slots = {
					building = bunker
					size < 4
					province = 10062
				}
			}
		}

		completion_reward = { 
			326 = {
				add_extra_state_shared_building_slots = 1

				IF = {
					limit = {
						326 = {
							free_building_slots = {
								building = bunker
								size > 3
								province = 10062
							}
						}
					}

					add_building_construction = {
						type = bunker
						level = 4
						province = 10062
						instant_build = yes
					}
				}

				IF = {
					limit = {
						326 = {
							free_building_slots = {
								building = anti_air_building
								size > 1
							}
						}
					}

					add_building_construction = {
						type = anti_air_building
						level = 2				
						instant_build = yes
					}
				}
				
				
			}
		}
	}
	focus = {
		id = hk_air_focus
		prerequisite = { focus = hk_landward_forts_focus }
		icon = GFX_focus_generic_air_defense2
		x = 0
		y = 1
		relative_position_id = hk_landward_forts_focus
		cost = 10
		ai_will_do = {
			base = 1
		}	
		available = {
			326 = {
				CONTROLLER = {
					OR = {
						tag = ENG
						is_subject_of = ENG
					}
				}
			}
		}

		available_if_capitulated = yes

		bypass = {
			326 = { 
				free_building_slots = {
					building = anti_air_building
					size < 2
				} 
				free_building_slots = {
					building = air_base
					size < 2
				}
			}
		}
		completion_reward = {
			326 = {

				IF = {
					limit = {
						326 = {
							free_building_slots = {
								building = anti_air_building
								size > 1 
							}
						}
					}

					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}

				IF = {
					limit = {
						326 = {
							free_building_slots = {
								building = air_base
								size > 1
							}
						}
					}

					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ENG_war_with_japan
		available = {
			has_offensive_war = no
			JAP = {
				ENG_focus_available_war = yes
			}	
			has_government = democratic
		}
		bypass = {
			has_war_with = JAP
		}
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = ENG_revisit_colonial_policy
				}
			}
			NOT = {
				OR = {
                    has_global_flag = his_only
                    has_game_rule = {
					    rule = ef_historical_only
					    option = ENABLED
				    }
                }
			}
		}
		will_lead_to_war_with = JAP
		prerequisite = { focus = peninsular_focus focus = hk_air_focus }
		icon = GFX_focus_attack_japan
		x = 1
		y = 1
		relative_position_id = peninsular_focus
		cost = 10
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date < 1942.1.1
			}
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
				expire = 0
			} 
		}
	}
	
	focus = {
		id = uk_commonwealth_focus 
		prerequisite = { focus = uk_service_focus }

		available = {
			OR = {
				any_country = {
					original_tag = NZL
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = SAF
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = RAJ
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = AST
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = CAN
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = MAL
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = PAL
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = JOR
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = KUW
					is_in_faction_with = ROOT
				}
				any_country = {
					original_tag = BRM
					is_in_faction_with = ROOT
				}
			}
		}

		bypass = {
			CAN = {
				exists = no
			}
			SAF = {
				exists = no
			}
			RAJ = {
				exists = no
			}
			AST = {
				exists = no
			}
			NZL = {
				exists = no
			}
			MAL = {
				exists = no
			}
			PAL = {
				exists = no
			}
			JOR = {
				exists = no
			}
			KUW = {
				exists = no
			}
			BRM = {
				exists = no
			}
			NOT = {
				any_state = {
					OR = {
						is_core_of = ENG
						is_core_of = CAN
						is_core_of = SAF
						is_core_of = AST
						is_core_of = NZL
						is_core_of = RAJ
						is_core_of = MAL
						is_core_of = BRM
					}
					NOT = { state = 320 }
					NOT = { state = 321 }
					OWNER = {
						NOT = { tag = ENG }
					}
				}
			}
		}

		icon = GFX_goal_ENG_Invest_in_our_Dominions

		x = 0
		y = 1
		relative_position_id = uk_service_focus

		cost = 6

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			every_country = {
				limit = {  
					NOT = { has_completed_focus = ENG_revisit_colonial_policy }
					NOT = {
						tag = POR
						tag = PER
					}
					is_subject_of = ENG
					is_in_tech_sharing_group = commonwealth_research
				}
				add_timed_idea = { idea = ENG_british_development days = 365 }
			}
			random_country = {
				limit = {
					original_tag = CAN
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = AST
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = RAJ
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = NZL
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = SAF
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = MAL
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = PAL
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = JOR
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = KUW
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
			random_country = {
				limit = {
					original_tag = BRM
					exists = yes
					is_in_faction_with = ROOT
				}
				add_political_power = 50
				add_opinion_modifier = { target = ENG modifier = ENG_commonwealth_ties }
			}
		}
	}

	focus = {
		id = ENG_british_commonwealth_air_training_plan
		prerequisite = { focus = uk_service_focus }
		icon = GFX_goal_ENG_british_commonwealth_air_training_plan
		x = 3
		y = 1
		relative_position_id = uk_service_focus
		cost = 9
		ai_will_do = {
			base = 3
		}

		available = {
			has_completed_focus = uk_commonwealth_focus
			OR = {
				CAN = { is_in_faction_with = ENG }
				SAF = { is_in_faction_with = ENG }
				RAJ = { is_in_faction_with = ENG }
				AST = { is_in_faction_with = ENG }
				NZL = { is_in_faction_with = ENG }
			}
		}

		bypass = {
		}

		completion_reward = {
			add_ideas = ENG_british_commonwealth_air_training_plan
			custom_effect_tooltip = generic_skip_one_line_tt
			every_country = {
				limit = {
					is_subject_of = ROOT
					NOT = { original_tag = SAF }
				}
				add_ideas = ENG_british_commonwealth_air_training_plan
			}
			SAF = {
				if = {
					limit = {
						is_subject_of = ROOT
					}
					add_ideas = ENG_joint_air_training_scheme
				}
			}
		}
	}

	focus = {
		id = uk_ireland_focus
		prerequisite = { focus = uk_commonwealth_focus }
		available = {
			OR = {
				IRE = {
					has_completed_focus = IRE_new_development_policy
				}
				AND = {
					any_country = {
						original_tag = IRE
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
		} 
		icon = GFX_goal_ENG_ireland_focus
		x = 4
		y = 1
		relative_position_id = uk_commonwealth_focus
		cost = 9
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = ENG_revisit_colonial_policy
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}
		available_if_capitulated = yes

		bypass = {
			IRE = {
				custom_trigger_tooltip = {
					tooltip = construction_effort_tt
					all_owned_state = {
						free_building_slots = {
							building = industrial_complex
							size < 1
							include_locked = yes
						}
					}
				}
			}
		}

		complete_tooltip = {
			custom_effect_tooltip = ENG_ireland_puppet_tt
			random_country = {
				limit = {
					original_tag = IRE
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_ireland_focus_2IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_ireland_focus_2IC }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_ireland_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			custom_effect_tooltip = ENG_ireland_puppet_tt
			IRE = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_ireland_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_ireland_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_ireland_focus_1IC
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_ireland_focus
				}
			}
		}
	}

	focus = {
		id = uk_india_focus 
		prerequisite = { focus = uk_commonwealth_focus }
		available = {
			any_country = {
				original_tag = RAJ
				is_in_faction_with = ROOT
			}
		} 
		icon = GFX_goal_ENG_India_and_Beyond
		x = -4
		y = 1
		relative_position_id = uk_commonwealth_focus
		cost = 9

		available_if_capitulated = yes

		bypass = {
			RAJ = {
				custom_trigger_tooltip = {
					tooltip = construction_effort_tt
					all_owned_state = {
						free_building_slots = {
							building = industrial_complex
							size < 1
							include_locked = yes
						}
					}
				}
			}
		}

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = RAJ
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_india_focus_2IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_india_focus_1IC }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				ENG_viceroy_reduce_autonomy_effect = yes
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			RAJ = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_india_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_india_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_india_focus_1IC
				}
				ENG_viceroy_reduce_autonomy_effect = yes
			}
		}
	}

	focus = {
		id = uk_support_education_in_india
		prerequisite = { focus = uk_india_focus }
		available = {
			any_country = {
				original_tag = RAJ
				is_in_faction_with = ROOT
			}
		} 
		icon = GFX_z_goal_promotion_of_Islamic_Education
		x = 0
		y = 1
		relative_position_id = uk_india_focus
		cost = 8

		available_if_capitulated = yes

		bypass = {
		}

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = RAJ
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				add_ideas = uk_support_education_in_india
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_india_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			RAJ = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				add_ideas = uk_support_education_in_india
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_india_focus
				}
			}
		}
	}
	
	focus = {
		id = uk_free_india_focus 
		prerequisite = { focus = uk_support_education_in_india }
		mutually_exclusive = { focus = ENG_indian_autonomy }
		available = {
			if = {
				limit = { has_dlc = "Together for Victory" }
				OR = {
					AND = {
						date > 1943.10.01
						RAJ = {
							is_subject_of = ENG
							has_war = no
						}
					}
					AND = {
						NOT = { has_government = democratic }
						RAJ = {
							is_subject_of = ENG
							has_war = no
						}
					}
				}
				else = {				
					has_global_flag = indian_national_army_setup
					has_government = democratic
					RAJ = {
						is_puppet_of = ENG
					}
				}
			}
		} #counters JAP's indian army focus
		icon = GFX_goal_ENG_Bring_up_Indian_Automony
		x = -1
		y = 1
		offset = {
			x = 1
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = uk_support_education_in_india
		cost = 8

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = { has_dlc = "Together for Victory" }
				ROOT = {
					set_autonomy = {
						target = RAJ
						autonomy_state = autonomy_free
					}
				}
				else = {					
					set_global_flag = indian_independence_promised
					add_timed_idea = { idea = indian_independence_promised_idea days = 1460 }
					RAJ = {
						remove_ideas = RAJ_azad_hind
					}				
				}
			}
		}
	}
	
	
	focus = {
		id = uk_australia_focus 
		prerequisite = { focus = uk_commonwealth_focus }
		available = {
			any_country = {
				original_tag = AST
				is_in_faction_with = ROOT
			}
		}

		bypass = {
			OR = {
				AST = { exists = no }
				AST = {
					custom_trigger_tooltip = {
						tooltip = construction_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = naval_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = dockyard
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = production_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = arms_factory
								size < 1
								include_locked = yes
							}
						}
					}
				}
			}
		}
		icon = GFX_goal_ENG_australia_focus
		x = 0
		y = 1
		relative_position_id = uk_commonwealth_focus
		cost = 9

		available_if_capitulated = yes

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = AST
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_australia_focus_1IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_australia_focus_2dockyards }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_australia_focus_1dockyard }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_australia_focus_1military }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_australia_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			AST = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_australia_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_australia_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_australia_focus_2dockyards
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_australia_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_australia_focus_1military
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_australia_focus
				}
			}
		}
	}


	focus = {
		id = uk_new_zealand_focus 
		prerequisite = { focus = uk_australia_focus }
		available = {
			any_country = {
				original_tag = NZL
				is_in_faction_with = ROOT
			}
		}
		bypass = {
			OR = {
				NZL = { exists = no }
				NZL = {
					custom_trigger_tooltip = {
						tooltip = construction_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = naval_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = dockyard
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = production_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = arms_factory
								size < 1
								include_locked = yes
							}
						}
					}
				}
			}
		}
		icon = GFX_goal_ENG_new_zealand_focus
		x = 0
		y = 1
		relative_position_id = uk_australia_focus
		cost = 9

		available_if_capitulated = yes

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = NZL
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_new_zealand_focus_1IC }
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_new_zealand_focus_2dockyards }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_new_zealand_focus_1dockyard }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_new_zealand_focus_1military }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_new_zealand_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			NZL = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_new_zealand_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_new_zealand_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_new_zealand_focus_2dockyards
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_new_zealand_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_new_zealand_focus_1military
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_new_zealand_focus
				}
			}
		}
	}


	focus = {
		id = uk_canada_focus 
		prerequisite = { focus = uk_commonwealth_focus }
		available = {
			any_country = {
				original_tag = CAN
				is_in_faction_with = ROOT
			}
		}
		bypass = {
			OR = {
				CAN = { exists = no }
				CAN = {
					custom_trigger_tooltip = {
						tooltip = construction_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = naval_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = dockyard
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = production_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = arms_factory
								size < 1
								include_locked = yes
							}
						}
					}
				}
			}
		}
		icon = GFX_goal_ENG_canada_focus
		x = -2
		y = 1
		relative_position_id = uk_commonwealth_focus
		cost = 9

		available_if_capitulated = yes

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = CAN
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_canada_focus_2IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_canada_focus_1IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_canada_focus_1dockyard }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_canada_focus_1military }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_canada_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			CAN = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_canada_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_canada_focus_1IC
				}
				if = {
					limit = {
						OR = {
							has_global_flag = his_only
							
						}
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
						set_state_flag = ENG_uk_canada_focus_1IC
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_canada_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_canada_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_canada_focus_1military
				}
				if = {
					limit = {
						OR = {
							has_global_flag = his_only
							
						}
					}
					random_owned_controlled_state = {
						limit = {
							is_coastal = yes
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						set_state_flag = ENG_uk_canada_focus_1military
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_canada_focus
				}
			}
		}
	}

	focus = {
		id = uk_south_africa_focus
		prerequisite = { focus = uk_commonwealth_focus }
		available = {
			any_country = {
				original_tag = SAF
				is_in_faction_with = ROOT
			}
		}
		bypass = {
			OR = {
				SAF = { exists = no }
				SAF = {
					custom_trigger_tooltip = {
						tooltip = construction_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = naval_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = dockyard
								size < 1
								include_locked = yes
							}
						}
					}
					custom_trigger_tooltip = {
						tooltip = production_effort_tt
						all_owned_state = {
							free_building_slots = {
								building = arms_factory
								size < 1
								include_locked = yes
							}
						}
					}
				}
			}
		}
		icon = GFX_goal_ENG_south_africa_focus
		x = 2
		y = 1
		relative_position_id = uk_commonwealth_focus
		cost = 9

		available_if_capitulated = yes

		complete_tooltip = {
			random_country = {
				limit = {
					original_tag = SAF
					is_in_faction_with = ROOT
				}
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				every_state = { limit = { has_state_flag = ENG_uk_south_africa_focus_2IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_south_africa_focus_1IC }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_south_africa_focus_1dockyard }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				every_state = { limit = { has_state_flag = ENG_uk_south_africa_focus_1military }
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_south_africa_focus
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			SAF = {
				add_opinion_modifier = { target = ENG modifier = aided_industry }
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_south_africa_focus_2IC
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = ENG_uk_south_africa_focus_1IC
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_south_africa_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_south_africa_focus_1dockyard
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					set_state_flag = ENG_uk_south_africa_focus_1military
				}
				add_autonomy_ratio = {
					value = -0.05
					localization = uk_south_africa_focus
				}
			}
		}
	}

	focus = {
		id = ENG_indian_autonomy
		prerequisite = { focus = uk_support_education_in_india }
		mutually_exclusive = { focus = uk_free_india_focus }

		allow_branch = {
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = ENG_revisit_colonial_policy
				}
			}
		}

		available = { 	
			RAJ = {
				is_subject_of = ENG
			}
		}

		

		icon = GFX_focus_RAJ_all_india_forward_bloc

		x = 1
		y = 1
		relative_position_id = uk_support_education_in_india
		cost = 8
		ai_will_do = {
			base = 1
			#modifier = {
			#	factor = 0
			#}
		}	
		completion_reward = {
			set_autonomy = {
				target = RAJ
				autonomy_state = autonomy_dominion
				end_wars = no 
				end_civil_wars = no
			}
			RAJ = { add_timed_idea = { idea = ENG_indian_autonomy_RAJ_idea days = 730 } }
			custom_effect_tooltip = ENG_indian_autonomy_tt
		}
	}

	focus = {
		id = ENG_imperial_conference
		prerequisite = { focus = uk_canada_focus }
		prerequisite = { focus = uk_new_zealand_focus }
		prerequisite = { focus = uk_south_africa_focus }

		allow_branch = {
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = ENG_revisit_colonial_policy
				}
			}
		}

		available = {
			CAN = {
				OR = {
					AND = {
						is_subject_of = ENG
						has_government = ROOT
					}
					exists = no
				}
			}
			SAF = {
				OR = {
					AND = {
						is_subject_of = ENG
						has_government = ROOT
					}
					exists = no
				}
			}
			AST = {
				OR = {
					AND = {
						is_subject_of = ENG
						has_government = ROOT
					}
					exists = no
				}
			}
			NZL = {
				OR = {
					AND = {
						is_subject_of = ENG
						has_government = ROOT
					}
					exists = no
				}
			}
			NOT = {
				any_state = {
					OR = {
						is_core_of = ENG
						is_core_of = CAN
						is_core_of = SAF
						is_core_of = AST
						is_core_of = NZL
					}
					NOT = { state = 331 }
					OWNER = {
						NOT = {
							OR = {
								tag = ENG
								tag = CAN
								tag = SAF
								tag = AST
								tag = NZL
							}
						}
					}
				}
			}

		}

		bypass = {
			CAN = {
				exists = no
			}
			SAF = {
				exists = no
			}
			RAJ = {
				OR = {
					exists = no
					NOT = { is_subject_of = ENG }
				}
			}
			AST = {
				exists = no
			}
			NZL = {
				exists = no
			}
			NOT = {
				any_state = {
					OR = {
						is_core_of = ENG
						is_core_of = CAN
						is_core_of = SAF
						is_core_of = AST
						is_core_of = NZL
					}
					OWNER = {
						NOT = { tag = ENG }
					}
				}
			}
		}

		

		icon = GFX_goal_ENG_Reinforce_the_Commonwealth

		x = 0
		y = 1
		relative_position_id = uk_new_zealand_focus
		cost = 8
		ai_will_do = {
			base = 1
			#modifier = {
			#	factor = 0
			#}
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 150
			custom_effect_tooltip = generic_skip_one_line_tt
			every_country = {
				limit = {
					OR = {
						tag = ENG
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = SAF
						}
						AND = {
							is_subject_of = ENG
							tag = RAJ
						}
						AND = {
							is_subject_of = ENG
							tag = AST
						}
						AND = {
							is_subject_of = ENG
							tag = NZL
						}
					}
				}
				country_event = { id = mtg_britain.82 hours = 6 }
			}
			hidden_effect = { news_event = { id = mtg_news.13 days = 1 } }
			custom_effect_tooltip = ENG_imperial_conference_tt
			custom_effect_tooltip = ENG_indian_autonomy_tt
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_edward_side
					}
				}
				ENG_bop_high_increase_king_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_mosley_side
					}
				}
				ENG_bop_high_increase_fascism_side_effect = yes
			}
		}
	}

	focus = {
		id = ENG_imperial_federation
		prerequisite = { focus = ENG_imperial_conference }
		available = {
			if = {
				limit = {
					has_dlc = "Together for Victory"
					has_dlc = "Death or Dishonor"
				}
				CAN = {
					OR = {
						AND = {
							is_subject_of = ENG
							OR = {
								has_autonomy_state = autonomy_integrated_puppet
								has_autonomy_state = autonomy_reichskommissariat
							}
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = CAN
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				SAF = {
					OR = {
						AND = {
							is_subject_of = ENG
							OR = {
								has_autonomy_state = autonomy_integrated_puppet
								has_autonomy_state = autonomy_reichskommissariat
							}
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = SAF
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						RAJ = { has_country_flag = ENG_accepted_federation }
					}
					RAJ = {
						OR = {
							AND = {
								is_subject_of = ENG
								OR = {
									has_autonomy_state = autonomy_integrated_puppet
									has_autonomy_state = autonomy_reichskommissariat
									ROOT = { has_country_leader_with_trait = viceroy_emeritus }
								}
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = RAJ
										NOT = { state = 320 }
										NOT = { state = 321 }
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
				AST = {
					OR = {
						AND = {
							is_subject_of = ENG
							OR = {
								has_autonomy_state = autonomy_integrated_puppet
								has_autonomy_state = autonomy_reichskommissariat
							}
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = AST
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				NZL = {
					OR = {
						AND = {
							is_subject_of = ENG
							OR = {
								has_autonomy_state = autonomy_integrated_puppet
								has_autonomy_state = autonomy_reichskommissariat
							}
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = NZL
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						IRE = { has_country_flag = IRE_dominion_flag }
					}
					IRE = {
						OR = {
							AND = {
								is_subject_of = ENG
								OR = {
									has_autonomy_state = autonomy_integrated_puppet
									has_autonomy_state = autonomy_reichskommissariat
								}
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = IRE
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					has_dlc = "Together for Victory"
					NOT = { has_dlc = "Death or Dishonor" }
				}
				CAN = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_integrated_puppet
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = CAN
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				SAF = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_integrated_puppet
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = SAF
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						RAJ = { has_country_flag = ENG_accepted_federation }
					}
					RAJ = {
						OR = {
							AND = {
								is_subject_of = ENG
								has_autonomy_state = autonomy_integrated_puppet
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = RAJ
										NOT = { state = 320 }
										NOT = { state = 321 }
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
				AST = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_integrated_puppet
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = AST
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				NZL = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_integrated_puppet
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = NZL
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						IRE = { has_country_flag = IRE_dominion_flag }
					}
					IRE = {
						OR = {
							AND = {
								is_subject_of = ENG
								has_autonomy_state = autonomy_integrated_puppet
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = IRE
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {
					NOT = { has_dlc = "Together for Victory" }
					has_dlc = "Death or Dishonor"
					has_government = fascism
				}
				CAN = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_reichskommissariat
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = CAN
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				SAF = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_reichskommissariat
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = SAF
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						RAJ = { has_country_flag = ENG_accepted_federation }
					}
					RAJ = {
						OR = {
							AND = {
								is_subject_of = ENG
								has_autonomy_state = autonomy_reichskommissariat
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = RAJ
										NOT = { state = 320 }
										NOT = { state = 321 }
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
				AST = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_reichskommissariat
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = AST
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				NZL = {
					OR = {
						AND = {
							is_subject_of = ENG
							has_autonomy_state = autonomy_reichskommissariat
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = NZL
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						IRE = { has_country_flag = IRE_dominion_flag }
					}
					IRE = {
						OR = {
							AND = {
								is_subject_of = ENG
								has_autonomy_state = autonomy_reichskommissariat
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = IRE
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
			}
			else = {
				CAN = {
					OR = {
						AND = {
							is_subject_of = ENG
							compare_autonomy_progress_ratio < 0.1
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = CAN
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				SAF = {
					OR = {
						AND = {
							is_subject_of = ENG
							compare_autonomy_progress_ratio < 0.1
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = SAF
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						RAJ = { has_country_flag = ENG_accepted_federation }
					}
					RAJ = {
						OR = {
							AND = {
								is_subject_of = ENG
								compare_autonomy_progress_ratio < 0.1
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = RAJ
										NOT = { state = 320 }
										NOT = { state = 321 }
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
				AST = {
					OR = {
						AND = {
							is_subject_of = ENG
							compare_autonomy_progress_ratio < 0.1
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = AST
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				NZL = {
					OR = {
						AND = {
							is_subject_of = ENG
							compare_autonomy_progress_ratio < 0.1
						}
						AND = {
							exists = no
							NOT = {
								any_state = {
									is_core_of = NZL
									NOT = { is_owned_by = ROOT }
								}
							}
						}
					}
				}
				if = {
					limit = {
						IRE = { has_country_flag = IRE_dominion_flag }
					}
					IRE = {
						OR = {
							AND = {
								is_subject_of = ENG
								compare_autonomy_progress_ratio < 0.1
							}
							AND = {
								exists = no
								NOT = {
									any_state = {
										is_core_of = IRE
										NOT = { is_owned_by = ROOT }
									}
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					OR = {
						CAN = { exists = yes }
						SAF = { exists = yes }
						AST = { exists = yes }
						NZL = { exists = yes }
					}
				}
				has_country_flag = ENG_dominions_accepted_federation
			}
		}

		icon = GFX_focus_eng_imperial_federation

		x = 0
		y = 1
		relative_position_id = ENG_imperial_conference
		cost = 10
		ai_will_do = {
			base = 1
			#modifier = {
			#	factor = 0
			#}
		}
		search_filters = {FOCUS_FILTER_ANNEXATION}	
		completion_reward = {
			if = {
				limit = {
					RAJ = { has_country_flag = ENG_accepted_federation }
				}
				RAJ = {
					every_unit_leader = {
						set_nationality = ENG
					}
				}
				annex_country = {
				    target = RAJ
				    transfer_troops = yes
				}
				if = {
					limit = {
						ROOT = { has_country_leader_with_trait = viceroy_emeritus }
					}
					custom_effect_tooltip = viceroy_emeritus_downside_tt
					every_state = {
						limit = { 
							OR = {
								is_owned_by = ROOT
								is_owned_by = RAJ #For the tooltip
							}
							is_core_of = RAJ 
							NOT = { is_core_of = ROOT }
						}
						add_resistance = 15
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				set_cosmetic_tag = ENG_imperial_federation_india_unified
				news_event = { id = mtg_news.9 days = 1 }
			}
			else = {
				set_cosmetic_tag = ENG_imperial_federation_unified
				news_event = { id = mtg_news.8 days = 1 }
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			CAN = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = CAN
			    transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = CAN
				}
				add_core_of = ENG
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			SAF = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = SAF
			    transfer_troops = yes
			}
			if = {
				limit = {
					SAF = { has_completed_focus = SAF_police_windhoek }
				}
				every_state = {
					limit = {
						is_core_of = SAF
						NOT = { state = 275 }
					}
					add_core_of = ENG
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			AST = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = AST
			    transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = AST
				}
				add_core_of = ENG
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			NZL = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = NZL
			    transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = NZL
				}
				add_core_of = ENG
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					IRE = { has_country_flag = IRE_dominion_flag }
				}
				IRE = {
					every_unit_leader = {
						set_nationality = ENG
					}
				}
				annex_country = {
				    target = IRE
				    transfer_troops = yes
				}
				every_state = {
					limit = {
						is_core_of = IRE
					}
					add_core_of = ENG
				}

				custom_effect_tooltip = generic_skip_one_line_tt
			}
			MAL = {
				every_unit_leader = {
					set_nationality = ENG
				}
			}
			annex_country = {
			    target = MAL
			    transfer_troops = yes
			}
		}
	}

	focus = {
		id = ENG_choosing_capital_imp
		prerequisite = { focus = ENG_imperial_federation }
		icon = GFX_focus_eng_decolonization
		x = 1
		y = 1
		relative_position_id = ENG_imperial_federation
		cost = 6
		ai_will_do = {
			base = 1
		}
		available = {
		}
		bypass = {
		}
		completion_reward = {
			country_event = { id = mtg_britain_ef.19 }
		}
	}

	focus = {
		id = ENG_developing_the_empire
		prerequisite = { focus = ENG_imperial_federation }
		icon = GFX_focus_generic_the_giant_wakes
		x = -1
		y = 1
		relative_position_id = ENG_imperial_federation
		cost = 8
		ai_will_do = {
			base = 1
		}
		available = {
		}
		bypass = {
		}
		completion_reward = {
			add_timed_idea = { idea = ENG_develop_empire days = 365 }
		}
	}

	### DEMOCRATIC BRANCH - STEADY AS SHE GOES ###

	focus = {
		id = ENG_steady_as_she_goes
		mutually_exclusive = { focus = ENG_a_change_in_course }
		available = { 
			if = {
				limit = {
					NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		        }
				NOT = { has_country_flag = edward_viii_refused_to_abdicate_flag }
			}
		}

		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = ENG_a_change_in_course
				}
			}
		}

		

		icon = GFX_goal_support_democracy

		x = 64
		y = 0
		offset = {
			x = -13
			y = 0
			trigger = {
				NOT = { 
					has_dlc = "Man the Guns" 
					OR = {
						has_global_flag = his_only
						
					}
				}
			}
		}
		offset = {
			x = -14
			y = 0
			trigger = {
				OR = {
                    has_global_flag = his_only
                    has_game_rule = {
					    rule = ef_historical_only
					    option = ENABLED
				    }
                }
			}
		}
		offset = { #Just In Case
			x = 0
			y = 0
			trigger = {
				has_dlc = "Man the Guns" 
				OR = {
                    has_global_flag = his_only
                    has_game_rule = {
                    	rule = ef_historical_only
                    	option = ENABLED
                    }
                }
			}
		}
		offset = {
			x = -6
			y = 0
			trigger = {
				has_dlc = "Man the Guns"
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				NOT = {
					OR = {
						has_global_flag = his_only
						
					}
				}
				has_completed_focus = uk_empire_focus
			}
		}
		offset = {
			x = -26
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_revisit_colonial_policy
			}
		}
		offset = {
			x = -6
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_global_defense
			}
		}
		offset = {
			x = -6
			y = 0
			trigger = {
				has_dlc = "Man the Guns"
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				NOT = {
					OR = {
						has_global_flag = his_only
						
					}
				}
				has_completed_focus = ENG_home_defence
			}
		}
		cost = 5
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_country_flag = ENG_abdication_crisis_normal_marriage
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL }	
		completion_reward = {
			add_timed_idea = { idea = ENG_steady_as_she_goes_idea days = 365 }
			hidden_effect = {
				set_country_flag = ENG_chose_steady_as_she_goes
			}
			hidden_effect = {
				if = {
					limit = {
						has_dlc = "Man the Guns"
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	### GLOBAL DEFENSE BRANCH ###

	focus = {
		id = ENG_global_defense
		prerequisite = { focus = ENG_steady_as_she_goes }
		mutually_exclusive = { focus = ENG_home_defence }

		allow_branch = {
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = ENG_home_defence
						has_completed_focus = ENG_a_change_in_course
					}
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}

		available = {

		}

		continue_if_invalid = yes

		icon = GFX_goal_eng_sorry_churcill
		x = -5
		y = 1
		offset = {
			x = 5
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_global_defense
			}
		}
		relative_position_id = ENG_steady_as_she_goes
		cost = 9
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_completed_focus = ENG_revisit_colonial_policy
			}
		}	
		completion_reward = {
			# Singapore
			336 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = MAL
								MAL = { is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					# Singapore
					add_building_construction = {
						type = naval_base
						level = 2
						province = 12299
						instant_build = yes
					}
				}								
			}
			# Egypt
			446 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = EGY
								EGY = { is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}								
			}
			447 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = EGY
								EGY = { is_in_faction_with = ROOT }
							}
						}
					}
					# Alexandria
					add_building_construction = {
						type = naval_base
						level = 2
						province = 4076
						instant_build = yes
					}
				}								
			}
			custom_effect_tooltip = generic_skip_one_line_tt
			# Nova Scotia
			464 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = CAN
								CAN = { is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					# Halifax
					add_building_construction = {
						type = naval_base
						level = 2
						province = 7361
						instant_build = yes
					}
				}								
			}
			# Malta
			116 = {
				if = {
					limit = {
						OR = {
							is_controlled_by = ROOT
							AND = {
								is_controlled_by = MLT
								MLT = { is_in_faction_with = ROOT }
							}
						}
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}								
			}
			# Gibraltar
			118 = {
				if = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = bunker
							size > 0
							province = 4135
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = 4135
						instant_build = yes
					}
				}								
			}
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = ENG_every_man_will_do_his_duty
		prerequisite = { focus = ENG_global_defense }
		available = { 
			
		}

		continue_if_invalid = yes

		icon = GFX_goal_ENG_every_man_will_do_his_duty
		x = -1
		y = 1
		relative_position_id = ENG_global_defense
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			add_stability = -0.10
			remove_ideas = ENG_the_war_to_end_all_wars
		}
	}

	focus = {
		id = ENG_motion_of_no_confidence
		prerequisite = { focus = ENG_global_defense }
		available = { 
			has_country_leader =  {
				character = ENG_neville_chamberlain
				ruling_only = yes
			}
		}
		bypass = {
			OR = {
				has_country_leader =  {
					character = ENG_winston_churchill
					ruling_only = yes
				}
				has_country_leader =  {
					name = "Lord Edward Halifax"
					ruling_only = yes
				}
			}
		}

		continue_if_invalid = yes

		icon = GFX_focus_eng_motion_of_no_confidence
		x = 1
		y = 1
		relative_position_id = ENG_global_defense
		cost = 10
		ai_will_do = {
			base = 1
		}

		completion_reward = {
			add_stability = -0.10
			country_event = { id = mtg_britain.22 }
		}
	}


	### HOME DEFENCE BRANCH

	focus = {
		id = ENG_home_defence
		prerequisite = { focus = ENG_steady_as_she_goes }
		mutually_exclusive = { focus = ENG_global_defense }
		icon = GFX_goal_ENG_Home_Defence
		x = 6
		y = 1
		offset = {
			x = -6
			y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
				NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
			}
		}
		offset = {
			x = -6
			y = 0
			trigger = {
				has_dlc = "Man the Guns"
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				NOT = {
					OR = {
						has_global_flag = his_only
						
					}
				}
				has_completed_focus = ENG_home_defence
			}
		}
		offset = {
			x = -6
			y = 0
			trigger = {
				OR = {
					has_global_flag = his_only
				}
			}
		}
		allow_branch = {
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = ENG_global_defense
						has_completed_focus = ENG_a_change_in_course
					}
				}
			}
		}
		relative_position_id = ENG_steady_as_she_goes
		cost = 9
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_HISTORICAL }	
		completion_reward = {
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			# East Anglia
			125 = {
				if = {
					limit = { 
						is_controlled_by = ROOT 
					}
					#Ipswich
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 271
						instant_build = yes
					}
				}
			}
			# Greater London Area
			126 = {
				if = {
					limit = {
						is_controlled_by = ROOT 
					}
					#London
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 11374
						instant_build = yes
					}
				}
			}
			# Sussex
			127 = {
				if = {
					limit = { 
						is_controlled_by = ROOT 
					}

					IF = {
						limit = {
							free_building_slots = {
								building = coastal_bunker
								size > 1
								province = 3501
							}
						}
						#Dover
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 3501
							instant_build = yes
						}
					}
					

					IF = {
						limit = {
							free_building_slots = {
								building = coastal_bunker
								size > 1
								province = 9458
							}
						}
						#Portsmouth
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 9458
							instant_build = yes
						}
					}
					
				}								
			}
			# Cornwall
			123 = {
				if = {
					limit = { 
						is_controlled_by = ROOT 
						free_building_slots = {
							building = coastal_bunker
							size > 1
							province = 540
						}
					}
					#Plymouth
					add_building_construction = {
						type = coastal_bunker
						level = 2
						province = 540
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = ENG_home_defence_tt

			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = ENG_issue_gasmasks
		available = {
			OR = {
				threat > 0.2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		prerequisite = { focus = ENG_home_defence }
		icon = GFX_goal_ENG_issue_gasmask
		x = 1
		y = 1
		offset = {
			#x = 1
			#y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_home_defence
		cost = 8
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY FOCUS_FILTER_HISTORICAL }	
		completion_reward = {
			add_war_support = 0.05
			add_stability = 0.1
		}
	}

	focus = {
		id = ENG_military_training_act
		available = {
			OR = {
				threat > 0.5
				has_war = yes
			}
		}

		available_if_capitulated = yes

		prerequisite = { focus = ENG_home_defence }
		icon = GFX_focus_generic_commonwealth_build_infantry
		x = -1
		y = 1
		relative_position_id = ENG_home_defence
		cost = 8
		ai_will_do = {
			base = 1
		}	

		search_filters = { FOCUS_FILTER_HISTORICAL }
		completion_reward = {
			remove_ideas = ENG_the_war_to_end_all_wars
			set_rule = { can_send_volunteers = yes }
		}
	}

	focus = {
		id = ENG_war_propaganda
		available = {
			democratic > 0.95
			any_other_country = {
				is_major = yes
				has_government = ROOT
				has_war = yes
			}
			OR = {
				threat > 0.25
				has_war_support > 0.10
			}
		}

		available_if_capitulated = yes

		prerequisite = { focus = ENG_issue_gasmasks }
		prerequisite = { focus = ENG_military_training_act }
		icon = GFX_focus_hol_war_on_pacifism
		x = -1
		y = 1
		offset = {
			#x = 1
			#y = 0
			trigger = {
				NOT = { has_dlc = "Man the Guns" }
			}
		}
		relative_position_id = ENG_issue_gasmasks
		cost = 8
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY}	
		completion_reward = {
			add_ideas = ENG_limited_interventionism
		}
	}

	focus = {
		id = ENG_embargo_germany
		available = {
			GER = {
				ENG_focus_available_embargo_sanction = yes
			}
		}
		bypass = {
			has_war_with = GER
		}

		available_if_capitulated = yes

		prerequisite = { focus = ENG_war_propaganda }
		icon = GFX_goal_Binnenwirtschaft
		x = 0
		y = 1
		relative_position_id = ENG_war_propaganda
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			every_country = {
				limit = {
					OR = {
						tag = ENG
					    is_subject_of = ENG
					}
				}
				send_embargo = GER
			}
			custom_effect_tooltip = embargo_relation_tt
		}
	}

	focus = {
		id = ENG_war_with_germany
		available = {
			has_war = no
			GER = {
				ENG_focus_available_war = yes
			}
		}
		bypass = {
			has_war_with = GER
		}
		will_lead_to_war_with = GER
		prerequisite = { focus = ENG_embargo_germany }
		icon = GFX_focus_attack_germany
		x = 0
		y = 2
		relative_position_id = ENG_embargo_germany
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
				expire = 0
			} 
		}
	}

	### END ROAD TO WAR WITH GERMANY ###

	### SCANDINAVIAN BRANCH ####

	focus = {
		id = uk_scandinavian_focus
		available = {
			OR = {
				SWE = { 
					exists = yes
					OR = { 
						communism > 0.1
				 		fascism > 0.1
				 	} 
				}
				NOR = { 
					exists = yes
					OR = { 
						communism > 0.1
				 		fascism > 0.1
				 	} 
				}
				DEN = {
					exists = yes
					OR = { 
						communism > 0.1
				 		fascism > 0.1
				 	} 
				}				
			}			
		}
		prerequisite = { focus = ENG_war_propaganda }
		icon = GFX_focus_generic_scandinavia_flags
		x = -2
		y = 1
		relative_position_id = ENG_war_propaganda
		cost = 8
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			add_named_threat = { threat = 1 name = uk_scandinavian_focus }
			USA = {
				add_opinion_modifier = { target = ENG modifier = scandinavian_intervention } 
			}
			SWE = {
				add_opinion_modifier = { target = ENG modifier = unprovoked_aggression } 
				if = {
					limit = {
						has_war = no
						NOT = { is_in_faction_with = GER }
					}
					country_event = britain.7
				}
			}
			NOR = {
				add_opinion_modifier = { target = ENG modifier = unprovoked_aggression } 
				if = {
					limit = {
						has_war = no
						NOT = { is_in_faction_with = GER }
					}
					country_event = britain.7
				}
			}
			DEN = {
				add_opinion_modifier = { target = ENG modifier = unprovoked_aggression } 
			}
			FIN = {
				add_opinion_modifier = { target = ENG modifier = unprovoked_aggression } 
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.222 }
			}
		}
	}

	focus = {
		id = ENG_swedish_intervention
		available = {
			SWE = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}		
		}
		will_lead_to_war_with = SWE
		prerequisite = { focus = uk_scandinavian_focus }
		icon = GFX_focus_generic_attack_sweden
		x = -1
		y = 1
		relative_position_id = uk_scandinavian_focus
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SWE
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}
	focus = {
		id = ENG_norwegian_intervention
		available = {
			NOR = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}
		}	
		will_lead_to_war_with = NOR
		prerequisite = { focus = uk_scandinavian_focus }
		icon = GFX_focus_generic_attack_norway
		x = 0
		y = 2
		relative_position_id = uk_scandinavian_focus
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = NOR
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}
	focus = {
		id = ENG_danish_intervention
		available = {
			DEN = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}
		}		
		will_lead_to_war_with = DEN
		prerequisite = { focus = uk_scandinavian_focus }
		icon = GFX_focus_generic_attack_denmark
		x = 1
		y = 1
		relative_position_id = uk_scandinavian_focus
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = DEN
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}

	### BENELUX INTERVENTION ###

	focus = {
		id = ENG_benelux_intervention
		available = {
			OR = {
				BEL = {
					exists = yes
					OR = { 
						communism > 0.15
				 		fascism > 0.15
				 	} 
				}
				HOL = { 
					exists = yes
					OR = { 
						communism > 0.15
				 		fascism > 0.15
				 	} 
				}								
			}			
		}
		prerequisite = { focus = ENG_war_propaganda }
		icon = GFX_focus_hol_gateway_to_europe
		x = 2
		y = 1
		relative_position_id = ENG_war_propaganda
		cost = 8
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			add_named_threat = { threat = 1 name = ENG_benelux_intervention }
			USA = {
				add_opinion_modifier = { target = ENG modifier = ENG_benelux_intervention_USA } 
			}
			BEL = {
				add_opinion_modifier = { target = ENG modifier = ENG_benelux_intervention_BEL_HOL } 
			}
			HOL = {
				add_opinion_modifier = { target = ENG modifier = ENG_benelux_intervention_BEL_HOL } 
			}	
			hidden_effect = {
				news_event = { hours = 6 id = news.223 }
			}		
		}
	}

	focus = {
		id = ENG_belgium_security
		available = {
			BEL = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}
		}		
		prerequisite = { focus = ENG_benelux_intervention }
		icon = GFX_goal_generic_attack_belgium
		x = -1
		y = 1
		relative_position_id = ENG_benelux_intervention
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = BEL
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}
	focus = {
		id = ENG_dutch_security
		available = {
			HOL = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}
		}		
		will_lead_to_war_with = HOL
		prerequisite = { focus = ENG_benelux_intervention }
		icon = GFX_goal_generic_attack_netherlands
		x = 1
		y = 1
		relative_position_id = ENG_benelux_intervention
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = HOL
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}

	focus = {
		id = ENG_luxemburg_security
		available = {
			OR = {
				is_in_faction_with = BEL
				is_in_faction_with = FRA
			}
			LUX = {
				exists = yes
				OR = {
					communism > 0.2
					fascism > 0.2
				}
			}
		}		
		will_lead_to_war_with = LUX
		prerequisite = { focus = ENG_benelux_intervention }
		icon = GFX_goal_generic_attack_luxemburg
		x = 0
		y = 2
		relative_position_id = ENG_benelux_intervention
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = LUX
				expire = 0
			}
			if = {
				limit = { NOT = { has_idea = ENG_continuation_of_politics } }
				add_ideas = ENG_continuation_of_politics
			}
		}
	}

	### END BENELUX INTERVENTION ###


	### A CHANGE IN COURSE BRANCH ###

	focus = {
		id = ENG_a_change_in_course
		mutually_exclusive = { focus = ENG_steady_as_she_goes }

		allow_branch = {
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					has_completed_focus = ENG_steady_as_she_goes
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}

		available = {

		}
		icon = GFX_focus_generic_strike_at_democracy2
		x = 42
		y = 0
		offset = {
			x = -20
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_a_change_in_course
			}
		}

		offset = {
			x = -27
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_the_kings_party
			}
		}

		offset = {
			x = -20
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_organize_the_blackshirts
			}
		}

		offset = {
			x = 1
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_organize_the_blackshirts
				has_completed_focus = uk_empire_focus
			}
		}

		offset = {
			x = -25
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_concessions_to_the_trade_unions
			}
		}

		offset = {
			x = -18
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_found_a_new_king
			}
		}

		relative_position_id = ENG_steady_as_she_goes
		cost = 5
		ai_will_do = {
			base = 1
		}	
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER }
		completion_reward = {
			add_timed_idea = { idea = ENG_a_change_in_course_idea days = 365 }
			if = {
				limit = {
					has_any_power_balance = no
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				set_power_balance = {
					id = ENG_ideology_balance
					left_side = ENG_democratic_council_side # will keep the last set side if not specified
					right_side = ENG_a_change_in_course_side # will keep the last set side if not specified
					#set_default = yes # whether or not to reset the power balance to the initial value, default = no
					set_value = 0.05
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			unlock_decision_tooltip = ENG_bop_praise_the_army
			unlock_decision_tooltip = ENG_bop_praise_the_airforce
			unlock_decision_tooltip = ENG_bop_praise_the_navy
			hidden_effect = {
				POL = {
					add_ai_strategy = {
						type = alliance
						id = "ENG"
						value = -200
					}
				}
				POL = {
					add_ai_strategy = {
						type = befriend
						id = "ENG"
						value = -200
					}
				}
				add_ai_strategy = {
					type = alliance
					id = POL
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = POL
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = POL
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = FRA
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = FRA
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = FRA
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = HOL
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = HOL
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = HOL
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = BEL
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = BEL
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = BEL
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = LUX
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = LUX
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = LUX
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = DEN
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = DEN
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = DEN
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = NOR
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = NOR
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = NOR
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = CZE
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = CZE
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = CZE
					value = -200
				}
				set_country_flag = ENG_chose_change_in_course
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	### UNALIGNED BRANCH ###

	focus = {
		id = ENG_the_kings_party
		prerequisite = { focus = ENG_a_change_in_course }
		mutually_exclusive = { focus = ENG_found_a_new_king focus = ENG_organize_the_blackshirts focus = ENG_concessions_to_the_trade_unions }
		available = {
			has_country_flag = edward_viii_married_wallis_simpson
			is_subject = no
			has_war = no
			if = {
				limit = {
					is_ai = no
				}
				power_balance_value = {
					id = ENG_ideology_balance
					value > 0.4
				}
			}
			hidden_trigger = {
				NOT = { has_country_flag = ENG_lock_ideology_focuses_flag }
			}
		}
		allow_branch = {
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = ENG_organize_the_blackshirts
						has_completed_focus = ENG_concessions_to_the_trade_unions
						has_completed_focus = ENG_steady_as_she_goes
						has_completed_focus = ENG_found_a_new_king
					}
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}
		x = -5
		y = 1
		offset = {
			x = 5
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_the_kings_party
			}
		}
		icon = GFX_focus_eng_the_kings_party
		relative_position_id = ENG_a_change_in_course
		cost = 8
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}	
		completion_reward = {
			set_rule = { can_send_volunteers = yes }
			add_ideas = ENG_the_kings_party_idea

			custom_effect_tooltip = generic_skip_one_line_tt

			set_party_name = { ideology = neutrality long_name = ENG_neutrality_party_kings_party_long name = ENG_neutrality_party_kings_party }
			hidden_effect = {
				kill_country_leader = yes
			}
			set_politics = { ruling_party = neutrality elections_allowed = no }
			add_popularity = { ideology = neutrality popularity = 0.15 }

			custom_effect_tooltip = generic_skip_one_line_tt

			remove_ideas = ENG_king_edward
			if = {
				limit = {
					OR = {
						has_subject = CAN
						has_subject = SAF
						has_subject = AST
						has_subject = NZL
						has_subject = RAJ
						AND = {
							has_subject = IRE
							IRE = { has_cosmetic_tag = IRE_democratic_coalition }
						}
					}
				}
				if = {
					limit = {
						has_subject = RAJ
					}
					create_country_leader = {
						name = "Edward VIII"
						desc = "POLITICS_EDWARD_EDWARD_DESC"
						picture = GFX_portrait_Edward_VIII
						expire = "1965.1.1"
						ideology = monarchism
						traits = {
							inexperienced_imperialist
							king_of_uk_and_dominions
							eng_emperor_of_india
						}
					}
				}
				else = {
					create_country_leader = {
						name = "Edward VIII"
						desc = "POLITICS_EDWARD_EDWARD_DESC"
						picture = GFX_portrait_Edward_VIII
						expire = "1965.1.1"
						ideology = monarchism
						traits = {
							inexperienced_imperialist
							king_of_uk_and_dominions
						}
					}
				}
			}
			else = {
				create_country_leader = {
					name = "Edward VIII"
					desc = "POLITICS_EDWARD_EDWARD_DESC"
					picture = GFX_portrait_Edward_VIII
					expire = "1965.1.1"
					ideology = monarchism
					traits = {
						inexperienced_imperialist
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			hidden_effect = { news_event = { id = mtg_news.19 days = 1 } }
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ENG_winston_churchill
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ENG_oswald_mosley
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ENG_david_lloyd_george

			custom_effect_tooltip = generic_skip_one_line_tt

			set_power_balance = {
				id = ENG_ideology_balance
				right_side = ENG_edward_side
			}
			ENG_bop_very_low_increase_king_side_effect = yes
			hidden_effect = {
				add_ai_strategy = {
					type = contain
					id = GER
					value = -200
				}
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = ENG_reassess_continental_commitments
		prerequisite = { focus = ENG_the_kings_party }
		mutually_exclusive = { focus = ENG_splendid_isolation }
		available = {
			has_country_flag = edward_viii_married_wallis_simpson
			is_subject = no
			NOT = {
				has_war_together_with = FRA 
			}
		}
		icon = GFX_goal_CAN_return_king
		x = 3
		y = 1
		relative_position_id = ENG_the_kings_party
		cost = 8
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_WAR_SUPPORT}	
		completion_reward = {
			remove_ideas = ENG_the_war_to_end_all_wars
			add_war_support = 0.05
			FRA = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			POL = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			CZE = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			HOL = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			BEL = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			LUX = {
				if = {
					limit = { NOT = { is_in_faction_with = ENG } }
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_bad }
				}
			}
			GER = {
				if = {
					limit = {
						OR = {
							has_government = fascism
							has_government = neutrality
						}
					}
					add_opinion_modifier = { target = ENG modifier = ENG_reassessed_continental_committments_good }
				}
			}
		}
	}

	focus = {
		id = ENG_splendid_isolation
		prerequisite = { focus = ENG_the_kings_party }
		available = {
			has_country_flag = edward_viii_married_wallis_simpson
			is_subject = no
			NOT = { 
				ENG = { has_war_with = GER } 
			}
			is_power_balance_in_range = {
				id = ENG_ideology_balance
				range < ENG_edward_total_control_range
			}
		}
		mutually_exclusive = { focus = ENG_reassess_continental_commitments }
		icon = GFX_goal_ENG_king_speech
		x = -3
		y = 1
		relative_position_id = ENG_the_kings_party
		cost = 12
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }	
		completion_reward = {
			add_political_power = 100
			add_war_support = -0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			add_named_threat = { threat = -5 name = ENG_isolation }

			custom_effect_tooltip = generic_skip_one_line_tt

			dismantle_faction = yes

			custom_effect_tooltip = generic_skip_one_line_tt

			swap_ideas = {
				remove_idea = ENG_the_war_to_end_all_wars
				add_idea = ENG_the_war_to_end_all_wars_2
			}
			set_rule = {
				can_create_factions = no
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			diplomatic_relation = { country = GER relation = non_aggression_pact }

			hidden_effect = {
				set_country_flag = dont_join_faction
			    set_country_flag = dont_join_faction_rule
			}
		}
	}

	focus = {
		id = ENG_appeasement_policy
		prerequisite = { focus = ENG_splendid_isolation }
		available = {
		}
		icon = GFX_z_goal_generic_royal_assent
		x = 0
		y = 1
		relative_position_id = ENG_splendid_isolation
		cost = 12
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_stability = 0.05
			add_war_support = -0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_named_threat = { threat = -5 name = ENG_appeasement_policy }

			custom_effect_tooltip = generic_skip_one_line_tt

			add_country_leader_trait = champion_of_peace_5
		}
	}

	focus = {
		id = ENG_economic_reform
		prerequisite = { focus = ENG_splendid_isolation focus = ENG_reassess_continental_commitments }
		
		available = {
			has_country_leader = { ruling_only = yes name = "Edward VIII" }
		}
		
		icon = GFX_z_goal_monarchists_factories
		x = 3
		y = 1
		relative_position_id = ENG_splendid_isolation
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
				    is_in_home_area = yes
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			country_event = { id = mtg_britain_ef.15 hours = 3 }
		}
	}

	focus = {
		id = ENG_crown_works_programme
		prerequisite = { focus = ENG_economic_reform }
		
		available = {
		}
		
		icon = GFX_focus_generic_public_works
		x = -1
		y = 1
		relative_position_id = ENG_economic_reform
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 2
			}
		}
	}

	focus = {
		id = ENG_royal_armament_initiative
		prerequisite = { focus = ENG_crown_works_programme }
		
		available = {
		}
		
		icon = GFX_z_goal_british_lion
		x = 0
		y = 1
		relative_position_id = ENG_crown_works_programme
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			every_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				random_select_amount = 2
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			add_to_variable = { 
				ENG_stagnant_industry_modifier_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
		}
	}

	focus = {
		id = ENG_reform_the_army_structure
		prerequisite = { focus = ENG_economic_reform }	
		available = {
		}
		
		icon = GFX_ENG_Harsh_Colonial_Conscription
		x = 1
		y = 2
		offset = {
			x = -8
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_organize_the_blackshirts
			}
		}
		relative_position_id = ENG_economic_reform
		cost = 5
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_BALANCE_OF_POWER }
		completion_reward = {
			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = {
				var = ENG_royal_army_org_factor
				value = 0.05
				tooltip = army_org_factor_tt 
			}
			add_to_variable = {
				var = ENG_royal_army_modifier_army_sub_unit_marine_attack_factor
				value = 0.05
				tooltip = modifier_army_sub_unit_marine_attack_factor_tt 
			}
			add_to_variable = {
				var = ENG_royal_army_land_doctrine_cost_factor
				value = -0.05
				tooltip = land_doctrine_cost_factor_tt 
			}
			add_to_variable = {
				var = ENG_royal_army_mobilization_speed
				value = 0.1
				tooltip = mobilization_speed_tt 
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_edward_side
					}
				}
				ENG_bop_very_low_increase_king_side_effect = yes
			}
			else = {
				ENG_bop_very_low_increase_effect = yes
			}
		}
	}

	focus = {
		id = ENG_kings_officer_corps
		prerequisite = { focus = ENG_reform_the_army_structure }
		
		available = {
		}
		
		icon = GFX_goal_ENG_kings_officer_corps
		x = -1
		y = 1
		relative_position_id = ENG_reform_the_army_structure
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_ARMY_XP }
		
		completion_reward = {
			army_experience = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = { 
				ENG_royal_army_spirit_category_type_cost_factor = -0.2
				tooltip = army_spirit_category_type_cost_factor_tt
			}
			add_to_variable = { 
				ENG_royal_army_command_power_gain_mult = 0.15
				tooltip = command_power_gain_mult_tt
			}
			add_to_variable = { 
				ENG_royal_army_army_leader_cost_factor = -0.25
				tooltip = army_leader_cost_factor_tt
			}

			if = {
				limit = {
					has_character = ENG_harold_alexander
					ENG_harold_alexander = {
						is_field_marshal = no
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				ENG_harold_alexander = {
					promote_leader = yes
				}
			}
		}
	}

	focus = {
		id = ENG_mechanize_the_empire
		prerequisite = { focus = ENG_reform_the_army_structure }
		
		available = {
		}
		
		icon = GFX_focus_generic_purchase_mechanized_equipment
		x = 1
		y = 1
		relative_position_id = ENG_reform_the_army_structure
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			ENG_modify_army_modifier = yes
			add_to_variable = { 
				ENG_royal_army_breakthrough_factor = 0.05
				tooltip = breakthrough_factor_tt
			}
			add_to_variable = { 
				ENG_royal_army_org_loss_when_moving = -0.05
				tooltip = org_loss_when_moving_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_equipment_bonus = {
				name = ENG_mechanize_the_empire
				bonus = {
					mechanized_equipment = {
						build_cost_ic = -0.1
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = ENG_mobilewrf_bonus
				cost_reduction = 0.5
				uses = 1
				category = cat_mobile_warfare
			}
		}
	}

	focus = {
		id = ENG_armed_neutrality
		prerequisite = { focus = ENG_appeasement_policy }
		prerequisite = { focus = ENG_economic_reform }
		
		available = {
			has_country_leader = { ruling_only = yes name = "Edward VIII" }
		}
		
		icon = GFX_z_goal_crown_in_exile
		x = 0
		y = 1
		relative_position_id = ENG_appeasement_policy
		cost = 12
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = ENG_the_war_to_end_all_wars_2
				add_idea = ENG_the_war_to_end_all_wars_3
			}
		}
	}

	focus = {
		id = ENG_defenses_against_strategic_bombing
		available = {
		}
		prerequisite = { focus = ENG_armed_neutrality }
		
		icon = GFX_z_goal_ENG_refuse_the_naval_blockade
		x = 0
		y = 2
		relative_position_id = ENG_armed_neutrality
		cost = 10

		completion_reward = {
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					is_core_of = ROOT
					is_in_home_area = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
			126 = { #London
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}						
			}
			132 = { #Liverpool
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}						
			}
			133 = { #Lanark
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}						
			}
		}
	}

	focus = {
		id = ENG_isolate_the_mediterranean_threat
		prerequisite = { focus = ENG_reassess_continental_commitments }
		available = {
			is_subject = no
			NOT = { is_in_faction_with = ITA }
		}
		bypass = {
			OR = {
				NOT = { country_exists = ITA }
				ITA = {
					is_in_faction = yes
					NOT = { is_in_faction_with = GER }
				}
			}
		}
		icon = GFX_goal_generic_forceful_treaty
		x = 0
		y = 1
		relative_position_id = ENG_reassess_continental_commitments
		cost = 8
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			GER = { country_event = { id = mtg_britain.23 hours = 6 } }
			ENG_bop_low_increase_king_side_effect = yes
		}
	}

	focus = {
		id = ENG_alliance_with_germany
		prerequisite = { focus = ENG_isolate_the_mediterranean_threat }
		mutually_exclusive = { focus = ENG_noninterference_treaty_with_germany }
		available = {
			is_subject = no
			country_exists = GER
			NOT = { has_war_with = GER }
			GER = { has_government = fascism }
			NOT = { has_country_flag = ENG_germany_rejected_isolate_the_italian_threat }
		}
		bypass = {
			is_in_faction_with = GER
		}
		icon = GFX_focus_chi_mission_to_germany
		x = -1
		y = 1
		relative_position_id = ENG_isolate_the_mediterranean_threat
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			hidden_effect = {
				set_temp_variable = {
					var = alliance_with_germany_var
					value = party_popularity@democratic
				}
				multiply_temp_variable = {
					var = alliance_with_germany_var
					value = -0.5
				}
			}
			custom_effect_tooltip = ENG_alliance_with_germany_tt
			add_stability = alliance_with_germany_var
			GER = { country_event = { id = mtg_britain.27 hours = 6 } }
		}
	}

	focus = {
		id = ENG_noninterference_treaty_with_germany
		prerequisite = { focus = ENG_isolate_the_mediterranean_threat }
		mutually_exclusive = { focus = ENG_alliance_with_germany }
		available = {
			is_subject = no
			country_exists = GER
			NOT = { has_war_with = GER }
		}
		bypass = {
			NOT = { country_exists = GER }
			has_country_flag = ENG_germany_rejected_isolate_the_italian_threat
			has_non_aggression_pact_with = GER
		}
		icon = GFX_focus_POL_beck_ribbentrop
		x = 1
		y = 1
		relative_position_id = ENG_isolate_the_mediterranean_threat
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			GER = { country_event = { id = mtg_britain.30 hours = 6 } }
		}
	}

	focus = {
		id = ENG_take_out_the_regia_marina
		prerequisite = { focus = ENG_noninterference_treaty_with_germany focus = ENG_alliance_with_germany }
		available = {
			is_subject = no
			country_exists = ITA
			NOT = { is_in_faction_with = ITA }
		}
		icon = GFX_focus_attack_italy
		will_lead_to_war_with = ITA
		x = -1
		y = 1
		relative_position_id = ENG_noninterference_treaty_with_germany
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
				expire = 0
			}
		}
	}

	### FASCIST BRANCH ###

	focus = {
		id = ENG_organize_the_blackshirts
		prerequisite = { focus = ENG_a_change_in_course }
		mutually_exclusive = {focus = ENG_found_a_new_king focus = ENG_the_kings_party focus = ENG_concessions_to_the_trade_unions }

		allow_branch = {
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = ENG_the_kings_party
						has_completed_focus = ENG_concessions_to_the_trade_unions
						has_completed_focus = ENG_steady_as_she_goes
						has_completed_focus = ENG_found_a_new_king
					}
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}

		offset = {
			x = -9
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_organize_the_blackshirts
			}
		}

		available = {
			is_subject = no
			has_war = no
			if = {
				limit = {
					NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		        }
				NOT = { has_country_flag = edward_viii_refused_to_abdicate_flag }
			}
			if = {
				limit = { is_ai = no }
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_balance_range
				}
			}
		}
		icon = GFX_focus_eng_organise_the_blackshirts
		x = 9
		y = 1
		relative_position_id = ENG_a_change_in_course
		
		cost = 8
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_country_flag = ENG_abdication_crisis_normal_marriage
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
			}
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 200
			custom_effect_tooltip = ENG_organize_the_blackshirts_tt
			set_power_balance = {
				id = ENG_ideology_balance
				right_side = ENG_mosley_side
			}
			hidden_effect = {
				news_event = { id = mtg_news.23 days = 1 }
				add_ai_strategy = {
					type = alliance
					id = GRE
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = GRE
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = GRE
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = YUG
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = YUG
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = YUG
					value = -200
				}
				add_ai_strategy = {
					type = contain
					id = ITA
					value = -200
				}
				add_ai_strategy = {
					type = alliance
					id = GER
					value = -50
				}
				add_ai_strategy = {
					type = befriend
					id = GER
					value = -50
				}
				add_ai_strategy = {
					type = protect
					id = GER
					value = -50
				}
				GER = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = -50
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = -50
					}
					add_ai_strategy = {
						type = protect
						id = ROOT
						value = -50
					}
				}
			}
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = ENG_the_british_path_to_fascism
		prerequisite = { focus = ENG_organize_the_blackshirts }
        mutually_exclusive = { focus = ENG_diplomacy_with_the_reich }
		available = {
			is_subject = no
			has_government = fascism
			hidden_trigger = { 
				NOT = { 
					has_country_leader = {
						character = ENG_john_beckett
					}
				}  
			}
		}
		icon = GFX_goal_ef_ENG_british_way_fascism
		x = 4
		y = 1
		relative_position_id = ENG_organize_the_blackshirts
		cost = 9
		ai_will_do = {
			base = 1
		}	
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			GER = {
				if = {
					limit = {
						has_government = fascism
					}
					add_opinion_modifier = { target = ENG modifier = ENG_the_british_path_to_fascism }
				}
			}
		}
	}

	focus = {
		id = ENG_secure_the_italian_alliance
		prerequisite = { focus = ENG_the_british_path_to_fascism }
		available = {
			is_subject = no
			country_exists = ITA
			NOT = { has_war_together_with = FRA }
			NOT = { has_war_with = ITA }
		}
		bypass = {
			OR = {
				ITA = { exists = no }
				ITA = { is_subject = yes }
			}
		}
		icon = GFX_z_goal_italy
		x = 0
		y = 1
		relative_position_id = ENG_the_british_path_to_fascism
		cost = 8
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			add_ai_strategy = {
				type = antagonize
				id = GER
				value = 200
			}
			add_ai_strategy = {
				type = alliance
				id = GER
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = GER
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = GER
				value = -200
			}
			GER = {
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = ROOT
					value = -200
				}
			}
			if = {
				limit = {
					is_in_faction_with = FRA
					has_war = no
				}
				remove_from_faction = FRA
			}
			ITA = {
				if = {
					limit = {
						has_government = fascism
					}
					add_opinion_modifier = { target = ENG modifier = ENG_broke_french_relations }
				}
			}
			ITA = { country_event = { id = mtg_britain.36 hours = 6 } }
		}
	}

	focus = {
		id = ENG_gibraltar_for_spanish_support
		prerequisite = { focus = ENG_secure_the_italian_alliance }
		mutually_exclusive = { focus = ENG_pre_empt_spanish_alignment }
		available = {
			is_subject = no
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_country = {
					original_tag = SPR
					has_government = fascism
					exists = yes
					NOT = { is_in_faction_with = ENG }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					exists = yes
					NOT = { is_in_faction_with = ENG }
				}
			}
			has_global_flag = scw_over
		}
		icon = GFX_focus_generic_befriend_nationalist_spain_focus
		x = -1
		y = 1
		relative_position_id = ENG_secure_the_italian_alliance
		cost = 8
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					country_event = { id = mtg_britain.40 hours = 6 }
				}
			}
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				SPA = {
					country_event = { id = mtg_britain.40 hours = 6 }
				}
			}
		}
	}

	focus = {
		id = ENG_pre_empt_spanish_alignment
		prerequisite = { focus = ENG_secure_the_italian_alliance }
		mutually_exclusive = { focus = ENG_gibraltar_for_spanish_support }
		available = {
			is_subject = no
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_country = {
					original_tag = SPR
					has_government = fascism
					exists = yes
					NOT = { is_in_faction_with = ENG }
					NOT = { has_war_with = ENG }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					exists = yes
					NOT = { is_in_faction_with = ENG }
					NOT = { has_war_with = ENG }
				}
			}
			has_global_flag = scw_over
		}
		bypass = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				NOT = {
					any_country = {
						original_tag = SPR
						has_government = fascism
						exists = yes
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				NOT = {
					country_exists = SPA
				}
			}
			has_global_flag = scw_over
		}
		icon = GFX_focus_focus_fra_intervention_spain
		x = 1
		y = 1
		relative_position_id = ENG_secure_the_italian_alliance
		cost = 8
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				if = {
					limit = {
						NOT = { has_dlc = "La Resistance" }
					}
					any_country = {
						original_tag = SPR
						has_government = fascism
						exists = yes
						is_in_faction_with = GER
					}
				}
				if = {
					limit = {
						has_dlc = "La Resistance"
					}
					SPA = {
						exists = yes
						is_in_faction_with = GER
					}
				}
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					ENG = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
							expire = 0
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				ENG = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = SPA
						expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = ENG_prevent_a_continental_hegemony
		prerequisite = { focus = ENG_gibraltar_for_spanish_support focus = ENG_pre_empt_spanish_alignment }
		available = {
			is_subject = no
			country_exists = GER
			NOT = { is_in_faction_with = GER }
		}
		bypass = {
			NOT = { country_exists = GER }
		}
		will_lead_to_war_with = GER
		icon = GFX_focus_attack_germany
		x = 1
		y = 1
		relative_position_id = ENG_gibraltar_for_spanish_support
		cost = 5
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_become_global_hegemony
		prerequisite = { focus = ENG_prevent_a_continental_hegemony }
		available = {
			is_subject = no
			date > 1940.1.1
			has_completed_focus = ENG_unite_the_anglosphere
			has_completed_focus = ENG_the_sun_never_sets
			has_completed_focus = uk_fascist_military
			has_added_tension_amount > 20
			USA = {
				OR = {
					exists = no
					is_subject_of = ENG
				}
			}
			GER = {
				OR = {
					exists = no
					is_subject_of = ENG
				}
			}
			ITA = {
				OR = {
					exists = no
					is_subject_of = ENG
				}
			}
			FRA = {
				OR = {
					exists = no
					is_subject_of = ENG
				}
			}
		}
		icon = GFX_focus_generic_spread_fascism
		x = 0
		y = 1
		relative_position_id = ENG_prevent_a_continental_hegemony
		cost = 6
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			add_named_threat = { threat = 5 name = "Global Hegemony" }
			add_popularity = { ideology = fascism popularity = 0.2 }

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = ENG_global_hegemon

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = ENG_overconfident_military
		}
	}

	focus = {
		id = ENG_organize_the_military
		prerequisite = { focus = ENG_become_global_hegemony }
		available = {
			has_war = yes
			date > 1941.1.1
		}
		icon = GFX_focus_generic_full_social_mobilization
		x = 0
		y = 1
		relative_position_id = ENG_become_global_hegemony
		cost = 6
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			remove_ideas = ENG_overconfident_military

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = ENG_glorious_fascist_army
		}
	}

	### UNALIGNED/FASCIST SHARED PATH ###

	focus = {
		id = ENG_god_save_the_king
		prerequisite = { focus = ENG_the_kings_party focus = ENG_organize_the_blackshirts }
		available = {
			is_subject = no
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_edward_side
					}
				}
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_edward_medium_control_range
				}
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_mosley_side
					}
				}
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_mosley_medium_control_range
				}
			}
			else = {
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_a_change_in_course_medium_control_range
				}
			}
		}
		icon = GFX_focus_eng_god_save_the_king
		x = 6
		y = 1
		offset = {
			x = -9
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_organize_the_blackshirts
			}
		}
		relative_position_id = ENG_the_kings_party
		cost = 6
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER }	
		completion_reward = {
			hidden_effect = { #Necessary to keep the traits order
			    if = {
			    	limit = {
				    	has_country_leader_with_trait = king_of_uk_and_dominions
				    }
				    remove_country_leader_trait = king_of_uk_and_dominions
					set_country_flag = ENG_king_of_uk_title_flag
			    }
			    if = {
			    	limit = {
			    		has_country_leader_with_trait = eng_emperor_of_india
			    	}
			    	remove_country_leader_trait = eng_emperor_of_india
			    	set_country_flag = ENG_emperor_of_india_title_flag
			    }
		    }
			if = {
				limit = {
					has_country_leader = { ruling_only = yes name = "Edward VIII" }
				}
				add_stability = 0.05
				remove_country_leader_trait = inexperienced_imperialist
				add_country_leader_trait = autocratic_imperialist

				hidden_effect = { #Necessary to keep the traits order
				    if = {
				    	limit = {
				    		has_country_flag = ENG_king_of_uk_title_flag
				    	}
				    	add_country_leader_trait = king_of_uk_and_dominions
				    }
				    if = {
				    	limit = {
				    		has_country_flag = ENG_emperor_of_india_title_flag
				    	}
				    	add_country_leader_trait = eng_emperor_of_india
				    }
			    }
			}
			if = {
				limit = {
					NOT = { has_country_leader = { ruling_only = yes name = "Edward VIII" } }
				}
				add_stability = 0.05
				add_war_support = 0.1
			}
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_edward_side
					}
				}
				ENG_bop_high_increase_king_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_mosley_side
					}
				}
				ENG_bop_high_increase_fascism_side_effect = yes
			}
			else = {
				ENG_bop_low_increase_effect = yes
			}
		}
	}

	focus = {
		id = ENG_ceylon_forward_operating_base
		prerequisite = { focus = ENG_god_save_the_king }
		available = {
			has_full_control_of_state = 422
			hidden_trigger = {
				if = {
					limit = {
						has_dlc = "Graveyard of Empires"
						has_event_target = UK_INDIA
					}
					event_target:UK_INDIA = { is_subject_of = ENG }
				}
			}
		}
		bypass = {
			OR = {
				RAJ = {
					is_in_faction_with = ENG
					OR = {
						has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
						has_country_flag = britain_enforced_our_loyalty
					}
				}
				has_completed_focus = ENG_towards_indian_independence
				if = {
					limit = {
						has_dlc = "Graveyard of Empires"
						has_event_target = UK_INDIA
					}
					
					event_target:UK_INDIA = {
						exists = no
						NOT = { is_subject_of = ROOT }
					}
				}
			}
		}
		icon = GFX_goal_ef_ENG_ceylon_base
		x = -1
		y = 1
		relative_position_id = ENG_god_save_the_king
		cost = 6
		ai_will_do = {
			base = 1
		}	
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			# Ceylon
			422 = {
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 5
						instant_build = yes
					}
					# Singapore
					add_building_construction = {
						type = naval_base
						level = 5
						province = 7260
						instant_build = yes
					}
				}								
			}
		}
	}

	focus = {
		id = ENG_reclaim_the_jewel_in_the_crown
		prerequisite = { focus = ENG_ceylon_forward_operating_base }	
		available = {
			is_subject = no
			if = {
				limit = {
					has_dlc = "Graveyard of Empires"
				}
				RAJ = {
					NOT = { is_subject_of = ENG }
				}
				hidden_trigger = {
					if = {
						limit = {
							has_dlc = "Graveyard of Empires"
							has_event_target = UK_INDIA
						}
						event_target:UK_INDIA = { NOT = {is_subject_of = ENG} }
					}
				}
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = RAJ }
				RAJ = {
					is_in_faction_with = ENG
					OR = {
						has_idea = idea_RAJ_the_long_goodbye
						has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
						has_country_flag = britain_enforced_our_loyalty
					}
				}
				has_completed_focus = ENG_towards_indian_independence
			}
			if = {
				limit = {
					has_dlc = "Graveyard of Empires"
					has_event_target = UK_INDIA
				}
				OR = {
					NOT = { country_exists = event_target:UK_INDIA }
				    event_target:UK_INDIA = {
				    	is_in_faction_with = ENG
				    }
				}
			}
		}
		icon = GFX_ENG_Cut_and_Polish_the_Jewel
		will_lead_to_war_with = RAJ
		will_lead_to_war_with = PAK
		will_lead_to_war_with = BAN
		will_lead_to_war_with = BRM
		x = 0
		y = 2
		relative_position_id = ENG_ceylon_forward_operating_base
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			every_state = {
				limit = {
					OR = {
						is_core_of = PAK
						is_core_of = RAJ
						is_core_of = BRM
					}
					NOT = { state = 321 }
					NOT = { state = 320 }
				}
				add_claim_by = ENG
			}
			if = {
				limit = {
					country_exists = RAJ
				}
				create_wargoal = {
					type = annex_everything
					target = RAJ
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = PAK
				}
				create_wargoal = {
					type = annex_everything
					target = PAK
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = BAN
				}
				create_wargoal = {
					type = annex_everything
					target = BAN
					expire = 0
				}
			}
			if = {
				limit = {
					country_exists = BRM
				}
				create_wargoal = {
					type = annex_everything
					target = BRM
					expire = 0
				}
			}
		}
	}

	focus = {
		id = ENG_pre_empt_the_ideological_threat
		prerequisite = { focus = ENG_reclaim_the_jewel_in_the_crown focus = ENG_noninterference_treaty_with_germany focus = ENG_alliance_with_germany	}	
		available = {
			is_subject = no
			country_exists = SOV
			SOV = { has_government = communism }
			NOT = { is_in_faction_with = SOV }
			NOT = { has_completed_focus = ENG_splendid_isolation }
		}
		will_lead_to_war_with = SOU
		icon = GFX_z_goal_to_overcome_the_red_radicals
		x = -1
		y = 1
		relative_position_id = ENG_reclaim_the_jewel_in_the_crown
		cost = 10
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOV
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_expose_the_belly_of_the_bear
		prerequisite = { focus = ENG_pre_empt_the_ideological_threat }	
		available = {
			is_subject = no
			OR = {
				AND = {
					country_exists = PER
					NOT = { is_in_faction_with = PER }
				}
				AND = {
					country_exists = AFG
					NOT = { is_in_faction_with = AFG }
				}
			}
		}

		bypass = {
			NOT = { country_exists = PER }
			NOT = { country_exists = AFG }
		}

		will_lead_to_war_with = PER
		will_lead_to_war_with = AFG
		icon = GFX_focus_eng_expose_the_belly_of_the_bear
		x = -1
		y = 1
		relative_position_id = ENG_pre_empt_the_ideological_threat
		cost = 8
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			PER = {
				if = {
					limit = {
						exists = yes
						NOT = { is_in_faction_with = ENG }
					}
					country_event = { id = mtg_britain.79 hours = 6 }
				} 	
			}
			AFG = {
				if = {
					limit = {
						exists = yes
						NOT = { is_in_faction_with = ENG }
					}
					country_event = { id = mtg_britain.79 hours = 6 }
				} 
			}
		}
	}

	focus = {
		id = ENG_imperial_conscription
		prerequisite = { focus = ENG_reclaim_the_jewel_in_the_crown }	
		available = {

		}
		icon = GFX_GBR_britannia
		x = 0
		y = 2
		relative_position_id = ENG_reclaim_the_jewel_in_the_crown
		cost = 8
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_MANPOWER}	
		completion_reward = {
			add_ideas = ENG_imperial_conscription_idea
			every_country = {
				limit = {
					is_subject_of = ENG
				}
				add_ideas = ENG_imperial_conscription_subject_idea
			}
		}
	}

	focus = {
		id = ENG_consolidate_the_british_isles
		prerequisite = { focus = ENG_god_save_the_king }	
		available = {
			is_subject = no
			country_exists = IRE
			NOT = { is_in_faction_with = IRE }
		}
		bypass = {
			owns_state = 113
			owns_state = 134
			owns_state = 135
			owns_state = 119
			owns_state = 122
			owns_state = 133
			owns_state = 121
			owns_state = 136
			owns_state = 120
		}
		will_lead_to_war_with = IRE
		icon = GFX_ef_goal_generic_attack_ireland
		x = 0
		y = 2
		relative_position_id = ENG_god_save_the_king
		cost = 6
		ai_will_do = {
			base = 1
		}	

		search_filters = { FOCUS_FILTER_BALANCE_OF_POWER }
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_edward_side
					}
				}
				ENG_bop_low_increase_king_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_mosley_side
					}
				}
				ENG_bop_low_increase_fascism_side_effect = yes
			}
			else = {
				ENG_bop_low_increase_effect = yes
			}
			every_other_country = {
				limit = {
					OR = {
						owns_state = 113
						owns_state = 134
						owns_state = 135
						owns_state = 119
						owns_state = 122
						owns_state = 133
						owns_state = 121
						owns_state = 136
						owns_state = 120
					}
				}
				ENG = {
					add_state_claim = 113
					add_state_claim = 134
					add_state_claim = 135
					create_wargoal = {
						type = annex_everything
						target = PREV
						expire = 0
					}
				}
			}
		}
	}

	focus = {
		id = ENG_unite_the_anglosphere
		prerequisite = { focus = ENG_consolidate_the_british_isles }
		prerequisite = { focus = ENG_reclaim_the_jewel_in_the_crown }
		prerequisite = { focus = ENG_bring_the_dominions_back_into_the_fold }
		available = {
			is_subject = no
			country_exists = USA
			NOT = { is_in_faction_with = USA }
			NOT = { has_completed_focus = ENG_splendid_isolation }
		}
		will_lead_to_war_with = USA
		icon = GFX_focus_eng_unite_the_anglosphere
		x = 0
		y = 2
		relative_position_id = ENG_consolidate_the_british_isles
		cost = 10
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			if = {
				limit = {
					owns_state = 113
					owns_state = 134
					owns_state = 135
				}
				113 = { add_core_of = ENG }
				134 = { add_core_of = ENG }
				135 = { add_core_of = ENG }
			}
			create_wargoal = {
				type = annex_everything
				target = USA
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_appeal_to_imperial_loyalists
		prerequisite = { focus = ENG_god_save_the_king }	
		available = {
			is_subject = no
			OR = {
				country_exists = CAN
				country_exists = SAF
				country_exists = AST
				country_exists = NZL
			}
		}
		bypass = {
			OR = {
				AND = {
					is_in_faction_with = CAN
					CAN = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = SAF
					SAF = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = AST
					AST = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = NZL
					NZL = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
				}
				NOT = {
					country_exists = CAN
					country_exists = SAF
					country_exists = AST
					country_exists = NZL
				}
				has_completed_focus = ENG_towards_dominion_independence
			}
		}
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = 1
		y = 1
		relative_position_id = ENG_god_save_the_king
		cost = 6
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			custom_effect_tooltip = ENG_appeal_to_imperial_loyalists_tt
		}
	}

	focus = {
		id = ENG_bring_the_dominions_back_into_the_fold
		prerequisite = { focus = ENG_appeal_to_imperial_loyalists }	
		available = {
			is_subject = no
		}
		bypass = {
			OR = {
				AND = {
					NOT = { country_exists = CAN }
					NOT = { country_exists = SAF }
					NOT = { country_exists = AST }
					NOT = { country_exists = NZL }
				}
				AND = {
					is_in_faction_with = CAN
					CAN = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = SAF
					SAF = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = AST
					AST = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
					is_in_faction_with = NZL
					NZL = {
						OR = {
							has_country_flag = ENG_dominions_stayed_with_fascist_britain_flag
							has_country_flag = britain_enforced_our_loyalty
						}
					}
				}
				has_completed_focus = ENG_towards_dominion_independence
			}
		}
		will_lead_to_war_with = CAN
		will_lead_to_war_with = SAF
		will_lead_to_war_with = AST
		will_lead_to_war_with = NZL
		icon = GFX_focus_eng_bring_the_dominions_back_into_the_fold
		x = 0
		y = 2
		relative_position_id = ENG_appeal_to_imperial_loyalists
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			if = {
				limit = {
					NOT = { is_in_faction_with = CAN }
					is_ai = no
				}
				every_state = {
					limit = {
						is_core_of = CAN
					}
					add_claim_by = ENG
				}
				create_wargoal = {
					type = annex_everything
					target = CAN
					expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = SAF }
					is_ai = no
				}
				every_state = {
					limit = {
						is_core_of = SAF
					}
					add_claim_by = ENG
				}
				create_wargoal = {
					type = annex_everything
					target = SAF
					expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = AST }
					is_ai = no
				}
				every_state = {
					limit = {
						is_core_of = AST
					}
					add_claim_by = ENG
				}
				create_wargoal = {
					type = annex_everything
					target = AST
					expire = 0
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = NZL }
					is_ai = no
				}
				every_state = {
					limit = {
						is_core_of = NZL
					}
					add_claim_by = ENG
				}
				create_wargoal = {
					type = annex_everything
					target = NZL
					expire = 0
				}
			}
			custom_effect_tooltip = ENG_bring_the_dominions_back_into_the_fold_tt
		}
	}

	focus = {
		id = ENG_the_sun_never_sets
		prerequisite = { focus = ENG_bring_the_dominions_back_into_the_fold focus = ENG_defenses_against_strategic_bombing }	
		available = {
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_edward_side
					}
				}
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_edward_high_control_range
				}
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_mosley_side
					}
				}
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_mosley_high_control_range
				}
			}
			else = {
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_a_change_in_course_high_control_range
				}
			}
		}
		icon = GFX_focus_eng_the_sun_never_sets
		x = 0
		y = 2
		relative_position_id = ENG_bring_the_dominions_back_into_the_fold
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_BALANCE_OF_POWER }	
		completion_reward = {
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_edward_side
					}
				}
				ENG_bop_low_increase_king_side_effect = yes
			}
			else_if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_mosley_side
					}
				}
				ENG_bop_low_increase_fascism_side_effect = yes
			}
			else = {
				ENG_bop_low_increase_effect = yes
			}
			add_tech_bonus = {
				name = ENG_the_sun_never_sets
				bonus = 1.0
				uses = 1
				category = dd_tech
				category = ca_tech
				category = bb_tech
				category = cv_tech
				category = ss_tech
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = ENG_the_sun_never_sets_idea
			custom_effect_tooltip = ENG_the_sun_never_sets_tt
		}
	}

	focus = {
		id = ENG_pre_empt_the_strategic_threat
		prerequisite = { focus = ENG_bring_the_dominions_back_into_the_fold }	
		available = {
			is_subject = no
			country_exists = JAP
			NOT = { is_in_faction_with = JAP }
			NOT = { has_completed_focus = ENG_splendid_isolation }
			OR = {
				JAP = { has_government = fascism }
				JAP = { has_government = communism }
			}
		}
		bypass = {
			has_war_with = JAP
		}
		will_lead_to_war_with = JAP
		icon = GFX_focus_attack_japan
		x = 1
		y = 1
		relative_position_id = ENG_bring_the_dominions_back_into_the_fold
		cost = 10
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}	
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_pax_britannica
		prerequisite = { focus = ENG_the_sun_never_sets }
		prerequisite = { focus = ENG_expose_the_belly_of_the_bear }	
		available = {
			is_subject = no
		}

		icon = GFX_goal_ENG_pax_britannica
		x = -2
		y = 1
		relative_position_id = ENG_the_sun_never_sets
		cost = 10
		ai_will_do = {
			base = 1
		}

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = ENG_pax_britannica_ns

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_local_resources_factor = 0.05
				tooltip = local_resources_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.5
			}
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 0.5
			}
		}
	}

	### COMMUNIST BRANCH ###

	focus = {
		id = ENG_concessions_to_the_trade_unions
		prerequisite = { focus = ENG_a_change_in_course }
		mutually_exclusive = {focus = ENG_found_a_new_king focus = ENG_the_kings_party focus = ENG_organize_the_blackshirts }

		allow_branch = {
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = ENG_the_kings_party
						has_completed_focus = ENG_organize_the_blackshirts
						has_completed_focus = ENG_steady_as_she_goes
						has_completed_focus = ENG_found_a_new_king
					}
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}

		offset = {
			x = -20
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_concessions_to_the_trade_unions
			}
		}

		available = {
			is_subject = no
			has_war = no
			if = {
				limit = {
					NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
		        }
				NOT = { has_country_flag = edward_viii_refused_to_abdicate_flag }
			}
			if = {
				limit = { is_ai = no }
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_balance_range
				}
			}
			hidden_trigger = {
				NOT = { has_country_flag = ENG_lock_ideology_focuses_flag }
			}
		}
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		x = 20
		y = 1
		relative_position_id = ENG_a_change_in_course
		
		cost = 8
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_country_flag = ENG_abdication_crisis_normal_marriage
					has_country_flag = ENG_abdication_crisis_morganatic_marriage
				}
			}
			modifier = {
				factor = 0
				has_completed_focus = uk_empire_focus
			}
		}
		search_filters = {FOCUS_FILTER_STABILITY}	
		completion_reward = {
			add_timed_idea = {
				idea = communist_influence_weak
				days = 100
			}
			add_stability = 0.1
			custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt
			custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_3
			#custom_effect_tooltip = ENG_concessions_to_the_trade_unions_tt_2
			set_power_balance = {
				id = ENG_ideology_balance
				right_side = ENG_communism_side
			}
			ENG_bop_very_low_increase_communism_side_effect = yes
			hidden_effect = {
				random_list = {
					10 = {
						random_list = {
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_1 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_2 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_3 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_4 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_5 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_6 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_7 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_8 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_9 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_10 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_11 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_12 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_13 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_14 }
							6 = { set_country_flag = ENG_trade_unions_demand_minister_appointment_15 }
						}
						activate_mission = ENG_trade_unions_demand_minister_appointment_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_legislation_amendment
						activate_mission = ENG_trade_unions_demand_legislation_amendment_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_conscription_limitations
						activate_mission = ENG_trade_unions_demand_conscription_limitations_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_workplace_safety_legislation
						activate_mission = ENG_trade_unions_demand_workplace_safety_legislation_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_increase_in_paid_leave
						activate_mission = ENG_trade_unions_demand_increase_in_paid_leave_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_minimum_pay_increase
						activate_mission = ENG_trade_unions_demand_minimum_pay_increase_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_construction_safety_legislation
						activate_mission = ENG_trade_unions_demand_construction_safety_legislation_mission
					}
					10 = {
						set_country_flag = ENG_trade_unions_demand_mandatory_union_days
						activate_mission = ENG_trade_unions_demand_mandatory_union_days_mission
					}
				}
			}
			hidden_effect = { news_event = { id = mtg_news.33 days = 1 } }
			hidden_effect = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					mark_focus_tree_layout_dirty = yes
				}
			}
		}
	}

	focus = {
		id = ENG_move_to_secure_the_dominions
		prerequisite = { focus = ENG_organize_the_blackshirts focus = ENG_concessions_to_the_trade_unions }
		available = {
			is_subject = no
			has_war = no
			OR = {
				has_government = fascism
				has_government = communism
			}
			OR = {
				RAJ = { is_subject_of = ENG }
				CAN = { is_subject_of = ENG }
				SAF = { is_subject_of = ENG }
				AST = { is_subject_of = ENG }
				NZL = { is_subject_of = ENG }
			}
		}
		icon = GFX_focus_eng_move_to_secure_the_dominions
		x = 7
		y = 1
		offset = {
			x = -13
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = ENG_concessions_to_the_trade_unions
			}
		}
		relative_position_id = ENG_organize_the_blackshirts
		cost = 5
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 120
			custom_effect_tooltip = generic_skip_one_line_tt
			custom_effect_tooltip = ENG_move_to_secure_the_dominions_tt
			if = {
				limit = {
					CAN = {
						is_subject_of = ENG
					}
				}
				CAN = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			if = {
				limit = {
					SAF = {
						is_subject_of = ENG
					}
				}
				SAF = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			if = {
				limit = {
					RAJ = {
						is_subject_of = ENG
					}
				}
				RAJ = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			if = {
				limit = {
					AST = {
						is_subject_of = ENG
					}
				}
				AST = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			if = {
				limit = {
					NZL = {
						is_subject_of = ENG
					}
				}
				NZL = { country_event = { id = mtg_britain.62 hours = 6 } }
			}
			hidden_effect = { news_event = { id = mtg_news.30 days = 1 } }
		}
	}

	focus = {
		id = ENG_the_fate_of_the_royal_family
		prerequisite = { focus = ENG_concessions_to_the_trade_unions }
		available = {
			has_government = communism
		}
		icon = GFX_goal_tfv_burn_the_royal_portraits
		x = -1
		y = 1
		relative_position_id = ENG_concessions_to_the_trade_unions
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 60
			country_event = { id = mtg_britain.43 }
		}
	}

	focus = {
		id = ENG_eliminate_the_upper_class
		prerequisite = { focus = ENG_concessions_to_the_trade_unions }
		available = {
			has_government = communism
		}
		icon = GFX_focus_rom_parties_end
		x = 1
		y = 1
		relative_position_id = ENG_concessions_to_the_trade_unions
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_political_power = 60
			custom_effect_tooltip = ENG_eliminate_the_upper_class_tt
			country_event = { id = mtg_britain.45 }
		}
	}

	focus = {
		id = ENG_for_the_good_of_the_revolution
		prerequisite = { focus = ENG_the_fate_of_the_royal_family }
		prerequisite = { focus = ENG_eliminate_the_upper_class }
		available = {
			is_power_balance_in_range = {
				id = ENG_ideology_balance
				range > ENG_communism_medium_control_range
			}
		}
		icon = GFX_focus_generic_soviet_politics
		x = 1
		y = 1
		relative_position_id = ENG_the_fate_of_the_royal_family
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			remove_ideas = ENG_the_war_to_end_all_wars
			add_ideas = ENG_for_the_good_of_the_revolution_idea
			unlock_decision_tooltip = ENG_deal_with_syndicalists
			ENG_bop_very_low_increase_communism_side_effect = yes
		}
	}

	### GO COMMUNIST ALONE BRANCH ###

	focus = {
		id = ENG_the_british_communist_alternative
		prerequisite = { focus = ENG_for_the_good_of_the_revolution }
		mutually_exclusive = { focus = ENG_follow_moscow focus = ENG_disunite_kingdoms }
		available = {
			is_subject = no
			NOT = { is_in_faction_with = SOU }
		}
		icon = GFX_goal_ENG_the_forgotten_revolutionary
		x = -4
		y = 1
		relative_position_id = ENG_for_the_good_of_the_revolution
		cost = 9
		ai_will_do = {
			base = 10
		}
		search_filters = {FOCUS_FILTER_STABILITY}	
		completion_reward = {
			add_stability = 0.05
			dismantle_faction = yes
			create_faction_from_template = {
				template = faction_template_POR_popular_front_bloc
				name = ENG_british_communist_alternative
				icon = GFX_faction_logo_generic_9
			}
			hidden_effect = { news_event = { id = mtg_news.36 days = 1 } }
			if = {
				limit = {
					has_country_leader = { character = ENG_harry_pollitt ruling_only = yes }
				}
				retire_country_leader = yes
				create_country_leader = {
					name = "Rajani Palme Dutt"
					desc = "POLITICS_PALME_DUTT_DESC"
					picture = GFX_portrait_Rajani_Palme_Dutt
					expire = "1965.1.1"
					ideology = leninism
					traits = {
						
					}
				}
			}
			add_ai_strategy = {
				type = alliance
				id = SOU
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = SOU
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = SOU
				value = -200
			}
			SOU = {
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = protect
					id = ROOT
					value = -200
				}
			}
		}
	}

	focus = {
		id = ENG_enforce_decolonization
		prerequisite = { focus = ENG_the_british_communist_alternative }
		
		available = {
			is_subject = no
			has_completed_focus = ENG_decolonization
		}
		icon = GFX_goal_generic_forceful_treaty
		x = -1
		y = 1
		relative_position_id = ENG_the_british_communist_alternative
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						AND = {
							NOT = { original_tag = PUE }
							owns_state = 686
							has_full_control_of_state = 686
						}
						PUE = {
							is_subject_of = PREV
						}
						"PHI" = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = GDL }
							owns_state = 694
							has_full_control_of_state = 694
						}
						AND = {
							NOT = { original_tag = SYR }
							owns_state = 677
							has_full_control_of_state = 677
							owns_state = 680
							has_full_control_of_state = 680
							owns_state = 554
							has_full_control_of_state = 554
						}
						AND = {
							NOT = { original_tag = LEB }
							owns_state = 553
							has_full_control_of_state = 553
						}
						AND = {
							NOT = { original_tag = MAD }
							owns_state = 543
							has_full_control_of_state = 543
						}
						AND = {
							owns_state = 670
							has_full_control_of_state = 670
						}
						AND = {
							owns_state = 741
							has_full_control_of_state = 741
						}
						AND = {
							owns_state = 671
							has_full_control_of_state = 671
							owns_state = 286
							has_full_control_of_state = 286
						}
						AND = {
							owns_state = 728
							has_full_control_of_state = 728
						}
						AND = {
							NOT = { original_tag = MOR }
							owns_state = 461
							has_full_control_of_state = 461
							owns_state = 462
							has_full_control_of_state = 462
						}
						AND = {
							NOT = { original_tag = ALG }
							owns_state = 459
							has_full_control_of_state = 459
							owns_state = 513
							has_full_control_of_state = 513
							owns_state = 460
							has_full_control_of_state = 460
							owns_state = 514
							has_full_control_of_state = 514
						}
						AND = {
							NOT = { original_tag = TUN }
							owns_state = 458
							has_full_control_of_state = 458
							owns_state = 665
							has_full_control_of_state = 665
						}
						AND = {
							NOT = { original_tag = DJI }
							owns_state = 268
							has_full_control_of_state = 268
						}
						AND = {
							NOT = { original_tag = RCG }
							owns_state = 772
							has_full_control_of_state = 772
						}
						AND = {
							NOT = { original_tag = GAB }
							owns_state = 539
							has_full_control_of_state = 539
						}
						AND = {
							NOT = { original_tag = CMR }
							owns_state = 773
							has_full_control_of_state = 773
						}
						AND = {
							NOT = { original_tag = CAR }
							owns_state = 660
							has_full_control_of_state = 660
						}
						AND = {
							NOT = { original_tag = CHA }
							owns_state = 774
							has_full_control_of_state = 774
							owns_state = 775
							has_full_control_of_state = 775
						}
						AND = {
							NOT = { original_tag = NGR }
							owns_state = 781
							has_full_control_of_state = 781
							owns_state = 515
							has_full_control_of_state = 515
						}
						AND = {
							NOT = { original_tag = DAH }
							owns_state = 776
							has_full_control_of_state = 776
						}
						AND = {
							NOT = { original_tag = TOG }
							owns_state = 777
							has_full_control_of_state = 777
						}
						AND = {
							NOT = { original_tag = VOL }
							owns_state = 778
							has_full_control_of_state = 778
						}
						AND = {
							NOT = { original_tag = IVO }
							owns_state = 779
							has_full_control_of_state = 779
						}
						AND = {
							NOT = { original_tag = GNA }
							owns_state = 780
							has_full_control_of_state = 780
						}
						AND = {
							NOT = { original_tag = MLI }
							owns_state = 556
							has_full_control_of_state = 556
							owns_state = 782
							has_full_control_of_state = 782
						}
						AND = {
							NOT = { original_tag = SEN }
							owns_state = 272
							has_full_control_of_state = 272
						}
						AND = {
							NOT = { original_tag = CAY }
							owns_state = 310
							has_full_control_of_state = 310
						}
						GDL = {
							is_subject_of = PREV
						}
						SYR = {
							is_subject_of = PREV
						}
						LEB = {
							is_subject_of = PREV
						}
						LAO = {
							is_subject_of = PREV
						}
						CAM = {
							is_subject_of = PREV
						}
						VIN = {
							is_subject_of = PREV
						}
						MAD = {
							is_subject_of = PREV
						}
						MOR = {
							is_subject_of = PREV
						}
						ALG = {
							is_subject_of = PREV
						}
						TUN = {
							is_subject_of = PREV
						}
						DJI = {
							is_subject_of = PREV
						}
						RCG = {
							is_subject_of = PREV
						}
						GAB = {
							is_subject_of = PREV
						}
						CMR = {
							is_subject_of = PREV
						}
						CAR = {
							is_subject_of = PREV
						}
						CHA = {
							is_subject_of = PREV
						}
						NGR = {
							is_subject_of = PREV
						}
						DAH = {
							is_subject_of = PREV
						}
						TOG = {
							is_subject_of = PREV
						}
						VOL = {
							is_subject_of = PREV
						}
						IVO = {
							is_subject_of = PREV
						}
						GNA = {
							is_subject_of = PREV
						}
						MLI = {
							is_subject_of = PREV
						}
						SEN = {
							is_subject_of = PREV
						}
						CAY = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = LBA }
							owns_state = 448
							has_full_control_of_state = 448
							owns_state = 661
							has_full_control_of_state = 661
							owns_state = 449
							has_full_control_of_state = 449
							owns_state = 662
							has_full_control_of_state = 662
							owns_state = 450
							has_full_control_of_state = 450
							owns_state = 451
							has_full_control_of_state = 451
							owns_state = 663
							has_full_control_of_state = 663
							owns_state = 273
							has_full_control_of_state = 273
						}
						AND = {
							NOT = { original_tag = ETH }
							owns_state = 271
							has_full_control_of_state = 271
						}
						AND = {
							NOT = { original_tag = ERI }
							owns_state = 550
							has_full_control_of_state = 550
						}
						AND = {
							NOT = { original_tag = SOM }
							owns_state = 559
							has_full_control_of_state = 559
						}
						LBA = {
							is_subject_of = PREV
						}
						ETH = {
							is_subject_of = PREV
						}
						ERI = {
							is_subject_of = PREV
						}
						SOM = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = KOR }
							owns_state = 527
							has_full_control_of_state = 527
							owns_state = 525
							has_full_control_of_state = 525
						}
						AND = {
							original_tag = JAP
							owns_state = 609
							has_full_control_of_state = 609
						}
						AND = {
							original_tag = JAP
							owns_state = 745
							has_full_control_of_state = 745
						}
						AND = {
							original_tag = JAP
							owns_state = 524
							has_full_control_of_state = 524
						}
						MAN = {
							is_subject_of = PREV
						}
						MEN = {
							is_subject_of = PREV
						}
						KOR = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = ANG }
							owns_state = 540
							has_full_control_of_state = 540
						}
						AND = {
							NOT = { original_tag = MZB }
							owns_state = 544
							has_full_control_of_state = 544
						}
						AND = {
							original_tag = POR
							owns_state = 729
							has_full_control_of_state = 729
						}
						AND = {
							NOT = { original_tag = INS }
							owns_state = 721
							has_full_control_of_state = 721
						}
						AND = {
							NOT = { original_tag = GNB }
							owns_state = 296
							has_full_control_of_state = 296
						}
						ANG = {
							is_subject_of = PREV
						}
						MZB = {
							is_subject_of = PREV
						}
						GNB = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = EQG }
							owns_state = 297
							has_full_control_of_state = 297
						}
						AND = {
							NOT = { original_tag = WES }
							owns_state = 699
							has_full_control_of_state = 699
						}
						AND = {
							NOT = { original_tag = MOR }
							owns_state = 783
							has_full_control_of_state = 783
						}
						AND = {
							NOT = { original_tag = MOR }
							owns_state = 290
							has_full_control_of_state = 290
						}
						EQG = {
							is_subject_of = PREV
						}
						WES = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = CRC }
							owns_state = 695
							has_full_control_of_state = 695
						}
						AND = {
							NOT = { original_tag = SUR }
							owns_state = 309
							has_full_control_of_state = 309
						}
						CRC = {
							is_subject_of = PREV
						}
						SUR = {
							is_subject_of = PREV
						}
						INS = {
							is_subject_of = PREV
						}
						AND = {
							NOT = { original_tag = INS }
							owns_state = 335
							has_full_control_of_state = 335
							owns_state = 672
							has_full_control_of_state = 672
							owns_state = 334
							has_full_control_of_state = 334
							owns_state = 673
							has_full_control_of_state = 673
							owns_state = 667
							has_full_control_of_state = 667
							owns_state = 309
							has_full_control_of_state = 309
							owns_state = 668
							has_full_control_of_state = 668
							owns_state = 738
							has_full_control_of_state = 738
							owns_state = 669
							has_full_control_of_state = 669
						}
						AND = {
							NOT = { original_tag = COG }
							owns_state = 295
							has_full_control_of_state = 295
							owns_state = 538
							has_full_control_of_state = 538
							owns_state = 718
							has_full_control_of_state = 718
						}
						COG = {
							is_subject_of = PREV
						}
					}
				}
				country_event = { id = mtg_britain.46 hours = 6 }
			}
			hidden_effect = { news_event = { id = mtg_news.37 days = 1 } }
			ENG_bop_very_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ENG_reach_out_across_the_channel
		prerequisite = { focus = ENG_the_british_communist_alternative }
		
		available = {
			is_subject = no
			OR = {
				country_exists = FRA
				country_exists = HOL
				country_exists = BEL
				country_exists = LUX
			}
			OR = {
				FRA = { has_government = communism }
				HOL = { has_government = communism }
				BEL = { has_government = communism }
				LUX = { has_government = communism }
			}
			OR = {
				NOT = { has_war_with = FRA }
				NOT = { has_war_with = HOL }
				NOT = { has_war_with = BEL }
				NOT = { has_war_with = LUX }
			}
		}
		icon = GFX_goal_tripartite_pact
		x = 1
		y = 1
		relative_position_id = ENG_the_british_communist_alternative
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			if = {
				limit = {
					NOT = { FRA = { has_government = communism } }
					NOT = { HOL = { has_government = communism } }
					NOT = { BEL = { has_government = communism } }
					NOT = { LUX = { has_government = communism } }
				}
				custom_effect_tooltip = ENG_reach_out_across_the_channel_tt
			}
			if = {
				limit = {
					FRA = {
						has_government = communism
					}
				}
				FRA = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					HOL = {
						has_government = communism
					}
				}
				HOL = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					BEL = {
						has_government = communism
					}
				}
				BEL = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					LUX = {
						has_government = communism
					}
				}
				LUX = { country_event = { id = generic.5 } }
			}
		}
	}

	focus = {
		id = ENG_soviet_cooperation
		prerequisite = { focus = ENG_enforce_decolonization focus = ENG_reach_out_across_the_channel }
		mutually_exclusive = { focus = ENG_the_one_true_revolution }
		available = {
			is_subject = no
			NOT = { has_war_with = SOU }
			SOU = { 
				exists = yes
				has_civil_war = no
				has_government = communism 
			}
		}
		bypass = {
			is_in_faction_with = SOV
		}
		icon = GFX_focus_chi_mission_to_the_soviet_union
		x = 0
		y = 1
		relative_position_id = ENG_enforce_decolonization
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			if = {
				limit = {
					SOU = { NOT = { has_war_with = GER } }
				}
				SOU = { country_event = { id = mtg_britain.49 hours = 6 } }
			}
			else = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
					expire = 0
				}
			}
		}
	}

	focus = {
		id = ENG_the_one_true_revolution
		prerequisite = { focus = ENG_enforce_decolonization focus = ENG_reach_out_across_the_channel }
		mutually_exclusive = { focus = ENG_soviet_cooperation }
		available = {
			is_subject = no
			country_exists = SOU
			NOT = { is_in_faction_with = SOU }
			SOU = { has_government = communism }
		}
		bypass = {
			has_war_with = SOU
		}
		will_lead_to_war_with = SOU
		icon = GFX_focus_attack_soviet
		x = 0
		y = 1
		relative_position_id = ENG_reach_out_across_the_channel
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOU
				expire = 0
			}
			hidden_effect = { news_event = { id = mtg_news.38 days = 1 } }
		}
	}

	focus = {
		id = ENG_red_guards
		prerequisite = { focus = ENG_soviet_cooperation focus = ENG_the_one_true_revolution }
		available = {
		}

		icon = GFX_z_goal_council_of_secretaries_of_red_army
		x = 1
		y = 1
		relative_position_id = ENG_soviet_cooperation
		cost = 8
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_ideas = ENG_red_guards
		}
	}

	### GO COMMUNIST WITH SOVIET UNION BRANCH ###

	focus = {
		id = ENG_follow_moscow
		prerequisite = { focus = ENG_for_the_good_of_the_revolution }
		mutually_exclusive = { focus = ENG_the_british_communist_alternative focus = ENG_disunite_kingdoms }
		available = {
			is_subject = no
			country_exists = SOu
			NOT = { is_in_faction_with = SOU }
			NOT = { has_war_with = SOU }
			SOU = { 
				has_government = communism
				has_civil_war = no
				}
		}
		bypass = {
			is_in_faction_with = SOU
			NOT = {
				focus_progress = {
					focus = ENG_the_british_communist_alternative
					progress > 0
				}
			}
		}
		icon = GFX_focus_SOV_stalins_cult_of_personality
		x = 0
		y = 1
		relative_position_id = ENG_for_the_good_of_the_revolution
		cost = 9
		ai_will_do = {
			base = 10
		}
		search_filters = {FOCUS_FILTER_STABILITY}	
		completion_reward = {
			add_stability = 0.05
			SOU = { country_event = { id = mtg_britain.52 hours = 6 } }
			ENG_bop_very_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ENG_tackle_fascism
		prerequisite = { focus = ENG_follow_moscow }
		
		available = {
			is_subject = no
			OR = {
				country_exists = GER
				country_exists = ITA
			}
			OR = {
				GER = { has_government = fascism }
				ITA = { has_government = fascism }
			}
		}
		mutually_exclusive = { focus = ENG_tackle_capitalism }
		icon = GFX_z_goal_a_preemptive_strike_against_the_fascist_threat
		x = -1
		y = 1
		relative_position_id = ENG_follow_moscow
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			if = {
				limit = {
					GER = { has_government = fascism }
					ITA = { has_government = fascism }
				}
				add_ideas = ENG_tackle_fascism_idea_1
				GER = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_fascism } }
				ITA = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_fascism } }
			}
			if = {
				limit = {
					GER = { has_government = fascism }
					NOT = { ITA = { has_government = fascism } }
				}
				add_ideas = ENG_tackle_fascism_idea_2
				GER = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_fascism } }
			}
			if = {
				limit = {
					NOT = { GER = { has_government = fascism } }
					ITA = { has_government = fascism }
				}
				add_ideas = ENG_tackle_fascism_idea_3
				ITA = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_fascism } }
			}
			hidden_effect = { news_event = { id = mtg_news.39 days = 1 } }
		}
	}

	focus = {
		id = ENG_preparing_the_second_front
		prerequisite = { focus = ENG_tackle_fascism }
		available = {

		}
		icon = GFX_GENERIC_Mechanized_Marines
		x = 0
		y = 1
		relative_position_id = ENG_tackle_fascism
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_RESEARCH}	
		completion_reward = {
			add_tech_bonus = {
				name = ENG_preparing_the_second_front
				bonus = 1.0
				uses = 1
				category = marine_tech
			}
			add_tech_bonus = {
				name = ENG_preparing_the_second_front
				bonus = 1.0
				uses = 1
				category = tp_tech
			}
		}
	}

	focus = {
		id = ENG_tackle_capitalism
		prerequisite = { focus = ENG_follow_moscow }
		available = {
			is_subject = no
			country_exists = USA
			USA = { has_government = democratic }
		}
		mutually_exclusive = { focus = ENG_tackle_fascism }
		icon = GFX_z_goal_support_soviet_anticapitalism_red
		x = 1
		y = 1
		relative_position_id = ENG_follow_moscow
		cost = 10
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			add_ideas = ENG_tackle_capitalism_idea
			USA = { add_opinion_modifier = { target = ENG modifier = ENG_tackle_capitalism } }
			hidden_effect = { news_event = { id = mtg_news.40 days = 1 } }
		}
	}

	focus = {
		id = ENG_attack_ireland
		prerequisite = { focus = ENG_follow_moscow }
		available = {
		}
		bypass = {
			IRE = {
				OR = {
					is_subject_of = ROOT
					exists = no
				}
			}
		}
		icon = GFX_ef_goal_generic_attack_ireland
		x = 3
		y = 1
		relative_position_id = ENG_follow_moscow
		cost = 6
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			create_wargoal = { type = annex_everything target = IRE }	
		}
	}

	focus = {
		id = ENG_bermuda_invasion_launch_point
		prerequisite = { focus = ENG_tackle_capitalism }
		available = {
			has_full_control_of_state = 696
		}
		icon = GFX_z_goal_training_of_soviet_soldat_red
		x = 0
		y = 1
		relative_position_id = ENG_tackle_capitalism
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			# Bermuda
			696 = {
				if = {
					limit = {
						is_controlled_by = ROOT
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 5
						instant_build = yes
					}
					# Bermuda
					add_building_construction = {
						type = naval_base
						level = 5
						province = 13010
						instant_build = yes
					}
				}								
			}
		}
	}

	focus = {
		id = ENG_crush_the_dream
		prerequisite = { focus = ENG_bermuda_invasion_launch_point }
		available = {
			is_subject = no
			NOT = { is_in_faction_with = USA }
			USA = { has_government = democratic }
		}
		will_lead_to_war_with = USA
		icon = GFX_z_goal_preparation_for_war_against_imperialism_red
		x = -1
		y = 1
		relative_position_id = ENG_bermuda_invasion_launch_point
		cost = 10
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = USA
				expire = 0
			}
		}
	}

	focus = {
		id = ENG_socialist_science_pool
		prerequisite = { focus = ENG_follow_moscow focus = ENG_disunite_kingdoms }
		available = {
			OR = {
				is_in_faction_with = SOV
				is_faction_leader = yes
			}
			power_balance_value = {
				id = ENG_ideology_balance
				value > 0.75
			}
		}
		icon = GFX_focus_generic_socialist_science
		x = 5
		y = 1
		relative_position_id = ENG_follow_moscow
		cost = 9
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			add_to_tech_sharing_group = socialist_science_pool
			every_other_country = {
				limit = {
					is_in_faction_with = ENG
				}
				add_to_tech_sharing_group = socialist_science_pool
			}
			ENG_bop_very_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ENG_join_comecon
		prerequisite = { focus = ENG_socialist_science_pool }
		prerequisite = { focus = ENG_follow_moscow }
		available = {
			is_in_faction_with = SOV 
			SOV = {
				has_completed_focus = SOV_found_the_comecon
			}
		}

		icon = GFX_focus_SOV_the_comecon
		x = -1
		y = 1
		relative_position_id = ENG_socialist_science_pool
		cost = 8
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = ENG_comecon
			#add_to_tech_sharing_group = comintern_research	
		}
	}

	focus = {
		id = ENG_red_army
		prerequisite = { focus = ENG_join_comecon }
		available = {
			is_in_faction_with = SOV 
			has_completed_focus = ENG_follow_moscow
		}

		icon = GFX_goal_SOV_army
		x = -2
		y = 1
		relative_position_id = ENG_join_comecon
		cost = 8
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_ideas = ENG_red_army
		}
	}

	focus = {
		id = ENG_soviet_scientists
		prerequisite = { focus = ENG_join_comecon }
		available = {
			is_in_faction_with = SOV
		}

		icon = GFX_z_goal_excursions_to_science_cities
		x = 0
		y = 1
		relative_position_id = ENG_join_comecon
		cost = 6
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = ENG_soviet_scientists
		}
	}

	### COMMUNIST SHARED FINISHER BRANCH ###

	focus = {
		id = ENG_liberate_the_home_of_marx
		prerequisite = { focus = ENG_the_one_true_revolution focus = ENG_preparing_the_second_front }
		available = {
			is_subject = no
			country_exists = GER
			NOT = { is_in_faction_with = GER }
		}
		will_lead_to_war_with = GER
		icon = GFX_focus_eng_liberate_the_home_of_marx
		x = 1
		y = 1
		relative_position_id = ENG_the_one_true_revolution
		cost = 9
		ai_will_do = {
			base = 1
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
				expire = 0
			}
			ENG_bop_very_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ENG_spirit_of_the_industrial_revolution
		prerequisite = { focus = ENG_red_guards focus = ENG_liberate_the_home_of_marx focus = ENG_crush_the_dream focus = ENG_syndicalist_army }
		available = {
			is_power_balance_in_range = {
				id = ENG_ideology_balance
				range = ENG_communism_total_control_range
			}
		}
		icon = GFX_z_goal_red_continuous_production_concept
		x = 2
		y = 1
		relative_position_id = ENG_liberate_the_home_of_marx
		cost = 9
		ai_will_do = {
			base = 1
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}	
		completion_reward = {
			ENG_bop_low_increase_communism_side_effect = yes
			add_ideas = ENG_spirit_of_the_industrial_revolution_idea
		}
	}

	focus = {
		id = ENG_ideological_propaganda
		icon = GFX_z_goal_sow_hatred_in_minds_red
		prerequisite = { focus = ENG_spirit_of_the_industrial_revolution }
		x = 0
		y = 1
		relative_position_id = ENG_spirit_of_the_industrial_revolution
		cost = 6
		ai_will_do = {
			base = 0
		}
		allow_branch = {
			has_dlc = "La Resistance"
			has_dlc = "Man the Guns"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = ENG_steady_as_she_goes
						has_completed_focus = ENG_found_a_new_king
						has_completed_focus = ENG_the_kings_party
						has_completed_focus = ENG_organize_the_blackshirts
					}
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}
		available = {
		}
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_intelligence_agency = yes
					}
				}
				create_intelligence_agency = yes				
			}
			upgrade_intelligence_agency = upgrade_psycho_warfare
			add_ideas = ENG_ideological_propaganda
		}
		search_filters = {}
	}	

	focus = {
		id = ENG_disunite_kingdoms
		prerequisite = { focus = ENG_for_the_good_of_the_revolution }
		mutually_exclusive = { focus = ENG_the_british_communist_alternative focus = ENG_follow_moscow }
		available = {
			is_subject = no
			has_war = no
			has_government = communism
			has_country_flag = ENG_agreement_syndicalists_flag
		}
		allow_branch = {
			has_dlc = "Man the Guns"
			has_dlc = "No Step Back"
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = {
					OR = {
						has_completed_focus = ENG_steady_as_she_goes
						has_completed_focus = ENG_found_a_new_king
						has_completed_focus = ENG_the_kings_party
						has_completed_focus = ENG_organize_the_blackshirts
					}
				}
			}
			NOT = {
				OR = {
					has_global_flag = his_only
				}
			}
		}
		bypass = {
		}
		icon = GFX_z_goal_syndicalism_1
		x = 8
		y = 1
		relative_position_id = ENG_for_the_good_of_the_revolution
		cost = 9
		ai_will_do = {
			base = 3
		}
		search_filters = {FOCUS_FILTER_STABILITY}	
		completion_reward = {
			ENG_george_orwell = {
				#Communist country leader role
				add_country_leader_role = {
					country_leader = {
						expire = "1965.1.1"
						ideology = anarchist_communism
						traits = {
							orwell_novelist
							orwell_syndicalist
						}
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { is_faction_leader = yes }
				set_faction_name = syndicalist_faction
			}
			else = {  
				create_faction_from_template = faction_template_ENG_syndicalist_international
			}
			add_ideas = ENG_syndicalist_rule
			custom_effect_tooltip = ENG_disunite_kingdoms_tt
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				add_timed_idea = { idea = ENG_public_unrest days = 70 }
			}
			hidden_effect =  {
				set_cosmetic_tag = ENG_syndicalist_cosmetic
				ROOT = { 
					if = {
						limit = {
							has_dlc = "No Step Back"
						}
						release = NIR
			            release = SCO
			            release = WLS
						set_autonomy = {
							target = NIR
							autonomous_state = autonomy_personal_union
							freedom_level = 0.2
						}
						NIR = { add_ideas = ENG_guided_by_britain_communist }
						set_autonomy = {
							target = SCO
							autonomous_state = autonomy_personal_union
							freedom_level = 0.2
						}
						SCO = { add_ideas = ENG_guided_by_britain_communist }
						set_autonomy = {
							target = WLS
							autonomous_state = autonomy_personal_union
							freedom_level = 0.2
						}
						WLS = { add_ideas = ENG_guided_by_britain_communist }
					}
				}
		    }
		}
		select_effect = {
			add_timed_idea = { idea = ENG_public_unrest days = 70 }
		}
	}

	focus = {
		id = ENG_syndicalist_development
		prerequisite = { focus = ENG_disunite_kingdoms }
		available = {
			NOT = { has_idea = ENG_public_unrest }
		}

		icon = GFX_z_goal_syndicalist_economy
		x = 0
		y = 1
		relative_position_id = ENG_disunite_kingdoms
		cost = 9
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			every_country = {
				limit = {
					OR = {
						tag = ENG
					    is_subject_of = ENG
					    has_idea = ENG_guided_by_britain_communist
					}
				}
				add_ideas = ENG_decentralised_factories
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
						is_core_of = PREV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ENG_syndicalist_research
		prerequisite = { focus = ENG_syndicalist_development }
		prerequisite = { focus = ENG_socialist_science_pool }
		available = {
			has_completed_focus = ENG_disunite_kingdoms 
		}

		icon = GFX_z_goal_theories_of_syndicalism
		x = -2
		y = 1
		relative_position_id = ENG_syndicalist_development
		cost = 9
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			every_country = {
				limit = {
					OR = {
						tag = ENG
					    is_subject_of = ENG
					    has_idea = ENG_guided_by_britain_communist
					}
				}
				add_ideas = ENG_syndicalist_research
			}
		}
	}

	focus = {
		id = ENG_syndicalist_army
		prerequisite = { focus = ENG_syndicalist_research }
		available = {
		}

		icon = GFX_PRC_War_of_National_Liberation
		x = 0
		y = 1
		relative_position_id = ENG_syndicalist_research
		cost = 9
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_ideas = ENG_syndicalist_army
			every_country = {
				limit = {
					OR = {
					    is_subject_of = ENG
					    has_idea = ENG_guided_by_britain_communist
					}
				}
				add_ideas = ENG_syndicalist_army_alt
			}
			ENG_bop_very_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ENG_syndicalist_resource
		prerequisite = { focus = ENG_syndicalist_development }
		available = {
		}

		icon = GFX_focus_generic_mining_industry
		x = 0
		y = 1
		relative_position_id = ENG_syndicalist_development
		cost = 9
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			every_country = {
				limit = {
					OR = {
						tag = ENG
					    is_subject_of = ENG
					    has_idea = ENG_guided_by_britain_communist
					}
				}
				add_ideas = ENG_resource_extraction
			}
		}
	}

	focus = {
		id = ENG_spread_syndicalism_neighbours
		prerequisite = { focus = ENG_syndicalist_resource }
		available = {
		}

		icon = GFX_z_goal_kindle_fire_of_caribbean_revolution_red
		x = 0
		y = 1
		relative_position_id = ENG_syndicalist_resource
		cost = 8
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			every_country = {
				limit = {
					OR = {
						original_tag = IRE
						original_tag = SPR
						original_tag = SAU
						original_tag = IRQ
						original_tag = LIB
						original_tag = YEM
						original_tag = OMA
						original_tag = VEN
					}
					is_neighbor_of = ROOT
					NOT = { has_government = communism }
				}
				add_timed_idea = { idea = ENG_syndicalist_influence days = 250 }
			}
			ENG_bop_very_low_increase_communism_side_effect = yes
		}
	}

	focus = {
		id = ENG_syndicalist_iberia
		prerequisite = { focus = ENG_spread_syndicalism_neighbours }
		mutually_exclusive = { focus = ENG_syndicalist_ireland }
		available = {
			country_exists = SPR
			NOT = { ENG = { is_in_faction_with = SPR } }
			NOT = { ENG = { is_in_faction_with = SOV } }
			SPR = { has_government = communism }	
		}

		icon = GFX_z_goal_HOL_red_Spain_committee
		x = -1
		y = 1
		relative_position_id = ENG_spread_syndicalism_neighbours
		cost = 8
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			SPR = { country_event = { id = mtg_britain_ef.12 days = 1 } }
		}
		will_lead_to_war_with = SPR
	}

	focus = {
		id = ENG_syndicalist_ireland
		prerequisite = { focus = ENG_spread_syndicalism_neighbours }
		mutually_exclusive = { focus = ENG_syndicalist_iberia }
		available = {
			IRE = { communism > 0.3 }
		}

		icon = GFX_ef_goal_generic_red_ireland
		x = 1
		y = 1
		relative_position_id = ENG_spread_syndicalism_neighbours
		cost = 8
		ai_will_do = {
			base = 1
		}
		
		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			IRE = { country_event = { days = 3 id = mtg_britain_ef.12 } }
		}
		will_lead_to_war_with = IRE
	}

	focus = {
		id = ENG_diplomacy_with_the_reich
		icon = GFX_goal_ef_ENG_join_axis
		prerequisite = { focus = ENG_organize_the_blackshirts }
	 	mutually_exclusive = { focus = ENG_the_british_path_to_fascism }
	 	relative_position_id = ENG_organize_the_blackshirts
	 	available = {
	 		is_subject = no
	 		NOT = { has_war_with = GER }
	 		has_government = fascism
	 		GER = {
	 			has_government = fascism
 				is_faction_leader = yes
	 		}
		}
		x = -4
		y = 1
		cost = 9
		
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes

			GER = {
				add_opinion_modifier = { target = ENG modifier = ETH_closer_cooperation }
			}

			hidden_effect = {
				add_ai_strategy = {
					type = alliance
					id = GER
					value = 60
				}
				add_ai_strategy = {
					type = befriend
					id = GER
					value = 60
				}
				add_ai_strategy = {
					type = protect
					id = GER
					value = 50
				}
				GER = {
					add_ai_strategy = {
						type = alliance
						id = ROOT
						value = 60
					}
					add_ai_strategy = {
						type = befriend
						id = ROOT
						value = 60
					}
					add_ai_strategy = {
						type = protect
						id = ROOT
						value = 50
					}
				}
			}
		}
	}

	focus = {
		id = ENG_military_exchange_programs
		icon = GFX_goal_generic_secret_documents
		prerequisite = { focus = ENG_diplomacy_with_the_reich }
		available = {
			is_subject = no
			NOT = { has_war_with = GER }
			GER = {
				has_government = fascism
			}
		}
		relative_position_id = ENG_diplomacy_with_the_reich
		x = 1
		y = 1
		cost = 8

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_to_tech_sharing_group = ENG_GER_tech_sharing

			custom_effect_tooltip = generic_skip_one_line_tt

			army_experience = 25
			air_experience = 25

			add_tech_bonus = {
				name = med_armor_bonus
				bonus = 1.0
				uses = 1
				category = cat_medium_armor
			}
			add_tech_bonus = {
				name = CAS_effort
				uses = 1
				bonus = 1
				category = cas_bomber
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			GER = {
				add_to_tech_sharing_group = ENG_GER_tech_sharing

				custom_effect_tooltip = generic_skip_one_line_tt

				air_experience = 25
				navy_experience = 25
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					category = light_fighter
				}
				add_tech_bonus = {
					bonus = 0.75
					uses = 2
					category = mio_cat_tech_all_capital_ship_and_modules
				}
			}
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ENG_restructure_the_british_state
		icon = GFX_goal_generic_government_deals
		prerequisite = { focus = ENG_diplomacy_with_the_reich }
		available = {
			is_subject = no
		}
		relative_position_id = ENG_diplomacy_with_the_reich
		x = -1
		y = 1
		cost = 5

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = { ideology = fascism popularity = 0.05 }
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = ENG_join_the_axis
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = ENG_military_exchange_programs }
		prerequisite = { focus = ENG_restructure_the_british_state }
		available = {
			is_subject = no
			country_exists = GER
			NOT = { has_war_with = GER }
			GER = { has_government = fascism }
		}
		relative_position_id = ENG_military_exchange_programs
		x = -1
		y = 1
		cost = 8

		completion_reward = {
			GER = { country_event = { id = mtg_britain.27 hours = 6 } }

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_mosley_pacifism_level_down = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = ENG_road_war
		icon = GFX_goal_ef_ENG_road_war
		prerequisite = { focus = ENG_join_the_axis }
		available = {
			is_subject = no
		}
		relative_position_id = ENG_join_the_axis
		x = 0
		y = 1
		cost = 8

		completion_reward = {
			ENG_mosley_pacifism_level_down = yes

			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = ENG_imperialist_crusade

			custom_effect_tooltip = generic_skip_one_line_tt

			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_WAR_SUPPORT }
	}

    focus = {
		id = ENG_demand_ireland
		icon = GFX_ef_goal_generic_attack_ireland
	 	prerequisite = { focus = ENG_road_war }
		relative_position_id = ENG_road_war
		available = {
			is_subject = no
			IRE = {
				NOT = { has_war_with = ROOT }
				NOT = { is_in_faction_with = ROOT }
			}
		}
		bypass = {
			OR = {
				IRE = {
					is_subject_of = ROOT
				}
				NOT = { country_exists = IRE }
			}
		}
		will_lead_to_war_with = IRE
		x = 3
		y = 1
		cost = 8
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			IRE = { country_event = { id = generic.20 } }
		}
	}

	focus = {
		id = ENG_rebuild_imperial_core
		icon = GFX_focus_generic_modernize_industry
	 	prerequisite = { focus = ENG_demand_ireland focus = ENG_ally_portugal }
		relative_position_id = ENG_demand_ireland
		available = {

		}

		x = -1
		y = 1
		cost = 5

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_in_home_area = yes
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_factory_max_efficiency_factor = 0.05
				tooltip = production_factory_max_efficiency_factor_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_factory_efficiency_gain_factor = 0.05
				tooltip = production_factory_efficiency_gain_factor_tt
			}
		}
	}

	focus = {
		id = ENG_set_up_concentration_camps
		icon = GFX_goal_generic_destruction_civil_war
	 	prerequisite = { focus = ENG_road_war }
		relative_position_id = ENG_road_war
		available = {
			is_puppet = no
			has_government = fascism
		}
		allow_branch = {
			has_country_leader = {
				character = ENG_john_beckett
			}
		}
		bypass = {
		}
		x = 0
		y = 1
		cost = 6
		completion_reward = {
			add_stability = -0.03
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			add_ideas = ENG_concentration_camps
		}
	}

	focus = {
		id = ENG_ally_portugal
		icon = GFX_focus_generic_befriend_portugal
	 	prerequisite = { 
			focus = ENG_prevent_a_continental_hegemony
		}
		relative_position_id = ENG_prevent_a_continental_hegemony
	 	available = {
			is_subject = no
	 		POR = {
	 			is_in_faction = no
	 			is_subject = no
				NOT = {
					has_government = communism
					has_war_with = ROOT
				}
	 		}
		}
		bypass = {
			OR = {
				is_in_faction_with = POR
			    POR = { exists = no }
				POR = { has_government = communism }
				POR = { is_in_faction = yes }
			}
		}
		x = -3
		y = 1
		cost = 8
		completion_reward = {
			ENG_bop_very_low_increase_fascism_side_effect = yes
			POR = { 
				add_timed_idea = { idea = fascist_influence days = 1095 }
				country_event = { id = generic.5 }
			}	
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = ENG_secure_oil_imports
		icon = GFX_ef_goal_generic_war_secure_oil
		prerequisite = { focus = ENG_ally_portugal focus = ENG_demand_ireland }
		relative_position_id = ENG_ally_portugal
	    available = { 
			is_subject = no
			OR = {
				country_exists = SAU
				country_exists = IRQ
				country_exists = PER
			}
		}
		bypass = {
			OR = {
				AND = {
					SAU = {
						OR = {
							exists = no
							is_puppet_of = ENG
						}
					}
					IRQ = {
						OR = {
							exists = no
							is_puppet_of = ENG
						}
					}
					PER = {
						OR = {
							exists = no
							is_puppet_of = ENG
						}
					}
				}
				AND = {
					NOT = {
						country_exists = SAU
						country_exists = IRQ
						country_exists = PER
					}
				}
			}
		}
		continue_if_invalid = yes
		x = -1
		y = 1
		cost = 8
		completion_reward = {
			ENG_mosley_pacifism_level_down = yes
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SAU
				expire = 0
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = IRQ
				expire = 0
			}
			create_wargoal = {
				type = puppet_wargoal_focus
				target = PER
				expire = 0
			}
		}
		will_lead_to_war_with = SAU
		will_lead_to_war_with = IRQ
		will_lead_to_war_with = PER
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = ENG_attack_france
		prerequisite = { focus = ENG_secure_oil_imports }
		available = {
			is_subject = no
			country_exists = FRA
			NOT = { is_in_faction_with = FRA }
		}
		will_lead_to_war_with = FRA
		icon = GFX_focus_attack_france
		x = 0
		y = 1
		relative_position_id = ENG_secure_oil_imports
		cost = 8
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			create_wargoal = {
				type = puppet_wargoal_focus
				target = FRA
				expire = 0
			}
		}
	}
	focus = {
		id = ENG_enact_the_mosley_manifesto
		prerequisite = { focus = ENG_the_british_path_to_fascism focus = ENG_diplomacy_with_the_reich }
		available = {
			if = {
				limit = {
					is_power_balance_side_active = {
						id = ENG_ideology_balance
						side = ENG_mosley_side
					}
				}
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_mosley_high_control_range
				}
			}
			else = {
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range > ENG_a_change_in_course_high_control_range
				}
			}
		}
		icon = GFX_goal_ENG_plot_of_november
		x = -4
		y = 1
		relative_position_id = ENG_the_british_path_to_fascism
		cost = 5
		ai_will_do = {
			base = 1
		}	
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = enact_the_mosley_memorandum_2IC }
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = enact_the_mosley_memorandum_2AF }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_BALANCE_OF_POWER }
		completion_reward = {
			ENG_bop_very_low_increase_fascism_side_effect = yes
			if = {
				limit = {
					NOT = { has_idea = limited_exports }
					NOT = { has_idea = closed_economy }
				}
				add_ideas = limited_exports
			}
			if = {
				limit = {  
					NOT = { has_country_flag = ENG_mosley_banned_flag }
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_ideas = ENG_the_mosley_memorandum_idea
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 3
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = industrial_complex
					level = 4
					instant_build = yes
				}
				set_state_flag = enact_the_mosley_memorandum_2IC
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = enact_the_mosley_memorandum_2AF
			}
		}
	}

	focus = {
		id = ENG_the_iron_ministry
		prerequisite = { focus = ENG_enact_the_mosley_manifesto }
		available = {
		}

		icon = GFX_focus_generic_treaty
		x = 1
		y = 1
		relative_position_id = ENG_enact_the_mosley_manifesto
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { }

		completion_reward = {
			add_political_power = 120
			add_command_power = 25

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = { ideology = fascism popularity = 0.1 }
		}
	}

	focus = {
		id = ENG_youth_loyalty_programmes
		prerequisite = { focus = ENG_the_iron_ministry }
		available = {
		}

		icon = GFX_focus_generic_military_academy
		x = -1
		y = 1
		relative_position_id = ENG_the_iron_ministry
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_STABILITY }

		completion_reward = {
			add_ideas = ENG_youth_loyalty_programme
		}
	}

	focus = {
		id = ENG_state_propaganda_directorate
		prerequisite = { focus = ENG_the_iron_ministry }
		available = {
		}

		icon = GFX_ef_goal_generic_propaganda
		x = 1
		y = 1
		relative_position_id = ENG_the_iron_ministry
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_war_support = 0.05

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = prca_tokens_tt_add_100
			add_to_variable = { THIS.prca_tokens = 100 }
			THIS_clamp_max_tokens = yes

			custom_effect_tooltip = generic_skip_one_line_tt

			custom_effect_tooltip = ENG_propaganda_tokens_tt
			add_to_variable = { THIS.prca_newspaper_tokens_weekly = 0.25 }
			THIS_recalc_weekly_tokens_gain = yes
		}
	}

	focus = {
		id = uk_fascist_military
		prerequisite = { focus = ENG_enact_the_mosley_manifesto }
		available = {
		}

		icon = GFX_focus_generic_fascist_troops
		x = -2
		y = 1
		relative_position_id = ENG_enact_the_mosley_manifesto
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

		completion_reward = {
			add_war_support = 0.1

			custom_effect_tooltip = generic_skip_one_line_tt

			ENG_modify_army_modifier = yes
			add_to_variable = {
				ENG_royal_army_org_factor = 0.05
				tooltip = army_org_factor_tt 
			}
			add_to_variable = { 
				ENG_royal_army_conscription = 0.015
				tooltip = conscription_tt
			}
			add_to_variable = { 
				ENG_royal_army_org_loss_when_moving = -0.1
				tooltip = org_loss_when_moving_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			remove_ideas = ENG_the_war_to_end_all_wars
		}
	}

	focus = {
		id = ENG_iron_fleet_initiative
		prerequisite = { focus = uk_fascist_military }
		available = {
		}

		icon = GFX_goal_generic_naval_fleet_in_being
		x = 0
		y = 1
		relative_position_id = uk_fascist_military
		cost = 5
		ai_will_do = {
			base = 1
		}
		
		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_industrial_capacity_dockyard = 0.05
				tooltip = industrial_capacity_dockyard_tt
			}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_dockyard_factor = 0.05
				tooltip = production_speed_dockyard_factor_tt
			}

			custom_effect_tooltip = generic_skip_one_line_tt

			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1
				uses = 1
				category = bc_tech
				category = bb_tech
			}

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}	
				custom_effect_tooltip = generic_skip_one_line_tt
				mio:ENG_harland_wolff_organization = {
					add_mio_size = 1
					add_mio_funds_gain_factor = 0.05
				}
			}
		}
	}

		focus = {
			id = ENG_no_further_appeasement
			prerequisite = { focus = ENG_every_man_will_do_his_duty }
			prerequisite = { focus = ENG_motion_of_no_confidence }
			available = { 
				is_subject = no
			}
	
			continue_if_invalid = yes
	
			icon = GFX_goal_eng_no_further_appeasment
			x = -1
			y = 1
			relative_position_id = ENG_motion_of_no_confidence
			cost = 5
			ai_will_do = {
				factor = 1
			}	
			completion_reward = {
				add_stability = -0.10
				custom_effect_tooltip = ENG_no_further_appeasement_tt
				hidden_effect = {
					set_rule = { can_declare_war_on_same_ideology = yes }
					set_rule = { can_puppet = yes }
				}
				set_rule = { can_send_volunteers = yes }
				custom_effect_tooltip = generic_skip_one_line_tt
				add_ideas = ENG_no_further_appeasement_idea
				hidden_effect = { news_event = { id = mtg_news.16 days = 1 } }
			}
		}

		focus = {
			id = ENG_kickstart_the_war_industry
			prerequisite = { focus = ENG_no_further_appeasement }
			available = { 
				
			}
	
			continue_if_invalid = yes
	
			icon = GFX_goal_ENG_War_Economy
			x = -3
			y = 1
			relative_position_id = ENG_no_further_appeasement
			cost = 10
			ai_will_do = {
				factor = 1
			}	
			complete_tooltip = {
				every_state = {
					limit = { has_state_flag = kickstart_the_war_industry_2AF }
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				
			}
			search_filters = {FOCUS_FILTER_INDUSTRY}
			completion_reward = {
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = kickstart_the_war_industry_2AF
				}
				random_owned_controlled_state = {
					limit = {
						is_in_home_area = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = kickstart_the_war_industry_2AF
				}
			}
		}
	
		focus = {
			id = ENG_secure_the_oil_imports
			prerequisite = { focus = ENG_kickstart_the_war_industry }
			available = { 
				is_subject = no
				OR = {
					country_exists = IRQ
					country_exists = PER
					country_exists = HOL
					country_exists = VEN
				}
			}

			bypass = {
				NOT = {
					country_exists = IRQ
					country_exists = PER
					country_exists = HOL
					country_exists = VEN
				}
			}
	
			will_lead_to_war_with = IRQ
			will_lead_to_war_with = PER
			will_lead_to_war_with = HOL
			will_lead_to_war_with = VEN
			will_lead_to_war_with = CRC
	
			continue_if_invalid = yes
	
			icon = GFX_ef_goal_generic_war_secure_oil
			x = 0
			y = 1
			relative_position_id = ENG_kickstart_the_war_industry
			cost = 10
			ai_will_do = {
				factor = 1
			}	
			completion_reward = {
				create_wargoal = {
					target = IRQ
					type = puppet_wargoal_focus
					expire = 0
				}
				create_wargoal = {
					target = PER
					type = puppet_wargoal_focus
					expire = 0
				}
				if = {
					limit = {
						695 = { is_owned_by = HOL }
					}
					create_wargoal = {
						target = HOL
						type = take_state_focus
						generator = { 695 }
						expire = 0
					}
				}
				else_if = {
					limit = {
						695 = { is_owned_by = CRC }
					}
					create_wargoal = {
						target = CRC
						type = take_state_focus
						generator = { 695 }
						expire = 0
					}
				}
				add_state_claim = 489
				add_state_claim = 307
				add_state_claim = 309
				add_state_claim = 695
				add_state_claim = 413
				add_state_claim = 412
			}
		}

		focus = {
			id = uk_operation_unthinkable
			prerequisite = { focus = ENG_secure_the_oil_imports }
			available = {
				has_country_leader =  {
					name = "Winston Churchill"
					ruling_only = yes
				}
				ENG = { 
					is_in_faction_with = USA
					has_government = democratic
					NOT = {
						has_war_with = SOV
						has_war_with = GER
					}
				}
				USA = {
					is_in_faction_with = ENG
					has_government = democratic 
					NOT = {
						has_war_with = SOV
						has_war_with = GER
					}
				}
				SOV = { has_government = communism }	
				date > 1943.10.1	
			}
	
			icon = GFX_z_goal_to_overcome_the_red_radicals
			x = 0
			y = 1
			relative_position_id = ENG_secure_the_oil_imports
			cost = 8
			ai_will_do = {
				factor = 1
			}
			
			search_filters = {FOCUS_FILTER_ANNEXATION }
	
			completion_reward = {
				USA = { country_event = { days = 1 id = mtg_britain_ef.6 } }
				custom_effect_tooltip = ENG_Operation_Unthinkable_tt
			}
		}

		focus = {
			id = ENG_maintaining_imperial_integrity
			prerequisite = { focus = ENG_no_further_appeasement }
			mutually_exclusive = { focus = ENG_maintaining_the_balance_of_power }
			available = { 
				is_subject = no
			}
			bypass = {
				NOT = {
					any_country = {
						is_subject_of = ENG
					}
				}
				NOT = {
					focus_progress = {
						focus = ENG_maintaining_the_balance_of_power
						progress > 0
					}
				}
			}
	
			continue_if_invalid = yes
	
			icon = GFX_z_goal_british_lion
			x = -1
			y = 1
			relative_position_id = ENG_no_further_appeasement
			cost = 9
			ai_will_do = {
				factor = 10
			}
			search_filters = {FOCUS_FILTER_RESEARCH}	
			completion_reward = {
				add_doctrine_cost_reduction = {
					name = naval_doc_bonus
					cost_reduction = 0.5
					uses = 3
					category = naval_doctrine
				}
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					CAN = {
						if = {
							limit = { is_in_faction_with = ENG }
							add_ideas = ENG_maintaining_imperial_integrity_idea
						}
					}
					AST = {
						if = {
							limit = { is_in_faction_with = ENG }
							add_ideas = ENG_maintaining_imperial_integrity_idea
						}
					}
					NZL = {
						if = {
							limit = { is_in_faction_with = ENG }
							add_ideas = ENG_maintaining_imperial_integrity_idea
						}
					}
					SAF = {
						if = {
							limit = { is_in_faction_with = ENG }
							add_ideas = ENG_maintaining_imperial_integrity_idea
						}
					}
					RAJ = {
						if = {
							limit = { is_in_faction_with = ENG }
							add_ideas = ENG_maintaining_imperial_integrity_idea
						}
					}
				}
				FRA = {
					if = {
						limit = { NOT = { is_in_faction_with = ENG } }
						add_opinion_modifier = { target = ENG modifier = ENG_maintaining_imperial_integrity }
					}
				}
				ITA = {
					if = {
						limit = { NOT = { is_in_faction_with = ENG } }
						add_opinion_modifier = { target = ENG modifier = ENG_maintaining_imperial_integrity }
					}
				}
				USA = {
					if = {
						limit = { NOT = { is_in_faction_with = ENG } }
						add_opinion_modifier = { target = ENG modifier = ENG_maintaining_imperial_integrity }
					}
				}
				JAP = {
					if = {
						limit = { NOT = { is_in_faction_with = ENG } }
						add_opinion_modifier = { target = ENG modifier = ENG_maintaining_imperial_integrity }
					}
				}
			}
		}
	
		focus = {
			id = ENG_enforce_the_naval_treaties
			prerequisite = { focus = ENG_maintaining_imperial_integrity }
			available = { 
				is_subject = no
			}
	
			continue_if_invalid = yes
	
			icon = GFX_z_goal_capture_of_british_vessels
			x = 0
			y = 1
			relative_position_id = ENG_maintaining_imperial_integrity
			cost = 9
			ai_will_do = {
				factor = 1
			}	
			completion_reward = {
				unlock_decision_category_tooltip = ENG_enforce_the_naval_treaties
				custom_effect_tooltip = ENG_enforce_the_naval_treaties_tt
				hidden_effect = { news_event = { id = mtg_news.17 days = 1 } }
			}
		}
	
		focus = {
			id = ENG_maintaining_the_balance_of_power
			prerequisite = { focus = ENG_no_further_appeasement }
			mutually_exclusive = { focus = ENG_maintaining_imperial_integrity }
			available = { 
				is_subject = no
			}
	
			continue_if_invalid = yes
	
			icon = GFX_goal_generic_stable_government
			x = 1
			y = 1
			relative_position_id = ENG_no_further_appeasement
			cost = 9
			ai_will_do = {
				factor = 10
			}
			search_filters = {FOCUS_FILTER_RESEARCH}	
			completion_reward = {
				add_doctrine_cost_reduction = {
					name = land_doc_bonus
					cost_reduction = 0.5
					uses = 2
					category = land_doctrine
				}
				GER = {
					if = {
						limit = { NOT = { is_in_faction_with = ENG } }
						add_opinion_modifier = { target = ENG modifier = ENG_maintaining_the_balance_of_power_bad }
					}
				}
				SOV = {
					if = {
						limit = { NOT = { is_in_faction_with = ENG } }
						add_opinion_modifier = { target = ENG modifier = ENG_maintaining_the_balance_of_power_bad }
					}
				}
				every_other_country = {
					limit = {
						any_owned_state = {
							is_capital = yes
							is_on_continent = europe
						}
						has_government = democratic
					}
					add_opinion_modifier = { target = ENG modifier = ENG_maintaining_the_balance_of_power_good }
				}
				every_other_country = {
					limit = {
						any_owned_state = {
							is_capital = yes
							is_on_continent = europe
						}
						has_added_tension_amount > 0.1
						num_of_factories > 50
					}
					add_opinion_modifier = { target = ENG modifier = ENG_maintaining_the_balance_of_power_bad }
				}
			}
		}
	
		focus = {
			id = ENG_continental_intervention
			prerequisite = { focus = ENG_maintaining_the_balance_of_power }
			available = { 
				is_subject = no
			}
	
			continue_if_invalid = yes
	
			icon = GFX_goal_generic_major_war
			x = 0
			y = 1
			relative_position_id = ENG_maintaining_the_balance_of_power
			cost = 9
			ai_will_do = {
				factor = 1
			}
			completion_reward = {
				custom_effect_tooltip = ENG_continental_intervention_tt
				every_other_country = {
					limit = {
						any_owned_state = {
							is_capital = yes
							is_on_continent = europe
						}
						NOT = { is_in_faction_with = ROOT }
						has_added_tension_amount > 0.1
						num_of_factories > 50
					}
					ENG = {
						create_wargoal = {
							target = PREV
							type = topple_government
							expire = 0
						}
					}
				}
				hidden_effect = { news_event = { id = mtg_news.18 days = 1 } }
			}
		}

		focus = {
			id = ENG_containment
			icon = GFX_goal_containment
			prerequisite = { focus = ENG_global_defense focus = ENG_home_defence }
			available = {
				OR = {
					threat > 0.1
					has_war = yes
					date > 1937.1.1
					has_idea = ENG_no_further_appeasement_idea
				}
			}
			relative_position_id = ENG_steady_as_she_goes
			x = 0
			y = 2
			offset = {
				x = 7
				y = 0
				trigger = {
					NOT = { has_dlc = "Man the Guns" }
					NOT = {
						OR = {
							has_global_flag = his_only
							
						}
					}
				}
			}
			offset = {
				x = 5
				y = 0
				trigger = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
					has_completed_focus = ENG_global_defense
				}
			}
			offset = {
				x = 7
				y = 0
				trigger = {
					has_dlc = "Man the Guns"
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
					NOT = {
						OR = {
							has_global_flag = his_only
							
						}
					}
					has_completed_focus = ENG_home_defence
				}
			}
			offset = {
				x = 7
				y = 0
				trigger = {
					OR = {
						has_global_flag = his_only
						
					}
				}
			}
			cost = 5

			search_filters = { FOCUS_FILTER_HISTORICAL }
			completion_reward = {
				add_political_power = 100
				every_country = { 
					limit = { has_government = fascism }
					add_opinion_modifier = { target = ENG modifier = large_decrease }
					add_popularity = { ideology = fascism popularity = -0.01 }
				}
			}
		}

		focus = {
			id = ENG_prepare_for_the_inevitable
			available = {
	
			}		
			prerequisite = { focus = ENG_containment }
	
			icon = GFX_z_industry_democratic1
	
			x = 0
			y = 1
			relative_position_id = ENG_containment
			cost = 5
			ai_will_do = {
				factor = 1
			}
			
			search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_HISTORICAL }
			
			completion_reward = {
			ENG_modify_economy_modifier = yes
			add_to_variable = { 
				ENG_stagnant_industry_modifier_production_speed_arms_factory_factor = 0.1
				tooltip = production_speed_arms_factory_factor_tt
				}
			add_to_variable = { 
				ENG_stagnant_industry_modifier_industrial_capacity_factory = 0.05
				tooltip = industrial_capacity_factory_tt
				}
		}
	}
		focus = {
			id = uk_wartime_measures
			prerequisite = { focus = ENG_prepare_for_the_inevitable }
			available = {
				ENG = {
					OR = {
					    has_war_with = GER
					    has_war_with = ITA
					    has_war_with = JAP
					    has_war_with = SOV
						AND = {
							USA = { NOT = { has_government = democratic } }
							has_war_with = USA
						}
					}
				}	
			}
	
			icon = GFX_focus_generic_commonwealth_build_infantry
			x = 0
			y = 1
			relative_position_id = ENG_prepare_for_the_inevitable
			cost = 7
			ai_will_do = {
				factor = 1
			}
			
			search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_HISTORICAL }
	
			completion_reward = {
				add_war_support = 0.15
	
			ENG_modify_economy_modifier = yes
				add_to_variable = { 
				ENG_stagnant_industry_modifier_industrial_capacity_factory = 0.1
				tooltip = industrial_capacity_factory_tt
				}
				}
		
		}

		focus = {
			id = uk_home_guards
			prerequisite = { focus = uk_wartime_measures }
			available = {
				OR = {
					has_war_with = GER
					has_war_with = ITA
					has_war_with = SOV
					has_war_with = USA
					has_war_with = FRA
				}
			}
	
			icon = GFX_goal_ENG_home_guard
			x = -2
			y = 1
			offset = {
				x = 1
				y = 0
				trigger = {
					OR = {
						has_global_flag = his_only
						
					}
					NOT = { has_dlc = "La Resistance" }
				}
			}
			offset = {
				x = 1
				y = 0
				trigger = {
					OR = {
						has_global_flag = his_only
						
					}
				}
			}
			relative_position_id = uk_wartime_measures
			cost = 8
			ai_will_do = {
				factor = 1
			}
			
			search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_HISTORICAL }
	
			completion_reward = {
				add_ideas = ENG_home_guard
			}
		}

		focus = {
			id = uk_ultra_enigma
			icon = GFX_focus_generic_vatican_agents
			prerequisite = { focus = uk_wartime_measures }
			available = {
				OR = {
					has_war_with = GER
					has_war_with = ITA
					has_war_with = JAP
					has_war_with = SOV
				}
				has_completed_focus = ENG_expand_the_secret_intelligence_service_focus
			}
			allow_branch = {
				has_dlc = "La Resistance"
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					NOT = {
						has_completed_focus = ENG_a_change_in_course
					}
				}
			}
			x = 1
			y = 2
			offset = {
				x = 0
				y = -1
				trigger = {
					OR = {
						has_global_flag = his_only
						
					}
				}
			}
			relative_position_id = uk_wartime_measures
			cost = 8
	
			available_if_capitulated = yes
			search_filters = { FOCUS_FILTER_HISTORICAL }
			completion_reward = {
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 0.5
					uses = 1
					category = computing_tech
				}
				add_ideas = ENG_ultra_idea
			}
		}

		focus = {
			id = uk_government_code_and_cypher_school
			icon = GFX_focus_SWI_embrace_rote_drei
			prerequisite = { focus = uk_wartime_measures }
			available = {
				has_completed_focus = ENG_expand_the_secret_intelligence_service_focus
			}
			allow_branch = {
				has_dlc = "La Resistance"
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					NOT = {
						has_completed_focus = ENG_a_change_in_course
					}
				}
			}
			x = -1
			y = 2
			offset = {
				x = 1
				y = 0
				trigger = {
					OR = {
						has_global_flag = his_only
						
					}
				}
			}
			relative_position_id = uk_wartime_measures
			cost = 8
	
			available_if_capitulated = yes
			search_filters = { FOCUS_FILTER_HISTORICAL }
			completion_reward = {
				if = {
					limit = {
						NOT = { has_done_agency_upgrade = upgrade_commando_training }
					}
					upgrade_intelligence_agency = upgrade_commando_training
				}
				if = {
					limit = {
						NOT = { has_done_agency_upgrade = upgrade_crypto_strength }
					}
					upgrade_intelligence_agency = upgrade_crypto_strength
				}
				if = {
					limit = {
						NOT = { has_done_agency_upgrade = upgrade_decryption_boost }
					}
					upgrade_intelligence_agency = upgrade_decryption_boost
				}
				swap_ideas = {
					remove_idea = ENG_mi6_ns
					add_idea = ENG_mi6_idea2
				}
			}
		}
		
		focus = {
			id = uk_plan_r4
			prerequisite = { focus = uk_wartime_measures }
			available = {
				ENG = {
					OR = {
					    has_war_with = GER
					    has_war_with = SOV
					}
					OR = {
						NOT = { NOR = { has_capitulated = yes }	}
						NOT = { SWE = { has_capitulated = yes }	}
					}
				}
			}

			bypass = {
				NOR = {  
					has_war_with = GER
				}
			}
			allow_branch = {
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					NOT = {
						has_completed_focus = ENG_a_change_in_course
					}
				}
				NOT = {
					OR = {
						has_global_flag = his_only
						
					}
				}
			}
			icon = GFX_goal_SWE_landstormen
			x = 0
			y = 1
			relative_position_id = uk_wartime_measures
			cost = 10
			ai_will_do = {
				base = 0
			}
			
			search_filters = {FOCUS_FILTER_ANNEXATION}
	
			completion_reward = {
				create_wargoal = { type = take_state target = NOR }	
				create_wargoal = { type = take_state target = SWE }	
			}
		}

		focus = {
			id = uk_burma_focus
			prerequisite = { focus = ENG_containment } 
			available = {
				CHI = { 
					has_war_with = JAP 
					NOT = { has_war_with = ENG }
				}
				JAP = { NOT = { is_in_faction_with = ENG } }
			}
	
			bypass = {
				CHI = { exists = no }
			}
	
			icon = GFX_goal_ENG_Burma_Road
			x = -2
			y = 1
			relative_position_id = ENG_containment
			cost = 9
			ai_will_do = {
				factor = 1
			}
	
			available_if_capitulated = yes
	
			bypass = {
				640 = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
				325 = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
				601 = {
					free_building_slots = {
						building = infrastructure
						size < 2
					}
					free_building_slots = {
						building = air_base
						size < 1
					}
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
			search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_HISTORICAL }
			completion_reward = {
				640 = {
					if = {
						limit = { 
							OR = { 
								ENG = { controls_state = 640 }
								any_other_country = {
									is_in_faction_with = ENG
									controls_state = 640
								} 
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
				325 = {
					if = {
						limit = { 
						OR = { 
								CHI = { controls_state = 325 }
								any_other_country = {
									is_in_faction_with = CHI
									controls_state = 640
								} 
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
				601 = {
					if = {
						limit = { 
							OR = { 
								CHI = { controls_state = 601 }
								any_other_country = {
									is_in_faction_with = CHI
									controls_state = 601
								} 
							} }
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
				custom_effect_tooltip = generic_skip_one_line_tt
				add_war_support = 0.05
				custom_effect_tooltip = generic_skip_one_line_tt
				if = {
					limit = {
						has_dlc = "Waking the Tiger"
					}
					unlock_decision_tooltip = CHI_expand_the_burma_road
				}
				CHI = {
					add_opinion_modifier = { target = ENG modifier = burma_road_good } 
					country_event = britain.4
				}
				YUN = {
					add_opinion_modifier = { target = ENG modifier = burma_road_good } 
					country_event = britain.5
				}
				JAP = {
					add_opinion_modifier = { target = ENG modifier = burma_road_bad } 
				} 
			}
		}

		focus = {
			id = uk_china_focus 
			prerequisite = { focus = uk_burma_focus }
			available = {
				CHI = { 
					exists = yes
					OR = {
						is_puppet = no
						CHI = {
							OVERLORD = {
								is_in_faction_with = ENG
							}
						}
					}
				}
				has_government = democratic
			} 
			cancel = {
				CHI = { exists = no }
			}
			icon = GFX_focus_chi_cooperation_with_the_nationalists
			x = 0
			y = 1
			relative_position_id = uk_burma_focus
			cost = 9
			ai_will_do = {
				factor = 1
				modifier = {
					factor = 0
					is_historical_focus_on = yes
				}
			}
			search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
			completion_reward = {
				event_target:WTT_current_china_leader = {
					add_offsite_building = { type = arms_factory level = 2 }
					add_opinion_modifier = { target = ENG modifier = democratic_leanings_good }
					add_timed_idea = { idea = democratic_influence days = 1095 }
					country_event = { id = generic.1 }
					set_country_flag = ENG_influenced_by_britain_flag
				}
				every_other_country = {
					limit = { 
						NOT = { has_government = democratic }
						num_of_factories > 30
					}
					add_opinion_modifier = { target = CHI modifier = democratic_leanings_bad }
				}
			}
		}

		focus = {
			id = uk_iraq_focus
			available = {
				IRQ = {
					OR = { 
						communism > 0.2
						fascism > 0.2
					} 
				}
			} #UK at war with fascist/commie. iraq is fascist/commie
	
			bypass = {
				IRQ = { exists = no }
			}
			historical_ai = { 
				date > 1941.2.2
			}
			will_lead_to_war_with = IRQ
			prerequisite = { focus = ENG_containment }
			icon = GFX_ef_focus_attack_iraq
			x = 2
			y = 1
			relative_position_id = ENG_containment
			cost = 10
			ai_will_do = {
				factor = 1
			}	
			completion_reward = {
				create_wargoal = {
					type = take_state_focus
					target = IRQ
					generator = { 291 }
					expire = 0
				}
			}
		}
		focus = {
			id = uk_iran_focus
			available = {
				country_exists = PER
				NOT = { has_war_with = PER }
				is_subject = no
				any_enemy_country = { is_major = yes }
			}
	
			bypass = {
				PER = { exists = no }
			}
	
			will_lead_to_war_with = PER
			prerequisite = { focus = uk_iraq_focus }
			icon = GFX_z_goal_war_with_iran
			x = 0
			y = 1
			relative_position_id = uk_iraq_focus
			cost = 10
			ai_will_do = {
				factor = 1
				modifier = {
					factor = 0
					has_civil_war = yes
				}
				modifier = {
					factor = 0
					PER = {
						has_government = ROOT
					}
				}	
			}
			completion_reward = {
				IF = {
					limit = {
						has_dlc = "Graveyard of Empires"
					}
					PER = {
						set_country_flag = SOV_ultimatum_sent_flag
						country_event = { id = 	PER_foreign_policy_events.1 hours = 16 	random_hours = 8 }
					}
		
					effect_tooltip = {
						custom_effect_tooltip = if_they_accept_tt
						ROOT = {
							puppet = PER
						}
		
						custom_effect_tooltip = if_they_refuse_tt
						effect_tooltip = {
							activate_mission = 	SOV_preparations_for_operation_countenance
							custom_effect_tooltip = 	SOV_preparations_for_operation_countenance_tt
						}
						custom_effect_tooltip = PER_preemptive_invasion_of_iran_tt
					}
				}
				ELSE = {
					create_wargoal = {
						type = take_state_focus
						target = PER
						generator = { 266 }
						expire = 0
					}
				}
			}
		}

		focus = {
			id = ENG_found_a_new_king
			icon = GFX_goal_ENG_found_new_king
			prerequisite = { focus = ENG_a_change_in_course }
			relative_position_id = ENG_a_change_in_course
			mutually_exclusive = { focus = ENG_the_kings_party focus = ENG_organize_the_blackshirts focus = ENG_concessions_to_the_trade_unions  }

			allow_branch = {
				has_dlc = "Man the Guns"
				if = {
					limit = {
						has_game_rule = {
							rule = obsolete_focus_branches_visibility
							option = HIDE
						}
					}
					NOT = {
						OR = {
							has_completed_focus = ENG_the_kings_party
							has_completed_focus = ENG_organize_the_blackshirts
							has_completed_focus = ENG_concessions_to_the_trade_unions
							has_completed_focus = ENG_steady_as_she_goes
						}
					}
				}
				NOT = {
					OR = {
						has_global_flag = his_only
						
					}
				}
			}
	
			offset = {
				x = 20
				y = 0
				trigger = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
					has_completed_focus = ENG_found_a_new_king
				}
			}

			x = -20
			y = 1
			available = {
				is_subject = no
				has_war = no
				if = {
					limit = {
						NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
			        }
					NOT = { has_country_flag = edward_viii_refused_to_abdicate_flag }
				}
				has_country_flag = ENG_edward_viii_abdicated
				is_power_balance_in_range = {
					id = ENG_ideology_balance
					range < ENG_a_change_in_course_high_control_range
				}
				hidden_trigger = {
					NOT = { has_country_flag = ENG_lock_ideology_focuses_flag }
				}
			}
			cost = 8
			continue_if_invalid = yes
			available_if_capitulated = yes
			completion_reward = {
				add_stability = -0.15

				custom_effect_tooltip = generic_skip_one_line_tt

				hidden_effect = {
					retire_country_leader = yes
				}
				create_country_leader = {
					name = "Fallen Government"
					desc = "POLITICS_FALLEN_GOVERNMENT_DESC"
					picture = GFX_portrait_Fallen_Government
					expire = "1965.1.1"
					ideology = conservatism
					traits = {
						cabinet_crisis
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				if = {
					limit = { has_idea = ENG_king_edward }
					remove_ideas = ENG_king_edward
				}
				if = {
					limit = { has_idea = ENG_george_vi }
					remove_ideas = ENG_george_vi
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				remove_power_balance = {
					id = ENG_ideology_balance
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				country_event = mtg_britain_ef.1
				hidden_effect = {
					add_popularity = { ideology = neutrality popularity = 0.10 }
					add_popularity = { ideology = fascism popularity = 0.10 }
					if = {
						limit = {
							has_country_flag = ENG_abdication_crisis_morganatic_marriage
						}
						clr_country_flag = ENG_abdication_crisis_morganatic_marriage
					}
					if = {
						limit = {
							has_country_flag = edward_viii_married_wallis_simpson
						}
						clr_country_flag = edward_viii_married_wallis_simpson
					}
					if = {
						limit = {
							has_game_rule = {
								rule = obsolete_focus_branches_visibility
								option = HIDE
							}
						}
						mark_focus_tree_layout_dirty = yes
					}
				}
			}
			select_effect = {
				hidden_effect = {
					set_country_flag = { flag = ENG_switched_to_fascism_communism_dominions_timer_flag value = 1 days = 60 }
				}
			}
		}
		focus = {
			id = ENG_the_german_crown
			icon = GFX_goal_ENG_german_king
			prerequisite = { focus = ENG_found_a_new_king }
			mutually_exclusive = { focus = ENG_claim_the_highland_crown }
			relative_position_id = ENG_found_a_new_king
			x = 7
			y = 1
			available = {
				is_subject = no
				has_country_flag = ENG_german_king_selected_flag
			}
			cost = 5
			continue_if_invalid = yes
			available_if_capitulated = yes

			search_filters = { FOCUS_FILTER_POLITICAL }
			completion_reward = {
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.2 }

				custom_effect_tooltip = generic_skip_one_line_tt

				hidden_effect = {
				    kill_country_leader = yes
					set_party_name = { ideology = neutrality long_name = ENG_neutrality_party_kings_party_long name = ENG_neutrality_party_kings_party }
					if = {
						limit = {
							GER = {
								NOT = { has_government = neutrality }
							}
						}
						add_ai_strategy = {
							type = contain
							id = GER
							value = -200
						}
					}
					set_cosmetic_tag = ENG_german_great_britain
					set_rule = { can_force_government = yes }
				}
				add_ideas = ENG_riots_german

				custom_effect_tooltip = generic_skip_one_line_tt

				if = {
					limit = {
						OR = {
							has_subject = CAN
							has_subject = SAF
							has_subject = AST
							has_subject = NZL
							has_subject = RAJ
							AND = {
								has_subject = IRE
								IRE = { has_cosmetic_tag = IRE_democratic_coalition }
							}
						}
					}
					if = {
						limit = {
							has_subject = RAJ
						}
						add_country_leader_role = {
							character = ENG_ernest_august
							promote_leader = yes
							country_leader = {
								ideology = monarchism
								expire = "1965.1.1.1"
								traits = { 
									inexperienced_imperialist
									king_of_uk_and_dominions
									eng_emperor_of_india
								}
							}
						}
					}
					else = {
						add_country_leader_role = {
							character = ENG_ernest_august
							promote_leader = yes
							country_leader = {
								ideology = monarchism
								expire = "1965.1.1.1"
								traits = { 
									inexperienced_imperialist
									king_of_uk_and_dominions
								}
							}
						}
					}
				}
				else = {
					add_country_leader_role = {
						character = ENG_ernest_august
						promote_leader = yes
						country_leader = {
							ideology = monarchism
							expire = "1965.1.1.1"
							traits = { inexperienced_imperialist }
						}
					}
				}
			}
		}

		focus = {
			id = ENG_reconcile_the_realm
			icon = GFX_goal_ENG_reconcile_realm
			prerequisite = { focus = ENG_the_german_crown }
			relative_position_id = ENG_the_german_crown
			x = -3
			y = 1
			available = {
				
			}
			cost = 5
			completion_reward = {
				every_country = {
					limit = {  
						NOT = { has_completed_focus = ENG_revisit_colonial_policy }
						NOT = {
							tag = POR
							tag = PER
						}
						is_subject_of = ENG
						is_in_tech_sharing_group = commonwealth_research
					}
					add_opinion_modifier = { target = ENG modifier = USA_special_relationship }
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				if = {
					limit = {
						has_idea = ENG_riots_german2
					}
					swap_ideas = {
						remove_idea = ENG_riots_german2
						add_idea = ENG_riots_german3
					}
				}
				else_if = {
					limit = {
						has_idea = ENG_riots_german3
					}
					remove_ideas = ENG_riots_german3
				}
				else = {
					swap_ideas = {
						remove_idea = ENG_riots_german
						add_idea = ENG_riots_german2
					}
				}
			}
		}

		focus = {
			id = ENG_restore_royal_authority
			icon = GFX_focus_generic_monarchy_2
			prerequisite = { focus = ENG_reconcile_the_realm }
			relative_position_id = ENG_reconcile_the_realm
			x = 0
			y = 1
			available = {
				
			}
			cost = 5

			search_filters = { FOCUS_FILTER_STABILITY }
			completion_reward = {
				add_political_power = 50

				custom_effect_tooltip = generic_skip_one_line_tt
				
				if = {
					limit = {
						has_idea = ENG_riots_german2
					}
					swap_ideas = {
						remove_idea = ENG_riots_german2
						add_idea = ENG_riots_german3
					}
				}
				else_if = {
					limit = {
						has_idea = ENG_riots_german3
					}
					remove_ideas = ENG_riots_german3
				}
				else = {
					swap_ideas = {
						remove_idea = ENG_riots_german
						add_idea = ENG_riots_german2
					}
				}
			}
		}

		focus = {
			id = ENG_secure_the_industrialists
			icon = GFX_focus_generic_industrialists
			prerequisite = { focus = ENG_the_german_crown }
			relative_position_id = ENG_the_german_crown
			x = 0
			y = 1
			available = {
				
			}
			cost = 5

			search_filters = { FOCUS_FILTER_INDUSTRY }
			completion_reward = {
				add_ideas = ENG_support_from_industrialists

				custom_effect_tooltip = generic_skip_one_line_tt

				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_in_home_area = yes
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}

		focus = {
			id = ENG_the_kings_economic_vision
			icon = GFX_ef_goal_generic_monarchist_economic_plans
			prerequisite = { focus = ENG_secure_the_industrialists }
			relative_position_id = ENG_secure_the_industrialists
			x = 1
			y = 1
			available = {
				
			}
			cost = 10
			completion_reward = {
				swap_ideas = {
					remove_idea = ENG_support_from_industrialists
					add_idea = ENG_kings_economic_plan
				}

				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_in_home_area = yes
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}

		focus = {
			id = ENG_curtail_republican_opposition
			icon = GFX_focus_generic_whispers
			prerequisite = { focus = ENG_the_german_crown }
			relative_position_id = ENG_the_german_crown
			x = 3
			y = 1
			available = {
				
			}
			cost = 5
			completion_reward = {
				add_stability = -0.03

				add_popularity = { ideology = democratic popularity = -0.15 }
			}
		}

		focus = {
			id = ENG_the_kings_parliament
			icon = GFX_ef_goal_generic_monarchist_parliament
			prerequisite = { focus = ENG_curtail_republican_opposition }
			relative_position_id = ENG_curtail_republican_opposition
			x = 0
			y = 1
			available = {
				
			}
			cost = 5
			completion_reward = {
				add_political_power = 125

				add_popularity = { ideology = neutrality popularity = 0.05 }

				custom_effect_tooltip = generic_skip_one_line_tt

				if = {
					limit = {
						has_idea = ENG_riots_german2
					}
					swap_ideas = {
						remove_idea = ENG_riots_german2
						add_idea = ENG_riots_german3
					}
				}
				else_if = {
					limit = {
						has_idea = ENG_riots_german3
					}
					remove_ideas = ENG_riots_german3
				}
				else = {
					swap_ideas = {
						remove_idea = ENG_riots_german
						add_idea = ENG_riots_german2
					}
				}
			}
		}

		focus = {
			id = ENG_modernize_the_royal_army
			icon = GFX_ef_goal_generic_military_officer
			prerequisite = { focus = ENG_the_kings_parliament }
			prerequisite = { focus = ENG_the_kings_economic_vision }
			relative_position_id = ENG_the_kings_parliament
			x = -2
			y = 1
			available = {
				
			}
			cost = 5
			completion_reward = {
				ENG_modify_army_modifier = yes
				add_to_variable = { 
					ENG_royal_army_morale_factor = 0.1
					tooltip = army_morale_factor_tt
				}
				add_to_variable = { 
					ENG_royal_army_special_forces_cap = 0.05
					tooltip = special_forces_cap_tt
				}
				add_to_variable = { 
					ENG_royal_army_conscription = 0.01
					tooltip = conscription_tt
				}
				add_to_variable = { 
					ENG_royal_army_armor_speed_factor = 0.05
					tooltip = army_armor_speed_factor_tt
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_tech_bonus = {
					name = infantry_artillery_bonus
					bonus = 1
					uses = 1
					category = infantry_weapons
					category = artillery
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_breakthrough_progress = {
					specialization = specialization_land
					value = 0.1
				}
			}
		}

		focus = {
			id = ENG_a_crown_for_a_new_era
			icon = GFX_goal_ENG_crown_for_new_era
			prerequisite = { focus = ENG_restore_royal_authority }
			prerequisite = { focus = ENG_secure_the_industrialists }
			relative_position_id = ENG_restore_royal_authority
			x = 2
			y = 1
			available = {
				
			}
			cost = 5

			search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
			completion_reward = {
				add_stability = 0.1
				add_war_support = 0.05
			}
		}

		focus = {
			id = ENG_imperial_compromise
			icon = GFX_GEA_Fliegerabteilung
			prerequisite = { focus = ENG_a_crown_for_a_new_era }
			mutually_exclusive = { focus = ENG_tighten_the_imperial_bonds }
			relative_position_id = ENG_a_crown_for_a_new_era
			x = 0
			y = 1
			available = {
				if = {
					limit = {
						has_dlc = "Gotterdammerung"
					}
					GER = {
						NOT = {
							has_completed_focus = GER_monarchist_sentiment
						    has_government = neutrality
						}
					}
				}
				else = {
					GER = {
						NOT = {
							has_completed_focus = GER_secure_the_new_state
						    has_government = neutrality
						}
					}
				}
			}
			cost = 5
			completion_reward = {
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ENG_frizz_thyssen

				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ENG_Franz_Seldte

				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ENG_hans_oster

				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ENG_alfred_hugenberg

				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = ENG_carl_friedrich_goerdeler

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = ENG_august_von_mackensen_tt

				custom_effect_tooltip = generic_skip_one_line_tt

				add_state_core = 59
				every_state = {
					limit = {
						is_core_of = GER
					}
					add_claim_by = ENG
				}

				if = {
					limit = {
						country_exists = GER
					}
					hidden_effect = {
						GER = { retire_character = GER_frizz_thyssen }
						GER = { retire_character = GER_august_von_mackensen }
						GER = { retire_character = GER_Franz_Seldte }
						GER = { retire_character = GER_hans_oster }
						GER = { retire_character = GER_alfred_hugenberg }
						GER = { retire_character = GER_carl_friedrich_goerdeler }
						GER = {
							GER_august_von_mackensen = {
								if = {
									limit = {
										is_advisor = yes
									}
									remove_any_country_role_from_character = yes
								}
								set_nationality = ENG
							}
						}
					}
				}
			}
		}
		focus = {
			id = ENG_tighten_the_imperial_bonds
			icon = GFX_focus_ger_revive_kaiserreich
			prerequisite = { focus = ENG_modernize_the_royal_army }
			mutually_exclusive = { focus = ENG_imperial_compromise }
			relative_position_id = ENG_modernize_the_royal_army
			x = 0
			y = 1
			available = {
				GER = {
					OR = {
						has_country_leader = {
							character = GER_wilhelm_ii
							ruling_only = yes
						}
						has_country_leader = {
							character = GER_wilhelm_iii
							ruling_only = yes
						}
						has_country_leader = {
							character = GER_victoria
							ruling_only = yes
						}
						has_idea = GER_wilhelm_iii #if constitutional monarch
						has_completed_focus = GER_return_of_the_archduke
					}
					OR = {
						is_in_faction = no
						is_faction_leader = yes
					}
				}
				NOT = {
					has_war_with = GER
				}
			}

			cost = 5
			completion_reward = {
				if = {
					limit = {
						GER = {
							is_faction_leader = yes
						}
					}
					GER = { country_event = generic.2 }
				}
				else_if = {
					limit = {
						is_faction_leader = yes
					}
					GER = { country_event = generic.5 }
				}
				else = {
					set_rule = { can_create_factions = yes }
					create_faction_from_template = faction_template_ENG_brotherly_alliance
					GER = { country_event = generic.5 }
				}
			}
		}

		focus = {
			id = ENG_joint_military_exercises
			icon = GFX_focus_generic_manpower
			prerequisite = { focus = ENG_tighten_the_imperial_bonds }
			relative_position_id = ENG_tighten_the_imperial_bonds
			x = 2
			y = 1
			ai_will_do = {
				factor = 1
			}
			cost = 10

			available = {
				is_in_faction_with = GER
			}

			completion_reward = {
				add_ideas = ENG_joint_military_training

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_modify_army_modifier = yes
				add_to_variable = {
					ENG_royal_army_experience_gain_army_factor = 0.1
					tooltip = experience_gain_army_factor_tt 
				}

			    custom_effect_tooltip = generic_skip_one_line_tt

			    GER = { add_ideas = ENG_joint_military_training }
			}
		}

		focus = {
			id = ENG_mutual_economic_pact
			icon = GFX_goal_COS_German_Bailout
			prerequisite = { focus = ENG_tighten_the_imperial_bonds }
			relative_position_id = ENG_tighten_the_imperial_bonds
			x = 0
			y = 1
			ai_will_do = {
				factor = 1
				modifier = {
					factor = 0
					has_civil_war = yes
				}	
			}
			cost = 10

			available = {
				country_exists = GER
				is_in_faction_with = GER
				GER = { SOV_is_valid_subject = yes }
				NOT = { has_war_with = GER }
				is_subject = no
			}
	
			bypass = {
				NOT = { country_exists = GER }
			}

			completion_reward = {
				GER = { country_event = { id = mtg_britain_ef.9 hours = 1 } }
				custom_effect_tooltip = if_they_accept
				effect_tooltip = {
					capital_scope = {
						add_dynamic_modifier = { modifier = ENG_german_imports }
					}
					add_opinion_modifier = {
						target = GER
						modifier = SOV_strengthened_relations_with_us
					}
					GER = {
						add_timed_idea = { idea = ENG_mutual_economic_pact_idea days = 365 }
					}
					GER = {
						add_opinion_modifier = {
							target = ROOT
							modifier = SOV_strengthened_relations_with_us
						}
					}
				}
			}
		}

		focus = {
			id = ENG_unite_the_isles
			icon = GFX_ef_goal_generic_attack_ireland
			prerequisite = { focus = ENG_joint_military_exercises }
			relative_position_id = ENG_joint_military_exercises
			x = 1
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 5
			available = {
				is_subject = no
			}
			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				create_wargoal = {
					type = annex_everything
					target = IRE
					expire = 0
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				134 = { add_core_of = ROOT }
				135 = { add_core_of = ROOT }
				113 = { add_core_of = ROOT }
			}
		}

		focus = {
			id = ENG_blockade_french
			icon = GFX_focus_ger_break_anglo_french_colonial_hegemony
			prerequisite = { focus = ENG_mutual_economic_pact }
			relative_position_id = ENG_mutual_economic_pact
			x = 0
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 5
			available = {
				is_in_faction_with = GER
				is_subject = no
			}
			bypass = {
			}
			completion_reward = {
				FRA = { add_opinion_modifier = { target = ENG modifier = ENG_spoke_out_against_us } }

				custom_effect_tooltip = generic_skip_one_line_tt

				if = {
					limit = {
						has_idea = ENG_mutual_economic_pact_idea
					}	
					swap_ideas = {
						remove_idea = ENG_mutual_economic_pact_idea
						add_idea = ENG_mutual_economic_pact_idea2
					}
					modify_timed_idea = {
						idea = ENG_mutual_economic_pact_idea2
						days = 100
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_war_support = 0.05

				custom_effect_tooltip = generic_skip_one_line_tt

				add_state_claim = 15
				add_state_claim = 14
				add_state_claim = 19
				add_state_claim = 23
				add_state_claim = 25
				add_state_claim = 26
				add_state_claim = 30
				add_state_claim = 33
				add_state_claim = 113
				add_state_claim = 135
				add_state_claim = 806
			}
		}

		focus = {
			id = ENG_review_military_landing_tactics
			icon = GFX_focus_generic_naval_invasion
			prerequisite = { focus = ENG_blockade_french }
			prerequisite = { focus = ENG_joint_military_exercises }
			relative_position_id = ENG_blockade_french
			x = 1
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 5
			available = {
			}

			search_filters = { FOCUS_FILTER_RESEARCH }
			completion_reward = {
				ENG_modify_navy_modifier = yes
				add_to_variable = { 
					ENG_rn_naval_invasion_planning_bonus_speed = 0.1
					tooltip = naval_invasion_planning_bonus_speed_tt
				}
				add_to_variable = { 
					ENG_rn_naval_invasion_capacity = 10
					tooltip = naval_invasion_capacity_tt
				}
				add_to_variable = {
					ENG_rn_convoy_escort_efficiency = 0.1
					tooltip = convoy_escort_efficiency_tt
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_tech_bonus = {
					name = ENG_review_military_landing_tactics
					bonus = 1.0
					uses = 1
					category = marine_tech
				}

				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					custom_effect_tooltip = generic_skip_one_line_tt

					add_doctrine_cost_reduction = {
						name = ENG_review_military_landing_tactics
						cost_reduction = 0.5
						uses = 1
						category = cat_marines_doctrine
					}
				}
			}
		}

		focus = {
			id = ENG_joint_attack_on_france
			icon = GFX_focus_attack_france
			prerequisite = { focus = ENG_review_military_landing_tactics }
			relative_position_id = ENG_review_military_landing_tactics
			x = 0
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 10
			available = {
				is_in_faction_with = GER
				is_subject = no
			}
			bypass = {
				OR = {
					FRA = {
						OR = {
							is_subject_of = ROOT
							exists = no
						}
					}
					has_war_with = FRA
				}
			}
			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				create_wargoal = {
					type = take_state
					generator = { 14 15 19 23 25 26 30 33 113 135 806 }
					target = FRA
					expire = 0
				}
				GER = {
					create_wargoal = {
						type = take_state
						generator = { 28 17 18 }
						target = FRA
						expire = 0
					}
				}
			}
			will_lead_to_war_with = FRA
		}

		focus = {
			id = ENG_proclaim_a_dual_monarchy
			icon = GFX_goal_ENG_dual_monarchy
			prerequisite = { focus = ENG_joint_attack_on_france }
			mutually_exclusive = { focus = ENG_return_of_angevin_empire }
			relative_position_id = ENG_joint_attack_on_france
			x = 1
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 10
			available = {
				is_subject = no
				is_in_faction_with = GER
			}
			
			completion_reward = {
				add_stability = -0.05

				custom_effect_tooltip = generic_skip_one_line_tt

				GER = {
					country_event = { id = mtg_britain_ef.37 hours = 2 random_hours = 4 }
				}

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					if = {
						limit = {
							has_dlc = "No Step Back"
						}
						set_autonomy = {
							target = GER
							autonomous_state = autonomy_personal_union
						}
					}
					else = {
						puppet = GER
					}
				}
			}
		}

		focus = {
			id = ENG_return_of_angevin_empire
			icon = GFX_goal_ENG_Angevin_Hegemony
			prerequisite = { focus = ENG_joint_attack_on_france }
			mutually_exclusive = { focus = ENG_proclaim_a_dual_monarchy }
			relative_position_id = ENG_joint_attack_on_france
			x = -1
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 10
			available = {
				is_subject = no
				custom_trigger_tooltip = {
					tooltip = return_of_angevin_empire_tt
					controls_state = 14
					controls_state = 15
					controls_state = 19
					controls_state = 23
					controls_state = 24
					controls_state = 25
					controls_state = 26
					controls_state = 29
					controls_state = 30
					controls_state = 31
					controls_state = 33
					controls_state = 785
					controls_state = 806
				}
			}
			bypass = {
			}
			completion_reward = {
				add_country_leader_trait = emperor_of_angevin

				custom_effect_tooltip = generic_skip_one_line_tt

				set_cosmetic_tag = FORM_ANE
				14 = { add_core_of = ROOT }
				15 = { add_core_of = ROOT }
				19 = { add_core_of = ROOT }
				23 = { add_core_of = ROOT }
				24 = { add_core_of = ROOT }
				25 = { add_core_of = ROOT }
				26 = { add_core_of = ROOT }
				29 = { add_core_of = ROOT }
				30 = { add_core_of = ROOT }
				31 = { add_core_of = ROOT }
				33 = { add_core_of = ROOT }
				785 = { add_core_of = ROOT }
				806 = { add_core_of = ROOT }
			}
		}

		focus = {
			id = ENG_crusade_against_bolshevism
			icon = GFX_ef_goal_generic_destroy_soviet
			prerequisite = { focus = ENG_proclaim_a_dual_monarchy }
			relative_position_id = ENG_proclaim_a_dual_monarchy
			x = 1
			y = 1
			ai_will_do = {
				factor = 1
			}
			cost = 5
			available = {
				is_subject = no
				NOT = { has_war_with = SOU }
				SOU = {
					exists = yes
					has_government = communism
				}
			}
			
			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				create_wargoal = {
					type = annex_everything
					target = SOU
					expire = 0
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = ENG_when_war_with_sov_tt
				effect_tooltip = {
					add_timed_idea = {
						idea = ENG_operation_charlemagne_ns
						days = 200
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					if = {
						limit = {
							NOT = {
								has_country_flag = ENG_dual_monarchy_rejected_flag
							}
						}
						GER = {
							add_timed_idea = {
								idea = ENG_operation_charlemagne_ns
								days = 200
							}
						}
					}
				}

				hidden_effect = {
					SOU = { country_event = { id = mtg_britain_ef.49 days = 1 } }
				}
			}

			will_lead_to_war_with = SOU
		}

		focus = {
			id = ENG_germanization_of_britain
			icon = GFX_goal_ENG_germanisation_of_britain
			prerequisite = { focus = ENG_proclaim_a_dual_monarchy }
			relative_position_id = ENG_proclaim_a_dual_monarchy
			x = -1
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 5
			available = {
			}
			
			completion_reward = {
				add_stability = 0.1

				custom_effect_tooltip = generic_skip_one_line_tt

				set_cosmetic_tag = ENG_grossbritannien

				custom_effect_tooltip = generic_skip_one_line_tt

				126 = {
					set_state_name = "Großraum Lunden"
					set_province_name = { id = 6103 name = "Lunden" }
				}

				127 = {
					set_state_name = "Südsachsen"
					set_province_name = { id = 3501 name = "Dofras" }
					set_province_name = { id = 9458 name = "Portesmund" }
				}

				123 = {
					set_state_name = "Südwestengland"
					set_province_name = { id = 540 name = "Sutton" }
				}

				125 = {
					set_state_name = "Ostengland"
					set_province_name = { id = 322 name = "Nordwick" }
				}

				129 = {
					set_province_name = { id = 11279 name = "Ligoraceaster" }
					set_province_name = { id = 6237 name = "Snotengaham" }
				}

				130 = {
					set_province_name = { id = 9315 name = "Escafeld" }
					set_province_name = { id = 11297 name = "Oberwyke" }
				}

				132 = {
					set_province_name = { id = 6318 name = "Wihelmceaster" }
					set_province_name = { id = 6384 name = "Lebenpul" }
				}

				131 = {
					set_province_name = { id = 351 name = "Monkceaster" }
				}

				338 = {
					set_province_name = { id = 3369 name = "Brückestow" }
				}

				128 = {
					set_province_name = { id = 9297 name = "Beormingashaus" }
				}
			}
		}

		focus = {
			id = ENG_revive_the_royal_navy
			icon = GFX_focus_generic_navy_battleship3
			prerequisite = { focus = ENG_imperial_compromise }
			relative_position_id = ENG_imperial_compromise
			x = 0
			y = 2
			available = {
				
			}
			cost = 10

			search_filters = { FOCUS_FILTER_RESEARCH }
			completion_reward = {
				ENG_modify_navy_modifier = yes
				add_to_variable = { 
					ENG_rn_naval_heavy_gun_hit_chance_factor = 0.05
					tooltip = naval_heavy_gun_hit_chance_factor_tt
				}
				add_to_variable = { 
					ENG_rn_naval_has_potf_in_combat_attack = 0.05
					tooltip = naval_has_potf_in_combat_attack_tt
				}
				add_to_variable = { 
					ENG_rn_sortie_efficiency = 0.05
					tooltip = sortie_efficiency_tt
				}
				add_to_variable = { 
					ENG_rn_navy_screen_attack_factor = 0.05
					tooltip = navy_screen_attack_factor_tt
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_doctrine_cost_reduction = {
					name = ENG_revive_the_royal_navy
					cost_reduction = 0.5
					uses = 1
					category = naval_doctrine
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_tech_bonus = {
					name = ENG_revive_the_royal_navy
					bonus = 1.0
					uses = 1
					category = bb_tech
					category = bc_tech
				}
			}
		}

		focus = {
			id = ENG_support_the_church
			icon = GFX_z_goal_church_is_spiritual_partner_of_crown
			prerequisite = { focus = ENG_revive_the_royal_navy }
			prerequisite = { focus = ENG_find_new_allies }
			relative_position_id = ENG_revive_the_royal_navy
			x = -1
			y = 1
			available = {
				
			}
			cost = 10
			completion_reward = {
				add_ideas = ENG_supporting_church
			}
		}

		focus = {
			id = ENG_aproach_wilhelmina
			icon = GFX_focus_hol_the_only_man_in_the_dutch_government
			prerequisite = { focus = ENG_imperial_compromise }
			mutually_exclusive = { focus = ENG_ally_with_france }
			relative_position_id = ENG_imperial_compromise
			x = -3
			y = 1
			available = {
				is_subject = no
				HOL = {
					exists = yes
					is_subject = no
					NOT = {
						has_war_with = ROOT
						has_government = fascism
						has_government = communism
					}
				}
			}

			bypass = {
				NOT = { country_exists = HOL }
			}

			cost = 10
			completion_reward = {
				HOL = { country_event = { id = mtg_britain_ef.3 hours = 6 } }
			}
		}

		focus = {
			id = ENG_ally_with_france
			icon = GFX_focus_chi_reach_out_to_france
			prerequisite = { focus = ENG_imperial_compromise }
			mutually_exclusive = { focus = ENG_aproach_wilhelmina }
			relative_position_id = ENG_imperial_compromise
			x = -1
			y = 1
			available = {
				is_subject = no
				FRA = {
					exists = yes
					is_subject = no
					NOT = { has_war_with = ROOT }
					NOT = { has_government = communism }
				}
			}

			bypass = {
				OR = {
					NOT = { country_exists = FRA }
					is_in_faction_with = FRA
				}
			}

			cost = 10
			completion_reward = {
				if = {
					limit = {
						is_faction_leader = yes
					}
					FRA = { country_event = generic.5 }
				}
				else_if = {
					limit = {
						FRA = {
							is_faction_leader = yes
						}
					}
					FRA = { country_event = generic.2 }
				}
				else = {
					set_rule = { can_create_factions = yes }
					create_faction_from_template = {
						template = faction_template_anti_fascist
						name = "Entente"
					} 	
					FRA = { country_event = generic.5 }
				}
			}
		}

		focus = {
			id = ENG_find_new_allies
			icon = GFX_focus_eng_global_defense
			prerequisite = { focus = ENG_aproach_wilhelmina focus = ENG_ally_with_france }
			relative_position_id = ENG_aproach_wilhelmina
			x = 1
			y = 1
			available = {
				POL = {
					exists = yes
					is_subject = no
					NOT = {
						has_war_with = ROOT
					}
				}
				DEN = {
					exists = yes
					is_subject = no
					NOT = {
						has_war_with = ROOT
					}
				}
			}

			bypass = {
				OR = {
					NOT = { country_exists = POL }
					is_in_faction_with = POL
				}
				OR = {
					NOT = { country_exists = DEN }
					is_in_faction_with = DEN
				}
			}
			cost = 5
			completion_reward = {
				unlock_decision_tooltip = ENG_training_with_allies
				POL = { 
					country_event = { id = generic.5 hours = 6 }
				}
				DEN = { 
					country_event = { id = generic.5 hours = 6 }
				}
			}
		}

		focus = {
			id = ENG_demand_low_lands
			icon = GFX_z_goal_HOL_revive_the_buffer_state_proposal
			prerequisite = { focus = ENG_find_new_allies }
			relative_position_id = ENG_find_new_allies
			x = -1
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 5
			available = {
				is_subject = no
			}
			bypass = {
				BEL = {
					OR = {
						is_subject_of = ROOT
						exists = no
					}
				}
				LUX = {
					OR = {
						is_subject_of = ROOT
						exists = no
					}
				}
			}
			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				if = {
					limit = {
						country_exists = BEL
					}
					BEL = { country_event = { id = mtg_britain_ef.16 hours = 4 random_hours = 6 } }
				}
				if = {
					limit = {
						country_exists = LUX
					}
					LUX = { country_event = { id = mtg_britain_ef.16 hours = 4 random_hours = 6 } }
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					if = {
						limit = {
							country_exists = BEL
						}
						annex_country = { target = BEL transfer_troops = no }
					}
					if = {
						limit = {
							country_exists = LUX
						}
						annex_country = { target = LUX transfer_troops = no }
					}
				}
			}
		}

		focus = {
			id = ENG_joint_attack_on_germany
			icon = GFX_focus_attack_germany
			prerequisite = { focus = ENG_support_the_church }
			relative_position_id = ENG_support_the_church
			x = 0
			y = 1
			available = {
				is_subject = no
			}
			bypass = {
				OR = {
					GER = {
						OR = {
							is_subject_of = ROOT
							exists = no
						}
					}
					has_war_with = GER
				}
			}
			search_filters = { FOCUS_FILTER_ANNEXATION }
			cost = 10
			completion_reward = {
				create_wargoal = {
					type = annex_everything
					target = GER
					expire = 0
				}
			}
			will_lead_to_war_with = GER
		}

		focus = {
			id = ENG_return_of_holy_roman_empire
			icon = GFX_z_focus_habsburg_catholic_empire
			prerequisite = { focus = ENG_joint_attack_on_germany }
			mutually_exclusive = { focus = ENG_disunite_germany }
			relative_position_id = ENG_joint_attack_on_germany
			x = -1
			y = 1
			available = {
				is_subject = no
				custom_trigger_tooltip = {
					tooltip = return_of_holy_roman_empire_tt
					controls_state = 51
					controls_state = 42
					controls_state = 56
					controls_state = 57
					controls_state = 55
					controls_state = 50
					controls_state = 59
					controls_state = 58
					controls_state = 60
					controls_state = 54
					controls_state = 52
					controls_state = 53
					controls_state = 61
					controls_state = 64
					controls_state = 65
					controls_state = 62
					controls_state = 68
					controls_state = 66
					controls_state = 67
					controls_state = 63
					controls_state = 5
					controls_state = 763
					controls_state = 848
					controls_state = 153
					controls_state = 152
					controls_state = 4
					controls_state = 848
				}
			}
			cost = 10
			completion_reward = {
				add_country_leader_trait = emperor_of_hre

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_hre_core = yes

				custom_effect_tooltip = generic_skip_one_line_tt
				if = {
					limit = {  
						HOL = { has_country_flag = HOL_wilhelmina_accepted_flag }
					}
					HOL = { country_event = { id = mtg_britain_ef.29 } }
				}
				else = {
					create_wargoal = {
						type = annex_everything
						target = HOL
						expire = 0
					}
				}
			}
		}

		focus = {
			id = ENG_disunite_germany
			icon = GFX_goal_ENG_disunite_germany
			prerequisite = { focus = ENG_joint_attack_on_germany }
			mutually_exclusive = { focus = ENG_return_of_holy_roman_empire }
			relative_position_id = ENG_joint_attack_on_germany
			x = 1
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 10
			available = {
				is_subject = no
				GER = {
					is_subject_of = ROOT
				}
			}

			search_filters = {}
			completion_reward = {
				add_country_leader_trait = emperor_of_hre

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = ENG_disunite_germany_tt
				hidden_effect = {
					GER = {
						if = {
							limit = {
								controls_state = 56
							}
							56 = { transfer_state_to = ROOT }
						}
						if = {
							limit = {
								controls_state = 57
							}
							57 = { transfer_state_to = ROOT }
						}
						if = {
							limit = {
								controls_state = 59
							}
							59 = { transfer_state_to = ROOT }
						}
						release = SIL
						release = SAX
						release = MEK
						release = THU
						release = HES
						release = RHI
						release = WUR
						release = BAY
	
						transfer_units_fraction = {
							target = SAX
							size = 0.1
						}
						transfer_units_fraction = {
							target = MEK
							size = 0.1
						}
						transfer_units_fraction = {
							target = HES
							size = 0.1
						}
						transfer_units_fraction = {
							target = THU
							size = 0.1
						}
						transfer_units_fraction = {
							target = RHI
							size = 0.1
						}
						transfer_units_fraction = {
							target = BAY
							size = 0.2
						}
	
						release = PRE
					}
	
					PRE =  {
						change_tag_from = GER
					}
	
					PRE = {
						annex_country = {
							target = GER
							transfer_troops = yes
						}
						release = SHL
					}
	
					every_state = {
						limit = {
							is_core_of = GER
						}
						remove_core_of = GER
					}

					puppet = PRE
					PRE = { add_ideas = ENG_guided_by_britain_1 }
					puppet = SIL
					SIL = { add_ideas = ENG_guided_by_britain_1 }
					puppet = SAX
					SAX = { add_ideas = ENG_guided_by_britain_1 }
					puppet = MEK
					MEK = { add_ideas = ENG_guided_by_britain_1 }
					puppet = THU
					THU = { add_ideas = ENG_guided_by_britain_1 }
					puppet = HES
					HES = { add_ideas = ENG_guided_by_britain_1 }
					puppet = RHI
					RHI = { add_ideas = ENG_guided_by_britain_1 }
					puppet = WUR
					WUR = { add_ideas = ENG_guided_by_britain_1 }
					puppet = BAY
					BAY = { add_ideas = ENG_guided_by_britain_1 }
					puppet = SHL
					SHL = { add_ideas = ENG_guided_by_britain_1 }
				}
			}
		}

		focus = {
			id = ENG_claim_remaining_imperial_lands
			icon = GFX_goal_ENG_claim_imperial_lands
			prerequisite = { focus = ENG_disunite_germany }
			relative_position_id = ENG_disunite_germany
			x = -1
			y = 1
			available = {
				is_subject = no
			}

			cost = 5
			completion_reward = {
				unlock_decision_category_tooltip = ENG_reclamation_of_the_hre_category
				hidden_effect = {
					every_state = {
						limit = {
							ENG_controlled_hre_states = yes
						}
						set_state_flag = ENG_hre_states_flag
					}
					every_other_country = {
						limit = {
							any_controlled_state = {
								has_state_flag = ENG_hre_states_flag
							}
						}
						add_to_array = { 
							array = ENG.ENG_hre_countries_array 
							value = THIS
						}
					}
				}
			}
		}

		focus = {
			id = ENG_imperial_shadow_over_europe
			icon = GFX_goal_ENG_imperial_shadow
			prerequisite = { focus = ENG_return_of_holy_roman_empire focus = ENG_disunite_germany focus = ENG_return_of_angevin_empire focus = ENG_germanization_of_britain }
			relative_position_id = ENG_return_of_holy_roman_empire
			x = 3
			y = 2
			ai_will_do = {
				factor = 1	
			}
			cost = 10
			available = {
				is_subject = no
				has_completed_focus = ENG_imperial_conscription2
			}

			search_filters = { FOCUS_FILTER_STABILITY }
			completion_reward = {
				ENG_modify_economy_modifier = yes
				add_to_variable = { 
					ENG_stagnant_industry_modifier_production_factory_max_efficiency_factor = 0.05
					tooltip = production_factory_max_efficiency_factor_tt
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_modify_army_modifier = yes
				add_to_variable = { 
					ENG_royal_army_infantry_attack_factor = 0.05
					tooltip = army_infantry_attack_factor_tt
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				if = {
					limit = {
						NOT = { has_completed_focus = ENG_tighten_the_imperial_bonds }
					}
					swap_ideas = {
						remove_idea = ENG_supporting_church
						add_idea = ENG_supporting_church_2
					}
				}
				else = {
					add_stability = 0.1
				}
			}
		}

		focus = {
			id = ENG_rescue_the_deutschamerikaner
			icon = GFX_goal_ENG_rescue_the_deutschamerikaner
			prerequisite = { focus = ENG_imperial_shadow_over_europe }
			relative_position_id = ENG_imperial_shadow_over_europe
			x = 0
			y = 1
			ai_will_do = {
				factor = 1	
			}
			cost = 10
			available = {
				is_subject = no
				NOT = { has_war_with = USA }
				country_exists = USA
			}

			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				create_wargoal = {
					type = annex_everything
					target = USA
					expire = 0
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				unlock_decision_tooltip = ENG_declare_american_monarchy_german
			}

			will_lead_to_war_with = USA
		}

		focus = {
			id = ENG_claim_the_highland_crown
			icon = GFX_goal_ENG_scottish_king
			prerequisite = { focus = ENG_found_a_new_king }
			mutually_exclusive = { focus = ENG_the_german_crown }
			relative_position_id = ENG_found_a_new_king
			x = -7
			y = 1
			available = {
				is_subject = no
				has_country_flag = ENG_scottish_king_selected_flag
			}

			cost = 5
			
			
			
			completion_reward = {
				add_stability = -0.1
				add_popularity = { ideology = neutrality popularity = 0.02 }

				custom_effect_tooltip = generic_skip_one_line_tt

				if = {
					limit = {
						OR = {
							has_subject = CAN
							has_subject = SAF
							has_subject = AST
							has_subject = NZL
							has_subject = RAJ
							AND = {
								has_subject = IRE
								IRE = { has_cosmetic_tag = IRE_democratic_coalition }
							}
						}
					}
					if = {
						limit = {
							has_subject = RAJ
						}
						add_country_leader_role = {
							character = ENG_james_graham
							promote_leader = yes
							country_leader = {
								ideology = monarchism
								expire = "1965.1.1.1"
								traits = { 
									inexperienced_imperialist
									king_of_uk_and_dominions
									eng_emperor_of_india
								}
							}
						}
					}
					else = {
						add_country_leader_role = {
							character = ENG_james_graham
							promote_leader = yes
							country_leader = {
								ideology = monarchism
								expire = "1965.1.1.1"
								traits = { 
									inexperienced_imperialist
									king_of_uk_and_dominions
								}
							}
						}
					}
				}
				else = {
					add_country_leader_role = {
						character = ENG_james_graham
						promote_leader = yes
						country_leader = {
							ideology = monarchism
							expire = "1965.1.1.1"
							traits = { inexperienced_imperialist }
						}
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_ideas = ENG_riots

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = ENG_scottish_king_lose_core_tt
				custom_effect_tooltip = generic_states_affected_no_prev_line_tt
				every_owned_state = {
					limit = {
						OR = {
							#state = 119
							state = 123
							state = 127
							state = 126
							state = 338
							state = 122
							state = 125
							state = 129
							state = 128
							state = 132
							state = 130
						}
					}
					hidden_effect = {
						add_dynamic_modifier = { modifier = ENG_protests_modifier }
					}
				}
				effect_tooltip = {
					add_ideas = ENG_fake_protests_ns
				}
				hidden_effect = {
					set_party_name = { ideology = neutrality long_name = ENG_neutrality_party_kings_party_long name = ENG_neutrality_party_kings_party }
					set_variable = { eng_convinced_states = 0 }
					set_rule = { can_force_government = yes }
					country_event = { id = mtg_britain_ef.2 days = 80 random_days = 30 }
					country_event = { id = mtg_britain_ef.40 days = 5 random_days = 10 }
					set_cosmetic_tag = ENG_scottish_pre
				}
			}
		}

		focus = {
			id = ENG_order_in_the_lowlands
			icon = GFX_focus_generic_court
			prerequisite = { focus = ENG_claim_the_highland_crown }
			relative_position_id = ENG_claim_the_highland_crown
			x = 0
			y = 1
			available = {
			}
			cost = 5
			completion_reward = {
				add_stability = 0.05

				custom_effect_tooltip = generic_skip_one_line_tt

				swap_ideas = {
					remove_idea = ENG_riots
					add_idea = ENG_riots2
				}
			}
		}

		focus = {
			id = ENG_restore_national_unity
			icon = GFX_BOL_side_with_the_people
			prerequisite = { focus = ENG_order_in_the_lowlands }
			relative_position_id = ENG_order_in_the_lowlands
			x = 0
			y = 1
			available = {
			}
			cost = 5
			completion_reward = {
				add_political_power = 100

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = ENG_scottish_king_core_decisions_tt
			}
		}

		focus = {
			id = ENG_proclaim_new_union
			icon = GFX_goal_ENG_proclaim_new_union
			prerequisite = { focus = ENG_restore_national_unity }
			relative_position_id = ENG_restore_national_unity
			x = 0
			y = 1
			available = {
				is_subject = no
				has_government = neutrality
				NOT = { has_idea = ENG_restoring_public_order }
			}
			cost = 10

			search_filters = { FOCUS_FILTER_STABILITY }
			completion_reward = {
				add_political_power = 150
				add_stability = 0.05

				custom_effect_tooltip = generic_skip_one_line_tt

				remove_ideas = ENG_riots2

				hidden_effect = {
					set_cosmetic_tag = ENG_scottish_great_britain
				}
			}
		}

		focus = {
			id = ENG_peaceful_crown
			icon = GFX_goal_ENG_scottish_peace
			prerequisite = { focus = ENG_proclaim_new_union }
			mutually_exclusive = { focus = ENG_celtic_imperialism }
			relative_position_id = ENG_proclaim_new_union
			x = 5
			y = 1
			available = {
				is_subject = no
				has_government = neutrality
			}
			cost = 5

			search_filters = { FOCUS_FILTER_STABILITY }
			completion_reward = {
				add_stability = 0.05

				custom_effect_tooltip = generic_skip_one_line_tt

				every_neighbor_country = {
					add_opinion_modifier = { target = ROOT modifier = SOV_strengthened_relations_with_us }
				}
			}
		}

		focus = {
			id = ENG_reformist_king
			icon = GFX_z_goal_reform_courts
			prerequisite = { focus = ENG_peaceful_crown }
			relative_position_id = ENG_peaceful_crown
			x = 0
			y = 1
			available = {
				has_government = neutrality
			}
			cost = 10
			completion_reward = {
				add_political_power = 100

				custom_effect_tooltip = generic_skip_one_line_tt

				add_country_leader_trait = ENG_reformist_king_trait
			}
		}

		focus = {
			id = ENG_invest_in_education
			icon = GFX_BUL_Compulsory_Education
			prerequisite = { focus = ENG_reformist_king }
			relative_position_id = ENG_reformist_king
			x = -1
			y = 1
			available = {

			}
			cost = 5
			completion_reward = {
				add_ideas = ENG_support_education
			}
		}

		focus = {
			id = ENG_prioritize_research_programs
			icon = GFX_goal_military_research
			prerequisite = { focus = ENG_reformist_king }
			relative_position_id = ENG_reformist_king
			x = 1
			y = 1
			available = {

			}
			cost = 10
			completion_reward = {
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					every_military_industrial_organization = {
						limit = {
							is_mio_available = yes 
						}
						tooltip = every_mio_tt
						add_mio_size = 1
						add_mio_funds_gain_factor = 0.05
						add_mio_research_bonus = 0.05
					}

					custom_effect_tooltip = generic_skip_one_line_tt
				}

				add_tech_bonus = {
					name = ENG_prioritize_research_programs
					bonus = 1.0
					uses = 2
					category = electronics
				}
			}
		}

		focus = {
			id = ENG_bridging_the_isles
			icon = GFX_IRE_british_isles
			prerequisite = { focus = ENG_prioritize_research_programs }
			prerequisite = { focus = ENG_invest_in_education }
			relative_position_id = ENG_prioritize_research_programs
			x = -1
			y = 1
			available = {
				is_subject = no
			}
			cost = 10
			completion_reward = {
				IRE = {
					country_event = { id = mtg_britain_ef.46 hours = 2 random_hours = 4 }
				}

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					set_autonomy = {
						target = IRE
						autonomous_state = autonomy_dominion
						freedom_level = 0.4
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					IRE = {
						set_cosmetic_tag = IRE_democratic_coalition

						custom_effect_tooltip = generic_skip_one_line_tt

						every_core_state = {
							limit = {
								is_fully_controlled_by = PREV
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
							}
							random_select_amount = 2
							add_extra_state_shared_building_slots = 2
							add_building_construction = {
								type = industrial_complex
								level = 2
								instant_build = yes
							}
						}
					}
				}
			}
		}

		focus = {
			id = ENG_crown_of_the_isles
			icon = GFX_ef_goal_generic_monarchist_lion
			prerequisite = { focus = ENG_bridging_the_isles }
			relative_position_id = ENG_bridging_the_isles
			x = 0
			y = 1
			available = {
				is_subject = no
			}
			cost = 10
			completion_reward = {
				add_ideas = ENG_united_under_crown
			}
		}

		focus = {
			id = ENG_call_for_european_peace
			icon = GFX_ef_goal_generic_european_peace
			prerequisite = { focus = ENG_crown_of_the_isles }
			relative_position_id = ENG_crown_of_the_isles
			x = 1
			y = 1
			available = {
				is_subject = no
				any_other_country = {
					is_major = yes
					has_offensive_war = yes
					capital_scope = {
						is_on_continent = europe
					}
				}
			}
			cost = 5
			completion_reward = {
				custom_effect_tooltip = ENG_call_for_european_peace_tt
				effect_tooltip = {
					country_event = { id = mtg_britain_ef.53 hours = 4 random_hours = 6 }
				}
				hidden_effect = {
					every_other_country = {
						limit = {
							is_major = yes
							has_offensive_war = yes
							capital_scope = {
								is_on_continent = europe
							}
						}
						country_event = { id = mtg_britain_ef.53 hours = 4 random_hours = 6 }
					}
				}
			}
		}

		focus = {
			id = ENG_deterrent_rearmament
			icon = GFX_goal_ENG_deterrent_rearmament
			prerequisite = { focus = ENG_crown_of_the_isles }
			prerequisite = { focus = ENG_militarize_the_economy }
			relative_position_id = ENG_crown_of_the_isles
			x = -1
			y = 1
			available = {
				threat > 0.5
				any_other_country = {
					is_major = yes
					has_war_with_major = yes
				}
			}
			cost = 5

			search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
			completion_reward = {
				add_manpower = 50000

				custom_effect_tooltip = generic_skip_one_line_tt

				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_in_home_area = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_modify_army_modifier = yes
				add_to_variable = { 
					ENG_royal_army_conscription = 0.01
					tooltip = conscription_tt
				}
				add_to_variable = { 
					ENG_royal_army_max_dig_in_factor = 0.1
					tooltip = max_dig_in_factor_tt
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_modify_economy_modifier = yes
				add_to_variable = { 
					ENG_stagnant_industry_modifier_production_factory_max_efficiency_factor = 0.05
					tooltip = production_factory_max_efficiency_factor_tt
				}
			}
		}

		focus = {
			id = ENG_celtic_imperialism
			icon = GFX_goal_ENG_scottish_imperialism
			prerequisite = { focus = ENG_proclaim_new_union }
			mutually_exclusive = { focus = ENG_peaceful_crown }
			relative_position_id = ENG_proclaim_new_union
			x = -5
			y = 1
			available = {
				is_subject = no
				has_government = neutrality
			}
			cost = 5

			search_filters = { FOCUS_FILTER_WAR_SUPPORT }
			completion_reward = {
				add_war_support = 0.05

				custom_effect_tooltip = generic_skip_one_line_tt

				add_ideas = ENG_celtic_imperialism_ns
			}
		}

		focus = {
			id = ENG_officer_emperor
			icon = GFX_goal_generic_demand_territory
			prerequisite = { focus = ENG_celtic_imperialism }
			relative_position_id = ENG_celtic_imperialism
			x = 0
			y = 1
			available = {
			}
			cost = 5
			completion_reward = {
				add_country_leader_trait = autocrat_emperor
				hidden_effect = {
					set_portraits = {
						character = ENG_james_graham
						civilian = { large = "GFX_Portrait_ENG_James_Graham_army" }
					}
				}
			}
		}

		focus = {
			id = ENG_securing_the_supply_lines
			icon = GFX_focus_generic_reinforcing_the_supply_network
			prerequisite = { focus = ENG_officer_emperor }
			relative_position_id = ENG_officer_emperor
			x = 0
			y = 1
			available = {
			}
			cost = 5
			completion_reward = {
				add_timed_idea = { idea = ENG_fortified_supply_lines days = 720 }

				custom_effect_tooltip = generic_skip_one_line_tt

				119 = {
					if = {
						limit = {
							is_controlled_by = ROOT
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = naval_base
							level = 2
							province = 3379
							instant_build = yes
						}
					}								
				}
			}
		}

		focus = {
			id = ENG_restore_control_over_ireland
			icon = GFX_ef_goal_generic_attack_ireland
			prerequisite = { focus = ENG_securing_the_supply_lines }
			relative_position_id = ENG_securing_the_supply_lines
			x = 0
			y = 1
			available = {
				is_subject = no
				country_exists = IRE
				NOT = { is_in_faction_with = IRE }
			}
			bypass = {
				owns_state = 113
				owns_state = 134
				owns_state = 135
				owns_state = 119
			}

			cost = 5

			completion_reward = {
				every_other_country = {
					limit = {
						OR = {
							owns_state = 113
							owns_state = 134
							owns_state = 135
							owns_state = 119
						}
					}
					ENG = {
						add_state_claim = 113
						add_state_claim = 134
						add_state_claim = 135
						create_wargoal = {
							type = annex_everything
							target = PREV
							expire = 0
						}
					}
				}
			}

			will_lead_to_war_with = IRE
		}

		focus = {
			id = ENG_pan_celtic_campaign
			icon = GFX_goal_ENG_pan_celtic_campaign
			prerequisite = { focus = ENG_restore_control_over_ireland }
			mutually_exclusive = { focus = ENG_north_sea_strategy }
			relative_position_id = ENG_restore_control_over_ireland
			x = -3
			y = 1
			available = {
			}
			cost = 10
			completion_reward = {
				add_named_threat = { 
					threat = 5
					name = eng_scottish_claim_threat
				}

				if = {
					limit = {
						owns_state = 113
						owns_state = 134
						owns_state = 135
					}
					custom_effect_tooltip = generic_skip_one_line_tt

					113 = { add_core_of = ENG }
					134 = { add_core_of = ENG }
					135 = { add_core_of = ENG }
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_celtic_claims = yes

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = ENG_pan_celtic_campaign_tt
				if = {
					limit = {
						any_controlled_state = {
							has_resistance = yes
						}
					}
					custom_effect_tooltip = generic_current_effects
					every_controlled_state = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 10
					}
				}
			}
		}

		focus = {
			id = ENG_attack_iberia
			prerequisite = { focus = ENG_pan_celtic_campaign }
			available = {
				is_subject = no
			}
			icon = GFX_goal_ef_ENG_invade_spain
			x = 1
			y = 2
			relative_position_id = ENG_pan_celtic_campaign
			cost = 5
			ai_will_do = {
				factor = 1
			}
			search_filters = { FOCUS_FILTER_ANNEXATION }	
			completion_reward = {
				create_wargoal = {
					type = annex_everything
					target = SPR
					expire = 0
				}
				create_wargoal = {
					type = annex_everything
					target = POR
					expire = 0
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				118 = {
					if = {
						limit = {
							is_controlled_by = ROOT
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = air_base
							level = 5
							instant_build = yes
						}
						# Gibraltar
						add_building_construction = {
							type = naval_base
							level = 5
							province = 4135
							instant_build = yes
						}
					}								
				}
			}
			will_lead_to_war_with = SPR
			will_lead_to_war_with = POR
		}

		focus = {
			id = ENG_demand_belgium
			prerequisite = { focus = ENG_pan_celtic_campaign }
			available = {
				is_subject = no
				BEL = {
					is_subject = no
					NOT = {
						has_war_with = ROOT
					}
				}
				LUX = {
					is_subject = no
					NOT = {
						has_war_with = ROOT
					}
				}
			}
			bypass = {
				BEL = {
					OR = {
						is_subject_of = ROOT
						exists = no
					}
				}
				LUX = {
					OR = {
						is_subject_of = ROOT
						exists = no
					}
				}
			}
			icon = GFX_goal_ef_ENG_invade_belgium
			x = -3
			y = 1
			relative_position_id = ENG_pan_celtic_campaign
			cost = 5
			ai_will_do = {
				factor = 1
			}
			search_filters = { FOCUS_FILTER_ANNEXATION }	
			completion_reward = {
				if = {
					limit = {
						country_exists = BEL
					}
					BEL = { country_event = { id = mtg_britain_ef.16 hours = 4 random_hours = 6 } }
				}
				if = {
					limit = {
						country_exists = LUX
					}
					LUX = { country_event = { id = mtg_britain_ef.16 hours = 4 random_hours = 6 } }
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					if = {
						limit = {
							country_exists = BEL
						}
						annex_country = { target = BEL transfer_troops = no }
					}
					if = {
						limit = {
							country_exists = LUX
						}
						annex_country = { target = LUX transfer_troops = no }
					}
				}
			}
			will_lead_to_war_with = BEL
			will_lead_to_war_with = LUX
		}

		focus = {
			id = ENG_strike_at_the_gallic_heartland
			prerequisite = { focus = ENG_pan_celtic_campaign }
			available = {
				is_subject = no
			}
			bypass = {
				FRA = {
					OR = {
						is_subject_of = ROOT
						exists = no
					}
				}
			}
			icon = GFX_ef_goal_generic_attack_france
			x = -1
			y = 1
			relative_position_id = ENG_pan_celtic_campaign
			cost = 10
			ai_will_do = {
				factor = 1
			}
			search_filters = { FOCUS_FILTER_ANNEXATION }	
			completion_reward = {
				create_wargoal = {
					type = annex_everything
					target = FRA
					expire = 0
				}
			}
			will_lead_to_war_with = FRA
		}

		focus = {
			id = ENG_campaign_through_the_alps
			prerequisite = { focus = ENG_strike_at_the_gallic_heartland }
			available = {
				is_subject = no
			}
			bypass = {
				SWI = {
					OR = {
						is_subject_of = ROOT
						exists = no
					}
				}
			}
			icon = GFX_ef_goal_generic_attack_switzerland
			x = 0
			y = 1
			relative_position_id = ENG_strike_at_the_gallic_heartland
			cost = 5
			ai_will_do = {
				factor = 1
			}
			search_filters = { FOCUS_FILTER_ANNEXATION }	
			completion_reward = {
				create_wargoal = {
					type = annex_everything
					target = SWI
					expire = 0
				}
				if = {
					limit = {
						country_exists = AUS
					}
					create_wargoal = {
						type = annex_everything
						target = AUS
						expire = 0
					}
				}
				else = {
					every_country = {
						limit = {
							controls_state = 153
							controls_state = 152
							controls_state = 4
						}
						ENG = {
							create_wargoal = {
								type = annex_everything
								target = PREV
								expire = 0
							}
						}
					}
				}
			}
			will_lead_to_war_with = SWI
			will_lead_to_war_with = AUS
		}

		focus = {
			id = ENG_return_of_celts
			prerequisite = { focus = ENG_attack_iberia }
			prerequisite = { focus = ENG_campaign_through_the_alps }
			available = {
				is_subject = no
				has_government = neutrality
				custom_trigger_tooltip = {
					tooltip = return_of_celts_tt
					controls_state = 169
					controls_state = 173
					controls_state = 168
					controls_state = 789
					controls_state = 170
					controls_state = 788
					controls_state = 167
					controls_state = 175
					controls_state = 41
					controls_state = 793
					controls_state = 165
					controls_state = 174
					controls_state = 794
					controls_state = 166
					controls_state = 176
					controls_state = 791
					controls_state = 171
					controls_state = 790
					controls_state = 792
					controls_state = 172
					#Portugal
					controls_state = 180
					controls_state = 181
					controls_state = 795
					controls_state = 179
					controls_state = 112
					#France
					controls_state = 31
					controls_state = 806
					controls_state = 19
					controls_state = 22
					controls_state = 21
					controls_state = 851
					controls_state = 735
					controls_state = 32
					controls_state = 20
					controls_state = 26
					controls_state = 25
					controls_state = 23
					controls_state = 33
					controls_state = 14
					controls_state = 30
					controls_state = 24
					controls_state = 27
					controls_state = 17
					controls_state = 28
					controls_state = 18
					controls_state = 16
					controls_state = 15
					controls_state = 29
					controls_state = 785
					#Switzerland
					controls_state = 845
					controls_state = 3
					controls_state = 847
					controls_state = 846
					controls_state = 151
					#Belgium
					controls_state = 6
					controls_state = 34
					#Luxemburg
					controls_state = 8
					#Austria
					controls_state = 848
					controls_state = 153
					controls_state = 152
					controls_state = 4
					#Germany
					controls_state = 51
					controls_state = 42
					controls_state = 50
					controls_state = 52
					controls_state = 53
					controls_state = 54
					controls_state = 55
				}
			}
			icon = GFX_IRE_gaelic
			x = 1
			y = 1
			relative_position_id = ENG_campaign_through_the_alps
			cost = 10
			ai_will_do = {
				factor = 1
			}
			search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }	
			completion_reward = {
				add_stability = 0.05
				add_war_support = 0.05

				custom_effect_tooltip = generic_skip_one_line_tt

				swap_ruler_traits = {
					remove = autocrat_emperor
					add = emperor_of_celts
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = ENG_scottish_cores_tt

				custom_effect_tooltip = generic_skip_one_line_tt
				
				set_cosmetic_tag = CEL_UNIFIED

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_modify_economy_modifier = yes
				add_to_variable = { 
					ENG_stagnant_industry_modifier_line_change_production_efficiency_factor = 0.05
					tooltip = line_change_production_efficiency_factor_tt
				}
				add_to_variable = { 
					ENG_stagnant_industry_modifier_production_factory_start_efficiency_factor = 0.05
					tooltip = production_factory_start_efficiency_factor_tt
				}
				hidden_effect = {
					ENG_celtic_core = yes
				}
			}
		}

		focus = {
			id = ENG_north_sea_strategy
			icon = GFX_goal_ENG_north_sea_strategy
			prerequisite = { focus = ENG_restore_control_over_ireland }
			mutually_exclusive = { focus = ENG_pan_celtic_campaign }
			relative_position_id = ENG_restore_control_over_ireland
			x = 3
			y = 1
			available = {
			}
			cost = 10
			completion_reward = {
				swap_ideas = {
					remove_idea = ENG_celtic_imperialism_ns
					add_idea = ENG_celtic_imperialism_alt_ns
				}
				if = {
					limit = {
						owns_state = 113
						owns_state = 134
						owns_state = 135
					}
					113 = { add_core_of = ENG }
					134 = { add_core_of = ENG }
					135 = { add_core_of = ENG }

					custom_effect_tooltip = generic_skip_one_line_tt
				}

				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_core_of = SCO
						NOT = {
							has_dynamic_modifier = { modifier = ENG_redirected_funds }
						}
					}
					add_dynamic_modifier = { 
						modifier = ENG_redirected_funds
						scope = ENG
					}
				}
			}
		}

		focus = {
			id = ENG_union_with_denmark
			icon = GFX_goal_friend_denmark
			prerequisite = { focus = ENG_north_sea_strategy }
			mutually_exclusive = { focus = ENG_war_with_denmark }
			relative_position_id = ENG_north_sea_strategy
			x = -3
			y = 1
			available = {
				DEN = {
					exists = yes
					is_subject = no
				}
			}

			bypass = {
				OR = {
					DEN = {
						is_subject_of = ROOT
					}
					is_subject = yes
				}
			}

			cost = 5

			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				DEN = {
					country_event = { id = mtg_britain_ef.56 hours = 4 random_hours = 6 }
				}

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					if = {
						limit = {
							has_dlc = "No Step Back"
						}
						set_autonomy = {
							target = DEN
							autonomous_state = autonomy_personal_union
							end_wars = no
							end_civil_wars = no
						}
					}
					else = {
						puppet = DEN
					}

					if = {
						limit = {
							ICE = {
								is_subject_of = DEN
							}
						}
						custom_effect_tooltip = generic_skip_one_line_tt

						puppet = ICE 
					}
				}
			}
		}

		focus = {
			id = ENG_war_with_denmark
			icon = GFX_focus_generic_attack_denmark
			prerequisite = { focus = ENG_north_sea_strategy }
			mutually_exclusive = { focus = ENG_union_with_denmark }
			relative_position_id = ENG_north_sea_strategy
			x = -1
			y = 1
			available = {
				is_subject = no
				NOT = {
					any_allied_country = {
						has_subject = DEN
					}
				}
			}

			cost = 5

			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				create_wargoal = {
				    type = annex_everything
				    target = DEN
				}
			}

			will_lead_to_war_with = DEN
		}

		focus = {
			id = ENG_war_with_norway
			icon = GFX_focus_generic_attack_norway
			prerequisite = { focus = ENG_north_sea_strategy }
			mutually_exclusive = { focus = ENG_union_with_norway }
			relative_position_id = ENG_north_sea_strategy
			x = 1
			y = 1
			available = {
				is_subject = no
				NOT = {
					any_allied_country = {
						has_subject = NOR
					}
				}
			}

			cost = 5

			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				create_wargoal = {
				    type = annex_everything
				    target = NOR
				}
			}

			will_lead_to_war_with = NOR
		}

		focus = {
			id = ENG_union_with_norway
			icon = GFX_focus_generic_befriend_norway
			prerequisite = { focus = ENG_north_sea_strategy }
			mutually_exclusive = { focus = ENG_war_with_norway }
			relative_position_id = ENG_north_sea_strategy
			x = 3
			y = 1
			available = {
				NOR = {
					exists = yes
					is_subject = no
				}
			}

			bypass = {
				OR = {
					NOR = {
						is_subject_of = ROOT
					}
					is_subject = yes
				}
			}

			cost = 5

			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				NOR = {
					country_event = { id = mtg_britain_ef.56 hours = 4 random_hours = 6 }
				}

				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = {
					if = {
						limit = {
							has_dlc = "No Step Back"
						}
						set_autonomy = {
							target = NOR
							autonomous_state = autonomy_personal_union
							end_wars = no
							end_civil_wars = no
						}
					}
					else = {
						puppet = NOR
					}
				}
			}
		}

		focus = {
			id = ENG_proclaim_north_sea_empire
			icon = GFX_goal_ENG_north_sea_empire
			prerequisite = { focus = ENG_war_with_norway focus = ENG_union_with_norway }
			prerequisite = { focus = ENG_war_with_denmark focus = ENG_union_with_denmark }
			relative_position_id = ENG_north_sea_strategy
			x = 0
			y = 2
			available = {
				is_subject = no
			}

			cost = 10

			search_filters = { FOCUS_FILTER_STABILITY }
			completion_reward = {
				add_stability = 0.1
			    add_political_power = 75

				custom_effect_tooltip = generic_skip_one_line_tt

				set_cosmetic_tag = ENG_north_sea_empire

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = ENG_proclaim_north_sea_empire_tt
				if = {
					limit = {
						any_controlled_state = {
							OR = {
								is_core_of = DEN
								is_core_of = ICE
								is_core_of = NOR
								is_core_of = SWE
							}
							has_resistance = yes
						}
					}
					custom_effect_tooltip = generic_current_effects
					every_controlled_state = {
						limit = {
							OR = {
								is_core_of = DEN
								is_core_of = ICE
								is_core_of = NOR
								is_core_of = SWE
							}
							has_resistance = yes
						}
						add_resistance = -10
					}
				}
			}
		}

		focus = {
			id = ENG_break_the_swedish_hold
			icon = GFX_focus_generic_attack_sweden
			prerequisite = { focus = ENG_proclaim_north_sea_empire }
			relative_position_id = ENG_proclaim_north_sea_empire
			x = -2
			y = 1
			available = {
				is_subject = no
				NOT = {
					any_allied_country = {
						has_subject = SWE
					}
				}
			}

			cost = 5

			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				create_wargoal = {
				    type = annex_everything
				    target = SWE
				}
			}

			will_lead_to_war_with = SWE
		}

		focus = {
			id = ENG_fortress_of_the_north
			icon = GFX_focus_generic_tank_air_support
			prerequisite = { focus = ENG_proclaim_north_sea_empire }
			relative_position_id = ENG_proclaim_north_sea_empire
			x = 0
			y = 1
			available = {
			}
			cost = 5
			completion_reward = {
				ENG_modify_army_modifier = yes
				add_to_variable = { 
					ENG_royal_army_attack = 0.05 
					tooltip = army_attack_factor_tt
				}
				add_to_variable = { 
					ENG_royal_army_defence = 0.05
					tooltip = army_defence_factor_tt
				}
				add_to_variable = {
					ENG_royal_army_coastal_bunker_effectiveness_factor = 0.05
					tooltip = coastal_bunker_effectiveness_factor_tt 
				}

				custom_effect_tooltip = generic_skip_one_line_tt

			    every_controlled_state = {
			    	limit = {
			    		OR = {
							is_core_of = DEN
							is_core_of = ICE
							is_core_of = NOR
							is_core_of = SWE
							is_core_of = SCO
						}
			    	}
			    	add_building_construction = {
			    		type = coastal_bunker
			    		level = 2
			    		instant_build = yes
			    		province = {
			    			all_provinces = yes
			    			limit_to_naval_base = yes
			    		}
			    	}
			    }
			}
		}

		focus = {
			id = ENG_integrate_the_realms
			icon = GFX_focus_SOV_reinforce_western_naval_bases
			prerequisite = { focus = ENG_proclaim_north_sea_empire }
			relative_position_id = ENG_proclaim_north_sea_empire
			x = 2
			y = 1
			available = {
			}

			cost = 5

			search_filters = { FOCUS_FILTER_ANNEXATION }
			completion_reward = {
				add_political_power = 75

				custom_effect_tooltip = generic_skip_one_line_tt

				unlock_decision_tooltip = ENG_integrate_norway
				unlock_decision_tooltip = ENG_integrate_denmark
				unlock_decision_tooltip = ENG_integrate_sweden
				unlock_decision_tooltip = ENG_integrate_iceland
			}
		}

		focus = {
			id = ENG_forge_northern_heartland
			icon = GFX_goal_ENG_Rescue_the_North
			prerequisite = { focus = ENG_peaceful_crown focus = ENG_celtic_imperialism }
			relative_position_id = ENG_peaceful_crown
			x = -5
			y = 1
			available = {
			}
			cost = 5

			search_filters = { FOCUS_FILTER_INDUSTRY }
			completion_reward = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_in_home_area = yes
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 120 136 121 133 }
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}

				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_in_home_area = yes
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 120 136 121 133 }
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				every_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_core_of = SCO
						NOT = {
							has_dynamic_modifier = { modifier = ENG_redirected_funds }
						}
					}
					random_select_amount = 3
					add_dynamic_modifier = { 
						modifier = ENG_redirected_funds
						scope = ENG
					}
				}
			}
		}

		focus = {
			id = ENG_reorganize_the_royal_army
			icon = GFX_z_goal_generic_armed_forces
			prerequisite = { focus = ENG_forge_northern_heartland }
			relative_position_id = ENG_forge_northern_heartland
			x = 0
			y = 1
			available = {
				
			}
			cost = 5

			search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_RESEARCH }
			completion_reward = {
				add_war_support = 0.05
				army_experience = 50

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_modify_army_modifier = yes
				add_to_variable = {
					ENG_royal_army_org_factor = 0.1
					tooltip = army_org_factor_tt 
				}
				add_to_variable = { 
					ENG_royal_army_planning_speed = 0.1
					tooltip = planning_speed_factor_tt
				}
				add_to_variable = { 
					ENG_royal_army_org_loss_when_moving = -0.1
					tooltip = org_loss_when_moving_tt
				}
				add_to_variable = {
					ENG_royal_army_mobilization_speed = 0.1
					tooltip = mobilization_speed_tt 
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				add_doctrine_cost_reduction = {
					name = land_doc_bonus
					cost_reduction = 0.5
					uses = 1 
					category = land_doctrine
				}
			}
		}

		focus = {
			id = ENG_militarize_the_economy
			icon = GFX_focus_generic_mass_production
			prerequisite = { focus = ENG_reorganize_the_royal_army }
			relative_position_id = ENG_reorganize_the_royal_army
			x = 2
			y = 1
			available = {
				OR = {
					has_war = yes
					threat > 0.5
					has_completed_focus = ENG_celtic_imperialism
				}
			}
			cost = 5

			search_filters = { FOCUS_FILTER_INDUSTRY }
			completion_reward = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_in_home_area = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}

				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						is_in_home_area = yes
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_modify_economy_modifier = yes
				add_to_variable = { 
					ENG_stagnant_industry_modifier_production_speed_arms_factory_factor = 0.05
					tooltip = production_speed_arms_factory_factor_tt
				}
				add_to_variable = { 
					ENG_stagnant_industry_modifier_production_factory_efficiency_gain_factor = 0.05
					tooltip = production_factory_efficiency_gain_factor_tt
				}
			}
		}

		focus = {
			id = ENG_masters_of_the_highlands
			icon = GFX_ef_goal_generic_commando
			prerequisite = { focus = ENG_reorganize_the_royal_army }
			relative_position_id = ENG_reorganize_the_royal_army
			x = -2
			y = 1
			available = {
				
			}
			cost = 5

			search_filters = { FOCUS_FILTER_RESEARCH }
			completion_reward = {
				add_tech_bonus = {
					name = ENG_masters_of_the_highlands
					bonus = 1
					uses = 1
					category = mountaineers_tech
				}

				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
	
					custom_effect_tooltip = generic_skip_one_line_tt
					
					add_doctrine_cost_reduction = {
						name = ENG_masters_of_the_highlands
						cost_reduction = 0.25
						uses = 1
						category = cat_mountaineers_doctrine
					}
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = ENG_masters_of_the_highlands_tt

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = AUS_osterreichische_gebirgsjager_tt

				hidden_effect = {
					set_technology = { 
						mountain_defensive_training = 1 
						popup = no
					}
					division_template = {
						name = "Scottish Rangers"
						division_names_group = ENG_MNT_01
						regiments = {
							mountaineers = { x = 0 y = 0 }
							mountaineers = { x = 0 y = 1 }
							mountaineers = { x = 0 y = 2 }
							mountaineers = { x = 1 y = 0 }
							mountaineers = { x = 1 y = 1 }
							mountaineers = { x = 1 y = 2 }
							mountaineers = { x = 2 y = 0 }
							mountaineers = { x = 2 y = 1 }
							mountaineers = { x = 2 y = 2 }
						}
						support = {
							recon = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
					    }
					}
	
					capital_scope = {
						create_unit = {
							division = "name = \"Scottish Rangers\" division_template = \"Scottish Rangers\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
							owner = ROOT
							count = 4
						}
					}
				}
			}
		}

		focus = {
			id = ENG_pioneer_of_the_seas
			icon = GFX_goal_ENG_pioneer_of_seas
			prerequisite = { focus = ENG_reorganize_the_royal_army }
			relative_position_id = ENG_reorganize_the_royal_army
			x = 0
			y = 1
			available = {
				
			}

			cost = 5

			search_filters = { FOCUS_FILTER_RESEARCH }
			completion_reward = {
				ENG_modify_navy_modifier = yes
				add_to_variable = { 
					ENG_rn_naval_has_potf_in_combat_attack = 0.05
					tooltip = naval_has_potf_in_combat_attack_tt
				}
				add_to_variable = { 
					ENG_rn_sortie_efficiency = 0.1
					tooltip = sortie_efficiency_tt
				}
				add_to_variable = { 
					ENG_rn_sp_naval_modern_carrier_speed_factor = 0.1
					tooltip = sp_naval_modern_carrier_speed_factor_tt
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_modify_economy_modifier = yes
				add_to_variable = { 
					ENG_stagnant_industry_modifier_industrial_capacity_dockyard = 0.05
					tooltip = industrial_capacity_dockyard_tt
				}

				custom_effect_tooltip = generic_skip_one_line_tt
	
				add_tech_bonus = {
					name = cv_bonus
					bonus = 1
					uses = 1
					category = cv_tech
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				if = {
					limit = {
						ENG_james_fownes_somerville = {
							OR = {
								NOT = { has_trait = air_controller }
								AND = {
									has_trait = air_controller
									NOT = { has_trait = flight_deck_manager }
								}
							}
						}
					}
					if = {
						limit = {
							ENG_james_fownes_somerville = {
								has_trait = air_controller
							}
						}
						ENG_james_fownes_somerville = {
							add_trait = { trait = flight_deck_manager }
						}
					}
					else = {
						ENG_james_fownes_somerville = {
							add_trait = { trait = air_controller }
						}
					}
				}
				else = {
					random_navy_leader = {
						limit = {
							NOT = {
								is_character = ENG_algernon_willis
								is_character = ENG_tom_phillips
								is_character = ENG_dudley_pound
								is_character = ENG_max_horton
							}
							OR = {
								NOT = { has_trait = air_controller }
								AND = {
									has_trait = air_controller
									NOT = { has_trait = flight_deck_manager }
								}
							}
						}
						if = {
							limit = {
								has_trait = air_controller
							}
							add_trait = { trait = flight_deck_manager }
		
						}
						else = {
							add_trait = { trait = air_controller }
						}
					}
				}

				if = {
					limit = { 
						has_dlc = "Man the Guns"
					}
					custom_effect_tooltip = generic_skip_one_line_tt
					custom_effect_tooltip = ENG_carrier_variants_tt
					if = { 
						limit = {
							has_tech = basic_ship_hull_carrier
							NOT = {
								has_tech = improved_ship_hull_carrier
							}
						}
						create_equipment_variant = {
							name = "Graham Class"				
							name_group = ENG_CV_HISTORICAL
							type = ship_hull_carrier_1
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = carrier_ship_engine_3
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								front_1_custom_slot = ship_deck_space
							}
							design_team = mio:ENG_harland_wolff_organization
						}		
						add_equipment_production = {
							equipment = {
								type = ship_hull_carrier_1
								creator = "ENG"
								version_name = "Graham Class"
							}
							name = "Graham"
							requested_factories = 1
							progress = 0.5
							amount = 1
							industrial_manufacturer = mio:ENG_harland_wolff_organization
						}
					}
					if = { 
						limit = {
							has_tech = improved_ship_hull_carrier
						}
						create_equipment_variant = {
							name = "Graham Class"				
							name_group = ENG_CV_HISTORICAL
							type = ship_hull_carrier_2
							modules = {
								fixed_ship_deck_slot_1 = ship_deck_space
								fixed_ship_deck_slot_2 = ship_deck_space
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_radar_slot = ship_radar_1
								fixed_ship_engine_slot = carrier_ship_engine_3
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								front_1_custom_slot = ship_deck_space
								mid_1_custom_slot = ship_deck_space
							}
							design_team = mio:ENG_harland_wolff_organization
						}
						add_equipment_production = {
							equipment = {
								type = ship_hull_carrier_2
								creator = "ENG"
								version_name = "Graham Class"
							}
							name = "Graham"
							requested_factories = 1
							progress = 0.5
							amount = 1
							industrial_manufacturer = mio:ENG_harland_wolff_organization
						}
					}
				}

				IF = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}	
					custom_effect_tooltip = generic_skip_one_line_tt
					mio:ENG_harland_wolff_organization = {
						add_mio_size = 1
						add_mio_funds_gain_factor = 0.15
						add_mio_research_bonus = 0.05
					}
				}
			}
		}

		focus = {
			id = ENG_reclaim_the_imperial_mandate
			icon = GFX_ef_goal_generic_god_save_the_king
			prerequisite = { focus = ENG_claim_the_highland_crown focus = ENG_the_german_crown }
			relative_position_id = ENG_claim_the_highland_crown
			x = 7
			y = 1
			available = {
				is_subject = no
				OR = {
				    has_government = neutrality
				    has_government = fascism
			    }
			}
			cost = 5

			search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
			completion_reward = {
				add_stability = 0.05
				add_war_support = 0.05

				custom_effect_tooltip = generic_skip_one_line_tt

				set_rule = { can_send_volunteers = yes }

				custom_effect_tooltip = generic_skip_one_line_tt

				if = {
					limit = {
						NOT = { has_country_flag = ENG_victoria_leader_flag }
					}
					remove_country_leader_trait = inexperienced_imperialist
					add_country_leader_trait = autocratic_imperialist

					custom_effect_tooltip = generic_skip_one_line_tt

					hidden_effect = { #Necessary to keep the traits order
						if = {
							limit = {
								has_country_leader_with_trait = king_of_uk_and_dominions
							}
							remove_country_leader_trait = king_of_uk_and_dominions
							add_country_leader_trait = king_of_uk_and_dominions
						}
						if = {
							limit = {
								has_country_leader_with_trait = eng_emperor_of_india
							}
							remove_country_leader_trait = eng_emperor_of_india
							add_country_leader_trait = eng_emperor_of_india
						}
					}
				}
			}
		}

		focus = {
			id = ENG_retake_the_african_jewel
			prerequisite = { focus = ENG_reclaim_the_imperial_mandate }	
			available = {
				is_subject = no
				country_exists = EGY
				EGY = {
					NOT = {
						is_subject_of = ENG
					}
				}
			}
			bypass = {
				has_war_with = EGY
			}
			will_lead_to_war_with = EGY
			icon = GFX_goal_ef_ENG_take_african_jewel
			x = -3
			y = 1
			relative_position_id = ENG_reclaim_the_imperial_mandate
			cost = 5
			ai_will_do = {
				factor = 1
				modifier = {
					factor = 0
					has_war = yes
				}
			}	
			completion_reward = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = EGY
					expire = 0
				}
			}
			search_filters = { FOCUS_FILTER_ANNEXATION }
		}

		focus = {
			id = ENG_convene_the_royal_cabinet
			icon = GFX_GENERIC_Cabinet
			prerequisite = { focus = ENG_reclaim_the_imperial_mandate }
			relative_position_id = ENG_reclaim_the_imperial_mandate
			x = -1
			y = 1
			available = {
				is_subject = no
				NOT = { has_decision = ENG_recover_core_decisions }
				OR = {
					has_completed_focus = ENG_imperial_compromise
					has_completed_focus = ENG_tighten_the_imperial_bonds
					has_completed_focus = ENG_claim_the_highland_crown
				}
			}
			cost = 10
			completion_reward = {
				remove_ideas = ENG_the_war_to_end_all_wars

				custom_effect_tooltip = generic_skip_one_line_tt

				custom_effect_tooltip = available_political_advisor
			    show_ideas_tooltip = ENG_oswald_mosley
				custom_effect_tooltip = available_political_advisor
			    show_ideas_tooltip = ENG_david_lloyd_george
			}
		}

		focus = {
		    id = ENG_reorganize_the_home_guard
			icon = {
				trigger = { 
					has_completed_focus = ENG_the_german_crown
				}
				value = GFX_goal_ENG_german_home_guard
			}
			icon = {
				trigger = { 
					has_completed_focus = ENG_proclaim_new_union
				}
				value = GFX_goal_ENG_scottish_home_guard
			}
			icon = {
				value = GFX_goal_ENG_home_guard
			}

			dynamic = yes
			
		    x = 0
		    y = 1
		    prerequisite = {
		    	focus = ENG_convene_the_royal_cabinet
		    }
		    relative_position_id = ENG_convene_the_royal_cabinet
		    cost = 5
		    ai_will_do = {
		    	factor = 1
		    }
		    available = {
				OR = {
					threat > 0.2
					has_war_with_major = yes
				}
		    }

		    completion_reward = {
		    	add_ideas = ENG_home_guard_alt
		    }
	    }

		focus = {
		    id = ENG_restore_imperial_prerogatives
		    icon = GFX_focus_generic_home_defense
		    x = 1
		    y = 1
		    prerequisite = {
		    	focus = ENG_reclaim_the_imperial_mandate
		    }
		    relative_position_id = ENG_reclaim_the_imperial_mandate
		    cost = 5
		    ai_will_do = {
		    	factor = 1
		    }
		    available = {
		    }

			search_filters = { FOCUS_FILTER_STABILITY }
		    completion_reward = {
				add_stability = 0.05

				custom_effect_tooltip = generic_skip_one_line_tt

		    	add_ideas = ENG_strong_empire_idea
		    }
	    }

		focus = {
		    id = ENG_consolidate_the_loyal_dominions
		    icon = GFX_goal_consolidating_coalitionv2
		    x = 0
		    y = 1
		    prerequisite = {
		    	focus = ENG_restore_imperial_prerogatives
		    }
		    relative_position_id = ENG_restore_imperial_prerogatives
		    cost = 5
		    ai_will_do = {
		    	factor = 1
		    }
		    available = {
				num_subjects > 0
		    }

			bypass = {
				num_subjects < 1
			}

		    completion_reward = {
		    	every_country = {
					limit = {  
						NOT = { has_completed_focus = ENG_revisit_colonial_policy }
						NOT = {
							tag = POR
							tag = PER
						}
						is_subject_of = ENG
						is_in_tech_sharing_group = commonwealth_research
					}
					random_core_state = {
						limit = {
							is_fully_controlled_by = PREV
							is_in_home_area = yes
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}

					custom_effect_tooltip = generic_skip_one_line_tt

					add_timed_idea = { idea = ENG_british_development_alt days = 180 }
				}
		    }
	    }

		focus = {
			id = ENG_imperial_conscription2
			prerequisite = { focus = ENG_consolidate_the_loyal_dominions }
			prerequisite = { focus = ENG_reorganize_the_home_guard }
			available = {
			}
			icon = GFX_GBR_britannia
			x = -1
			y = 1
			relative_position_id = ENG_consolidate_the_loyal_dominions
			cost = 5
			ai_will_do = {
				factor = 1
			}
			search_filters = { FOCUS_FILTER_MANPOWER }	
			completion_reward = {
				add_ideas = ENG_imperial_conscription_idea

				custom_effect_tooltip = generic_skip_one_line_tt

				every_country = {
					limit = {
						is_subject_of = ENG
					}
					add_ideas = ENG_imperial_conscription_subject_idea
				}
			}
		}

		focus = {
			id = ENG_george_vi
			icon = GFX_goal_ENG_george_vi
			prerequisite = { focus = ENG_pax_britannica }
			relative_position_id = ENG_pax_britannica
			x = 0
			y = 1
			allow_branch = {
				has_country_flag = ENG_george_is_king_flag
			}
			available = {
				is_subject = no
				has_country_leader = { ruling_only = yes name = "George VI" }
			}
			bypass = {
				NOT = { has_country_leader = { ruling_only = yes name = "George VI" } }
			}
			cost = 3
			completion_reward = {
				add_political_power = 75
				add_stability = 0.05
			}
		}

		focus = {
			id = ENG_kings_speech
			icon = GFX_goal_ENG_king_speech
			prerequisite = { focus = ENG_george_vi }
			relative_position_id = ENG_george_vi
			available = {
				is_subject = no
				has_country_leader = { ruling_only = yes name = "George VI" }
			}
			bypass = {
				NOT = { has_country_leader = { ruling_only = yes name = "George VI" } }
			}
			x = 0
			y = 1
			cost = 7
			completion_reward = {
				GER = { add_opinion_modifier = { target = ENG modifier = ENG_spoke_out_against_us } }

				custom_effect_tooltip = generic_skip_one_line_tt

				add_political_power = 50
				remove_country_leader_trait = stammer
			}
		}

		focus = {
			id = ENG_elizabeth_ii
			icon = GFX_goal_ENG_elizabeth
			prerequisite = { focus = ENG_pax_britannica }
			relative_position_id = ENG_pax_britannica
			x = 0
			y = 1
			available = {
				is_subject = no
				has_country_leader = { ruling_only = yes name = "Elizabeth II" }
			}
			allow_branch = {
				has_country_flag = ENG_elizabeth_is_queen_flag
			}
			cost = 3
			completion_reward = {
				add_political_power = 25
				add_command_power = 25
				add_stability = 0.05
			}
		}

		focus = {
			id = ENG_queens_reign
			icon = GFX_GRE_empower_monarchy
			prerequisite = { focus = ENG_elizabeth_ii }
			relative_position_id = ENG_elizabeth_ii
			x = 0
			y = 1
			available = {
				is_subject = no
				has_country_leader = { ruling_only = yes name = "Elizabeth II" }
			}
			cost = 7
			completion_reward = {
				if = {
					limit = {
						has_country_leader_with_trait = inexperienced_monarch
					}
					remove_country_leader_trait = inexperienced_monarch
				}

				custom_effect_tooltip = generic_skip_one_line_tt

				ENG_modify_economy_modifier = yes
				add_to_variable = { 
					ENG_stagnant_industry_modifier_line_change_production_efficiency_factor = 0.05
					tooltip = line_change_production_efficiency_factor_tt
				}
			}
		}
		
}

